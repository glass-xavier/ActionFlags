if(!1===MouseEvent.prototype.hasOwnProperty("pointerType")&&Object.defineProperty(MouseEvent.prototype,"pointerType",{get(){return this.sourceCapabilities.firesTouchEvents?"touch":"mouse"}}),Element.prototype.setPointerCapture){let t=Element.prototype.setPointerCapture;Element.prototype.setPointerCapture=function(e){if(t.call(this,e),!1!==this.hasPointerCapture(e)){{let t,i,s,n=!1,o=!1,a=()=>{this.removeEventListener("pointerup",t),this.removeEventListener("pointercancel",i),this.removeEventListener("lostpointercapture",s)};this.addEventListener("pointerup",t=t=>{t.pointerId===e&&(n=!0,a())}),this.addEventListener("pointercancel",i=t=>{t.pointerId===e&&(o=!0,a())}),this.addEventListener("lostpointercapture",s=t=>{if(t.pointerId===e&&(a(),!1===n&&!1===o)){let t=new PointerEvent("pointercancel",{pointerId:e});this.dispatchEvent(t)}})}{let t,i,s=`* {cursor: ${getComputedStyle(this).cursor} !important; user-select: none !important; -webkit-user-select: none !important;}`,n=[];for(let t=this.parentNode||this.host;t&&t!==document;t=t.parentNode||t.host)if(t.nodeType===document.DOCUMENT_FRAGMENT_NODE){let e=document.createElementNS(t.host.namespaceURI,"style");e.textContent=s,t.append(e),n.push(e)}else if(t.nodeType===document.DOCUMENT_NODE){let e=document.createElement("style");e.textContent=s,t.head.append(e),n.push(e)}this.addEventListener("lostpointercapture",t=s=>{if(s.pointerId===e){this.removeEventListener("lostpointercapture",t),window.removeEventListener("pointerup",i,!0);for(let t of n)t.remove()}}),window.addEventListener("pointerup",i=s=>{if(s.pointerId===e){this.removeEventListener("lostpointercapture",t),window.removeEventListener("pointerup",i,!0);for(let t of n)t.remove()}},!0)}}}}Object.defineProperty(Animation.prototype,"finished",{get(){return new Promise((t=>{"finished"===this.playState?t():this.addEventListener("finish",(()=>t()),{once:!0})}))}}),window.requestIdleCallback||(window.requestIdleCallback=(t,e={})=>{let i=e.timeout||1,s=performance.now();return setTimeout((()=>{t({get didTimeout(){return!e.timeout&&performance.now()-s-1>i},timeRemaining:()=>Math.max(0,performance.now()-s+1)})}),1)}),Object.defineProperty(HTMLHeadingElement.prototype,"disabled",{enumerable:!1,configurable:!1,get(){return this.hasAttribute("disabled")},set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}}),Object.defineProperty(HTMLParagraphElement.prototype,"disabled",{enumerable:!1,configurable:!1,get(){return this.hasAttribute("disabled")},set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}}),Node.prototype.append||(Node.prototype.append=function(t){this.appendChild(t)}),Node.prototype.prepend||(Node.prototype.prepend=function(t){this.insertBefore(t,this.firstElementChild)}),Node.prototype.before||(Node.prototype.before=function(t){this.parentElement.insertBefore(t,this)}),Node.prototype.after||(Node.prototype.after=function(t){this.parentElement.insertBefore(t,this.nextElementSibling)}),Node.prototype.closest||(Node.prototype.closest=function(t){return this.parentNode?this.parentNode.closest(t):null}),Node.prototype.replaceWith||(Node.prototype.replaceWith=function(t){this.parentNode.replaceChild(t,this)});class t{text="";cursor=0;line=1;column=1;#t={cursor:0,line:1,column:1};constructor(t){this.text=t}read(t=1){let e="",i=this.cursor;for(let s=0;s<t;s+=1){let t=this.text[i+s];if(void 0===t)break;e+=t,this.cursor+=1,"\n"===t?(this.line+=1,this.column=1):this.column+=1}return""===e?null:e}peek(t=1){let e="";for(let i=0;i<t;i+=1){let t=this.text[this.cursor+i];if(void 0===t)break;e+=t}return""===e?null:e}eatSpaces(){let t="";for(;" "===this.peek();)t+=this.read();return t}eatWhitespace(){let t="";for(;" "===this.peek()||"\n"===this.peek();)t+=this.read();return t}storePosition(){let{cursor:t,line:e,column:i}=this;this.#t={cursor:t,line:e,column:i}}restorePosition(){let{cursor:t,line:e,column:i}=this.#t;this.cursor=t,this.line=e,this.column=i}}let{max:e,pow:i,sqrt:s,PI:n}=Math,o=(t,e=0)=>{let s=i(10,e);return Math.round(t*s)/s},a=(t,e=0)=>new DOMRect(o(t.x,e),o(t.y,e),o(t.width,e),o(t.height,e)),r=(t,e,i=Infinity,s=null)=>(null!==s&&(t=o(t,s)),t<e?t=e:t>i&&(t=i),t),h=t=>{if(isFinite(t)){let e=1,i=0;for(;Math.round(t*e)/e!==t;)e*=10,i+=1;return i}return 0},l=(t,e)=>{let i=e.x-t.x;i*=i;let n=e.y-t.y;return n*=n,s(i+n)},{min:d,max:u,floor:c,pow:p,atan2:m,PI:g,sqrt:b}=Math,f=(t,e,i)=>{let s,n,o,a=u(t/=255,e/=255,i/=255),h=d(t,e,i);if(s=n=o=(a+h)/2,a===h)s=n=0;else{let r=a-h;if(n=o>.5?r/(2-a-h):r/(a+h),a===t){let t;t=e<i?6:0,s=(e-i)/r+t}else a===e?s=(i-t)/r+2:a===i&&(s=(t-e)/r+4)}return s=r(s/6*360,0,360,0),n=r(100*n,0,100,1),o=r(100*o,0,100,1),[s,n,o]},x=(t,e,i)=>{let s,n,o;if(t/=360,i/=100,0===(e/=100))s=n=o=i;else{let a,r,h=(t,e,i)=>(i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t);a=i<.5?i*(1+e):i+e-i*e,r=2*i-a,s=h(r,a,t+1/3),n=h(r,a,t),o=h(r,a,t-1/3)}return s=r(255*s,0,255,0),n=r(255*n,0,255,0),o=r(255*o,0,255,0),[s,n,o]},w=(t,e,i)=>{e/=100,i/=100;let s=c(6*(t/=360)),n=6*t-s,o=i*(1-e),a=i*(1-n*e),r=i*(1-(1-n)*e),h=0,l=0,d=0;return s%6==0?(h=i,l=r,d=o):s%6==1?(h=a,l=i,d=o):s%6==2?(h=o,l=i,d=r):s%6==3?(h=o,l=a,d=i):s%6==4?(h=r,l=o,d=i):s%6==5&&(h=i,l=o,d=a),h*=255,l*=255,d*=255,[h,l,d]},v=(t,e="rgba",i="hex")=>{let s=null;if(["rgb","rgba","rgb%","rgba%","hex"].includes(i)){let n,o,a,h;if("rgba"===e?[n,o,a,h]=t:"hsla"===e?([n,o,a]=x(...t),h=t[3]):"hsva"===e&&([n,o,a]=w(...t),h=t[3]),"rgb%"===i||"rgba%"===i?(n=r(n/255*100,0,100,1),o=r(o/255*100,0,100,1),a=r(a/255*100,0,100,1),h=r(h,0,1,2)):(n=r(n,0,255,0),o=r(o,0,255,0),a=r(a,0,255,0),h=r(h,0,1,2)),"rgb"===i)s=`rgb(${n}, ${o}, ${a})`;else if("rgba"===i)s=`rgba(${n}, ${o}, ${a}, ${h})`;else if("rgb%"===i)s=`rgb(${n}%, ${o}%, ${a}%)`;else if("rgba%"===i)s=`rgb(${n}%, ${o}%, ${a}%, ${h})`;else if("hex"===i){let t=n.toString(16),e=o.toString(16),i=a.toString(16);1===t.length&&(t="0"+t),1===e.length&&(e="0"+e),1===i.length&&(i="0"+i),s="#"+t+e+i}}else if("hsl"===i||"hsla"===i){let n,o,a,h;"hsla"===e?[n,o,a,h]=t:"hsva"===e?([n,o,a]=((t,e,i)=>{let s=t/=360,n=(2-(e/=100))*(i/=100),o=e*i;return n<=1?0===n?o=0:o/=n:2===n?o=0:o/=2-n,n/=2,s*=360,o=100*u(0,d(1,o)),n=100*u(0,d(1,n)),[s,o,n]})(...t),h=t[3]):"rgba"===e&&([n,o,a]=f(...t),h=t[3]),n=r(n,0,360,0),o=r(o,0,100,1),a=r(a,0,100,1),h=r(h,0,1,2),"hsl"===i?s=`hsl(${n}, ${o}%, ${a}%)`:"hsla"===i&&(s=`hsla(${n}, ${o}%, ${a}%, ${h})`)}return s},y=(t,e)=>{let i=e.startsWith("hsl")?"hsla":"rgba",s=(new S).parse(t,i);return v(s,i,e)},k=t=>{if("#"!==(t=t.toLowerCase())[0])return!1;if(4!==t.length&&7!==t.length)return!1;t=t.substring(1);let e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];for(let i of t)if(!e.includes(i))return!1;return!0},C=()=>new Promise((t=>{if(C.url)t(C.url);else if(C.callbacks)C.callbacks.push(t);else{C.callbacks=[t];let e=300,i=document.createElement("canvas"),s=i.getContext("2d"),n=s.createImageData(e,e),o=n.data,a=e/2,r=0;i.width=e,i.height=e;for(let t=0;t<e;t++)for(let i=0;i<e;i++){let e=i-a,s=t-a,n=p(e,2)+p(s,2),h=(m(s,e)+g)/(2*g)*360,l=b(n)/a*100,[d,u,c]=w(h,l,100),f=n>p(a,2)?0:255;o[r++]=d,o[r++]=u,o[r++]=c,o[r++]=f}s.putImageData(n,0,0),i.toBlob((t=>{C.url=URL.createObjectURL(t);for(let t of C.callbacks)t(C.url)}))}})),{parseFloat:E,parseInt:z}=Number;class S{static#e={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};parse(t,e="rgba"){t=t.trim();let i=this.#i(t),s=null,n=null;if(7===i.length&&"rgb("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"NUM"===i[3].type&&","===i[4].text&&"NUM"===i[5].type&&")"===i[6].text)s=[E(i[1].text),E(i[3].text),E(i[5].text),1];else if(7===i.length&&"rgb("===i[0].text&&"PERCENTAGE"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&")"===i[6].text)s=[E(i[1].text)/100*255,E(i[3].text)/100*255,E(i[5].text)/100*255,1];else if(9===i.length&&"rgba("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"NUM"===i[3].type&&","===i[4].text&&"NUM"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)s=[E(i[1].text),E(i[3].text),E(i[5].text),E(i[7].text)];else if(9===i.length&&"rgb("===i[0].text&&"PERCENTAGE"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)s=[E(i[1].text)/100*255,E(i[3].text)/100*255,E(i[5].text)/100*255,E(i[7].text)];else if(7===i.length&&"hsl("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&")"===i[6].text)n=[E(i[1].text),E(i[3].text),E(i[5].text),1];else if(9===i.length&&"hsla("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)n=[E(i[1].text),E(i[3].text),E(i[5].text),E(i[7].text)];else if("HEX"===i[0].type&&void 0===i[1]){let t,e,n,o=i[0].text.substring(1);3===o.length?(t=o[0]+o[0],e=o[1]+o[1],n=o[2]+o[2]):(t=o[0]+o[1],e=o[2]+o[3],n=o[4]+o[5]),s=[z(t,16),z(e,16),z(n,16),1]}else S.#e[t]&&(s=[S.#e[t][0],S.#e[t][1],S.#e[t][2],1]);if(s){let[t,i,n,o]=s;if(t=r(t,0,255,0),i=r(i,0,255,0),n=r(n,0,255,0),o=r(o,0,1,2),"hsla"===e){let[e,s,a]=f(t,i,n);return[e,s,a,o]}if("hsva"===e){let[e,s,a]=((t,e,i)=>{let s=u(t/=255,e/=255,i/=255),n=d(t,e,i),o=0,a=0,r=s,h=s-n;return a=0===s?0:h/s,s===n?o=0:(s===t?o=(e-i)/h+(e<i?6:0):s===e?o=(i-t)/h+2:s===i&&(o=(t-e)/h+4),o/=6),o*=360,a*=100,r*=100,[o,a,r]})(t,i,n);return[e,s,a,o]}return[t,i,n,o]}if(n){let[t,i,s,o]=n;if(t=r(t,0,360,0),i=r(i,0,100,1),s=r(s,0,100,1),o=r(o,0,1,2),"hsla"===e)return[t,i,s,o];if("hsva"===e){let[e,n,a]=((t,e,i)=>{e/=100;let s,n,o=t/=360;return s=(i=i/100*2)+(e*=i<=1?i:2-i)==0?0:2*e/(i+e),n=(i+e)/2,o*=360,s=100*u(0,d(1,s)),n=100*u(0,d(1,n)),[o,s,n]})(t,i,s);return[e,n,a,o]}{let[e,n,a]=x(t,i,s);return[e,n,a,o]}}throw new Error(`Invalid color string: "${t}"`)}#i(e){let i=[],s=new t(e.toLowerCase());for(;null!==s.peek();){let t=s.read();(()=>{if("r"===t||"h"===t){let e=t;if(t+s.peek(3)==="rgb("?e+=s.read(3):t+s.peek(4)==="rgba("?e+=s.read(4):t+s.peek(3)==="hsl("?e+=s.read(3):t+s.peek(4)==="hsla("&&(e+=s.read(4)),e!==t)return void i.push({type:"FUNCTION",text:e})}if("#"===t){if(k(t+s.peek(6))){let e=t+s.read(6);return void i.push({type:"HEX",text:e})}if(k(t+s.peek(3))){let e=t+s.read(3);return void i.push({type:"HEX",text:e})}}if(["0","1","2","3","4","5","6","7","8","9",".","-"].includes(t)){let e=t;for(;["0","1","2","3","4","5","6","7","8","9","."].includes(s.peek());)e+=s.read();"%"===s.peek()?(e+=s.read(),i.push({type:"PERCENTAGE",text:e})):i.push({type:"NUM",text:e})}else/\u0009|\u000a|\u000c|\u000d|\u0020/.test(t)||i.push({type:"CHAR",text:t})})()}return i}}function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function L(t,e){return L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},L(t,e)}function T(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function M(t,e,i){return M=T()?Reflect.construct:function(t,e,i){var s=[null];s.push.apply(s,e);var n=new(Function.bind.apply(t,s));return i&&L(n,i.prototype),n},M.apply(null,arguments)}function D(t){return function(t){if(Array.isArray(t))return P(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return P(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return P(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}var R=Object.hasOwnProperty,$=Object.setPrototypeOf,I=Object.isFrozen,O=Object.getPrototypeOf,F=Object.getOwnPropertyDescriptor,N=Object.freeze,B=Object.seal,j=Object.create,H="undefined"!=typeof Reflect&&Reflect,U=H.apply,q=H.construct;U||(U=function(t,e,i){return t.apply(e,i)}),N||(N=function(t){return t}),B||(B=function(t){return t}),q||(q=function(t,e){return M(t,D(e))});var K,V=et(Array.prototype.forEach),X=et(Array.prototype.pop),Z=et(Array.prototype.push),G=et(String.prototype.toLowerCase),W=et(String.prototype.match),Y=et(String.prototype.replace),_=et(String.prototype.indexOf),J=et(String.prototype.trim),Q=et(RegExp.prototype.test),tt=(K=TypeError,function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return q(K,e)});function et(t){return function(e){for(var i=arguments.length,s=new Array(i>1?i-1:0),n=1;n<i;n++)s[n-1]=arguments[n];return U(t,e,s)}}function it(t,e,i){i=i||G,$&&$(t,null);for(var s=e.length;s--;){var n=e[s];if("string"==typeof n){var o=i(n);o!==n&&(I(e)||(e[s]=o),n=o)}t[n]=!0}return t}function st(t){var e,i=j(null);for(e in t)U(R,t,[e])&&(i[e]=t[e]);return i}function nt(t,e){for(;null!==t;){var i=F(t,e);if(i){if(i.get)return et(i.get);if("function"==typeof i.value)return et(i.value)}t=O(t)}return function(t){return console.warn("fallback value for",t),null}}var ot=N(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),at=N(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),rt=N(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ht=N(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),lt=N(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),dt=N(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ut=N(["#text"]),ct=N(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),pt=N(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mt=N(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),gt=N(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),bt=B(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ft=B(/<%[\w\W]*|[\w\W]*%>/gm),xt=B(/^data-[\-\w.\u00B7-\uFFFF]/),wt=B(/^aria-[\-\w]+$/),vt=B(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),yt=B(/^(?:\w+script|data):/i),kt=B(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ct=B(/^html$/i),Et=function(){return"undefined"==typeof window?null:window},zt=function(t,e){if("object"!==A(t)||"function"!=typeof t.createPolicy)return null;var i=null,s="data-tt-policy-suffix";e.currentScript&&e.currentScript.hasAttribute(s)&&(i=e.currentScript.getAttribute(s));var n="dompurify"+(i?"#"+i:"");try{return t.createPolicy(n,{createHTML:function(t){return t},createScriptURL:function(t){return t}})}catch(t){return console.warn("TrustedTypes policy "+n+" could not be created."),null}};var St=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et(),i=function(e){return t(e)};if(i.version="2.4.0",i.removed=[],!e||!e.document||9!==e.document.nodeType)return i.isSupported=!1,i;var s=e.document,n=e.document,o=e.DocumentFragment,a=e.HTMLTemplateElement,r=e.Node,h=e.Element,l=e.NodeFilter,d=e.NamedNodeMap,u=void 0===d?e.NamedNodeMap||e.MozNamedAttrMap:d,c=e.HTMLFormElement,p=e.DOMParser,m=e.trustedTypes,g=h.prototype,b=nt(g,"cloneNode"),f=nt(g,"nextSibling"),x=nt(g,"childNodes"),w=nt(g,"parentNode");if("function"==typeof a){var v=n.createElement("template");v.content&&v.content.ownerDocument&&(n=v.content.ownerDocument)}var y=zt(m,s),k=y?y.createHTML(""):"",C=n,E=C.implementation,z=C.createNodeIterator,S=C.createDocumentFragment,L=C.getElementsByTagName,T=s.importNode,M={};try{M=st(n).documentMode?n.documentMode:{}}catch(t){}var P={};i.isSupported="function"==typeof w&&E&&void 0!==E.createHTMLDocument&&9!==M;var R,$,I=bt,O=ft,F=xt,B=wt,j=yt,H=kt,U=vt,q=null,K=it({},[].concat(D(ot),D(at),D(rt),D(lt),D(ut))),et=null,St=it({},[].concat(D(ct),D(pt),D(mt),D(gt))),At=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Lt=null,Tt=null,Mt=!0,Dt=!0,Pt=!1,Rt=!1,$t=!1,It=!1,Ot=!1,Ft=!1,Nt=!1,Bt=!1,jt=!0,Ht=!1,Ut="user-content-",qt=!0,Kt=!1,Vt={},Xt=null,Zt=it({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Gt=null,Wt=it({},["audio","video","img","source","image","track"]),Yt=null,_t=it({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Jt="http://www.w3.org/1998/Math/MathML",Qt="http://www.w3.org/2000/svg",te="http://www.w3.org/1999/xhtml",ee=te,ie=!1,se=["application/xhtml+xml","text/html"],ne="text/html",oe=null,ae=n.createElement("form"),re=function(t){return t instanceof RegExp||t instanceof Function},he=function(t){oe&&oe===t||(t&&"object"===A(t)||(t={}),t=st(t),R=R=-1===se.indexOf(t.PARSER_MEDIA_TYPE)?ne:t.PARSER_MEDIA_TYPE,$="application/xhtml+xml"===R?function(t){return t}:G,q="ALLOWED_TAGS"in t?it({},t.ALLOWED_TAGS,$):K,et="ALLOWED_ATTR"in t?it({},t.ALLOWED_ATTR,$):St,Yt="ADD_URI_SAFE_ATTR"in t?it(st(_t),t.ADD_URI_SAFE_ATTR,$):_t,Gt="ADD_DATA_URI_TAGS"in t?it(st(Wt),t.ADD_DATA_URI_TAGS,$):Wt,Xt="FORBID_CONTENTS"in t?it({},t.FORBID_CONTENTS,$):Zt,Lt="FORBID_TAGS"in t?it({},t.FORBID_TAGS,$):{},Tt="FORBID_ATTR"in t?it({},t.FORBID_ATTR,$):{},Vt="USE_PROFILES"in t&&t.USE_PROFILES,Mt=!1!==t.ALLOW_ARIA_ATTR,Dt=!1!==t.ALLOW_DATA_ATTR,Pt=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Rt=t.SAFE_FOR_TEMPLATES||!1,$t=t.WHOLE_DOCUMENT||!1,Ft=t.RETURN_DOM||!1,Nt=t.RETURN_DOM_FRAGMENT||!1,Bt=t.RETURN_TRUSTED_TYPE||!1,Ot=t.FORCE_BODY||!1,jt=!1!==t.SANITIZE_DOM,Ht=t.SANITIZE_NAMED_PROPS||!1,qt=!1!==t.KEEP_CONTENT,Kt=t.IN_PLACE||!1,U=t.ALLOWED_URI_REGEXP||U,ee=t.NAMESPACE||te,t.CUSTOM_ELEMENT_HANDLING&&re(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(At.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&re(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(At.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(At.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Rt&&(Dt=!1),Nt&&(Ft=!0),Vt&&(q=it({},D(ut)),et=[],!0===Vt.html&&(it(q,ot),it(et,ct)),!0===Vt.svg&&(it(q,at),it(et,pt),it(et,gt)),!0===Vt.svgFilters&&(it(q,rt),it(et,pt),it(et,gt)),!0===Vt.mathMl&&(it(q,lt),it(et,mt),it(et,gt))),t.ADD_TAGS&&(q===K&&(q=st(q)),it(q,t.ADD_TAGS,$)),t.ADD_ATTR&&(et===St&&(et=st(et)),it(et,t.ADD_ATTR,$)),t.ADD_URI_SAFE_ATTR&&it(Yt,t.ADD_URI_SAFE_ATTR,$),t.FORBID_CONTENTS&&(Xt===Zt&&(Xt=st(Xt)),it(Xt,t.FORBID_CONTENTS,$)),qt&&(q["#text"]=!0),$t&&it(q,["html","head","body"]),q.table&&(it(q,["tbody"]),delete Lt.tbody),N&&N(t),oe=t)},le=it({},["mi","mo","mn","ms","mtext"]),de=it({},["foreignobject","desc","title","annotation-xml"]),ue=it({},["title","style","font","a","script"]),ce=it({},at);it(ce,rt),it(ce,ht);var pe=it({},lt);it(pe,dt);var me=function(t){var e=w(t);e&&e.tagName||(e={namespaceURI:te,tagName:"template"});var i=G(t.tagName),s=G(e.tagName);return t.namespaceURI===Qt?e.namespaceURI===te?"svg"===i:e.namespaceURI===Jt?"svg"===i&&("annotation-xml"===s||le[s]):Boolean(ce[i]):t.namespaceURI===Jt?e.namespaceURI===te?"math"===i:e.namespaceURI===Qt?"math"===i&&de[s]:Boolean(pe[i]):t.namespaceURI===te&&(!(e.namespaceURI===Qt&&!de[s])&&(!(e.namespaceURI===Jt&&!le[s])&&(!pe[i]&&(ue[i]||!ce[i]))))},ge=function(t){Z(i.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){try{t.outerHTML=k}catch(e){t.remove()}}},be=function(t,e){try{Z(i.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){Z(i.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!et[t])if(Ft||Nt)try{ge(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},fe=function(t){var e,i;if(Ot)t="<remove></remove>"+t;else{var s=W(t,/^[\r\n\t ]+/);i=s&&s[0]}"application/xhtml+xml"===R&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");var o=y?y.createHTML(t):t;if(ee===te)try{e=(new p).parseFromString(o,R)}catch(t){}if(!e||!e.documentElement){e=E.createDocument(ee,"template",null);try{e.documentElement.innerHTML=ie?"":o}catch(t){}}var a=e.body||e.documentElement;return t&&i&&a.insertBefore(n.createTextNode(i),a.childNodes[0]||null),ee===te?L.call(e,$t?"html":"body")[0]:$t?e.documentElement:a},xe=function(t){return z.call(t.ownerDocument||t,t,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},we=function(t){return t instanceof c&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof u)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore)},ve=function(t){return"object"===A(r)?t instanceof r:t&&"object"===A(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},ye=function(t,e,s){P[t]&&V(P[t],(function(t){t.call(i,e,s,oe)}))},ke=function(t){var e;if(ye("beforeSanitizeElements",t,null),we(t))return ge(t),!0;if(Q(/[\u0080-\uFFFF]/,t.nodeName))return ge(t),!0;var s=$(t.nodeName);if(ye("uponSanitizeElement",t,{tagName:s,allowedTags:q}),t.hasChildNodes()&&!ve(t.firstElementChild)&&(!ve(t.content)||!ve(t.content.firstElementChild))&&Q(/<[/\w]/g,t.innerHTML)&&Q(/<[/\w]/g,t.textContent))return ge(t),!0;if("select"===s&&Q(/<template/i,t.innerHTML))return ge(t),!0;if(!q[s]||Lt[s]){if(!Lt[s]&&Ee(s)){if(At.tagNameCheck instanceof RegExp&&Q(At.tagNameCheck,s))return!1;if(At.tagNameCheck instanceof Function&&At.tagNameCheck(s))return!1}if(qt&&!Xt[s]){var n=w(t)||t.parentNode,o=x(t)||t.childNodes;if(o&&n)for(var a=o.length-1;a>=0;--a)n.insertBefore(b(o[a],!0),f(t))}return ge(t),!0}return t instanceof h&&!me(t)?(ge(t),!0):"noscript"!==s&&"noembed"!==s||!Q(/<\/no(script|embed)/i,t.innerHTML)?(Rt&&3===t.nodeType&&(e=t.textContent,e=Y(e,I," "),e=Y(e,O," "),t.textContent!==e&&(Z(i.removed,{element:t.cloneNode()}),t.textContent=e)),ye("afterSanitizeElements",t,null),!1):(ge(t),!0)},Ce=function(t,e,i){if(jt&&("id"===e||"name"===e)&&(i in n||i in ae))return!1;if(Dt&&!Tt[e]&&Q(F,e));else if(Mt&&Q(B,e));else if(!et[e]||Tt[e]){if(!(Ee(t)&&(At.tagNameCheck instanceof RegExp&&Q(At.tagNameCheck,t)||At.tagNameCheck instanceof Function&&At.tagNameCheck(t))&&(At.attributeNameCheck instanceof RegExp&&Q(At.attributeNameCheck,e)||At.attributeNameCheck instanceof Function&&At.attributeNameCheck(e))||"is"===e&&At.allowCustomizedBuiltInElements&&(At.tagNameCheck instanceof RegExp&&Q(At.tagNameCheck,i)||At.tagNameCheck instanceof Function&&At.tagNameCheck(i))))return!1}else if(Yt[e]);else if(Q(U,Y(i,H,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==_(i,"data:")||!Gt[t]){if(Pt&&!Q(j,Y(i,H,"")));else if(i)return!1}else;return!0},Ee=function(t){return t.indexOf("-")>0},ze=function(t){var e,s,n,o;ye("beforeSanitizeAttributes",t,null);var a=t.attributes;if(a){var r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:et};for(o=a.length;o--;){var h=e=a[o],l=h.name,d=h.namespaceURI;if(s="value"===l?e.value:J(e.value),n=$(l),r.attrName=n,r.attrValue=s,r.keepAttr=!0,r.forceKeepAttr=void 0,ye("uponSanitizeAttribute",t,r),s=r.attrValue,!r.forceKeepAttr&&(be(l,t),r.keepAttr))if(Q(/\/>/i,s))be(l,t);else{Rt&&(s=Y(s,I," "),s=Y(s,O," "));var u=$(t.nodeName);if(Ce(u,n,s)){if(!Ht||"id"!==n&&"name"!==n||(be(l,t),s=Ut+s),y&&"object"===A(m)&&"function"==typeof m.getAttributeType)if(d);else switch(m.getAttributeType(u,n)){case"TrustedHTML":s=y.createHTML(s);break;case"TrustedScriptURL":s=y.createScriptURL(s)}try{d?t.setAttributeNS(d,l,s):t.setAttribute(l,s),X(i.removed)}catch(t){}}}}ye("afterSanitizeAttributes",t,null)}},Se=function t(e){var i,s=xe(e);for(ye("beforeSanitizeShadowDOM",e,null);i=s.nextNode();)ye("uponSanitizeShadowNode",i,null),ke(i)||(i.content instanceof o&&t(i.content),ze(i));ye("afterSanitizeShadowDOM",e,null)};return i.sanitize=function(t){var n,a,h,l,d,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((ie=!t)&&(t="\x3c!--\x3e"),"string"!=typeof t&&!ve(t)){if("function"!=typeof t.toString)throw tt("toString is not a function");if("string"!=typeof(t=t.toString()))throw tt("dirty is not a string, aborting")}if(!i.isSupported){if("object"===A(e.toStaticHTML)||"function"==typeof e.toStaticHTML){if("string"==typeof t)return e.toStaticHTML(t);if(ve(t))return e.toStaticHTML(t.outerHTML)}return t}if(It||he(u),i.removed=[],"string"==typeof t&&(Kt=!1),Kt){if(t.nodeName){var c=$(t.nodeName);if(!q[c]||Lt[c])throw tt("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof r)1===(a=(n=fe("\x3c!----\x3e")).ownerDocument.importNode(t,!0)).nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?n=a:n.appendChild(a);else{if(!Ft&&!Rt&&!$t&&-1===t.indexOf("<"))return y&&Bt?y.createHTML(t):t;if(!(n=fe(t)))return Ft?null:Bt?k:""}n&&Ot&&ge(n.firstChild);for(var p=xe(Kt?t:n);h=p.nextNode();)3===h.nodeType&&h===l||ke(h)||(h.content instanceof o&&Se(h.content),ze(h),l=h);if(l=null,Kt)return t;if(Ft){if(Nt)for(d=S.call(n.ownerDocument);n.firstChild;)d.appendChild(n.firstChild);else d=n;return et.shadowroot&&(d=T.call(s,d,!0)),d}var m=$t?n.outerHTML:n.innerHTML;return $t&&q["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&Q(Ct,n.ownerDocument.doctype.name)&&(m="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+m),Rt&&(m=Y(m,I," "),m=Y(m,O," ")),y&&Bt?y.createHTML(m):m},i.setConfig=function(t){he(t),It=!0},i.clearConfig=function(){oe=null,It=!1},i.isValidAttribute=function(t,e,i){oe||he({});var s=$(t),n=$(e);return Ce(s,n,i)},i.addHook=function(t,e){"function"==typeof e&&(P[t]=P[t]||[],Z(P[t],e))},i.removeHook=function(t){if(P[t])return X(P[t])},i.removeHooks=function(t){P[t]&&(P[t]=[])},i.removeAllHooks=function(){P={}},i}();let At=(t,e,i=!1)=>{if(t.length!==e.length)return!1;if(i)for(let i in t){if(t[i]!==e[i])return!1}else{for(let i=0;i<t.length;i+=1)if(!e.includes(t[i]))return!1;for(let i=0;i<e.length;i+=1)if(!t.includes(e[i]))return!1}return!0},Lt=document.createElement("template"),Tt=(t,...e)=>{let i=[];for(let s=0;s<t.length;s+=1)i.push(t[s]),void 0!==e[s]&&i.push(e[s]);let s=i.join("");Lt.innerHTML=s;let n=document.importNode(Lt.content,!0);return 1===n.children.length?n.firstElementChild:n},Mt=(t,...e)=>{let i=[];for(let s=0;s<t.length;s+=1)i.push(t[s]),void 0!==e[s]&&i.push(e[s]);let s=i.join(""),n=new CSSStyleSheet;return n.replaceSync(s),n},Dt=(t,...e)=>{let i=[];for(let s=0;s<t.length;s+=1)i.push(t[s]),void 0!==e[s]&&i.push(e[s]);let s=`<svg id="x-stub" xmlns="http://www.w3.org/2000/svg">${i.join("")}</svg>`;Lt.innerHTML=s;let n=document.importNode(Lt.content,!0),o=n.querySelector("svg#x-stub");if(1===o.children.length)return o.firstElementChild;for(let t of[...o.childNodes])n.appendChild(t);return o.remove(),n},Pt={},Rt=t=>new Promise((async e=>{if(Pt[t])Pt[t].iconset?e(Pt[t].iconset):Pt[t].callbacks.push(e);else{Pt[t]={callbacks:[e],iconset:null};let i=null;try{i=await(await fetch(t)).text()}catch(t){i=null}if(i){Pt[t].iconset=Dt`${i}`;for(let e of Pt[t].callbacks)e(Pt[t].iconset)}else console.error(`Xel failed to fetch the iconset: ${t}`)}}));class $t{constructor(t){this.value=t}valueOf(){return this.value}}class It extends $t{constructor(t="???"){super(t)}toString(t){return`{${this.value}}`}}class Ot extends $t{constructor(t,e={}){super(t),this.opts=e}toString(t){try{return t.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(e){return t.reportError(e),this.value.toString(10)}}}class Ft extends $t{constructor(t,e={}){super(t),this.opts=e}toString(t){try{return t.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(e){return t.reportError(e),new Date(this.value).toISOString()}}}function Nt(t,e,i){if(i===e)return!0;if(i instanceof Ot&&e instanceof Ot&&i.value===e.value)return!0;if(e instanceof Ot&&"string"==typeof i){if(i===t.memoizeIntlObject(Intl.PluralRules,e.opts).select(e.value))return!0}return!1}function Bt(t,e,i){return e[i]?qt(t,e[i].value):(t.reportError(new RangeError("No default")),new It)}function jt(t,e){const i=[],s=Object.create(null);for(const n of e)"narg"===n.type?s[n.name]=Ht(t,n.value):i.push(Ht(t,n));return{positional:i,named:s}}function Ht(t,e){switch(e.type){case"str":return e.value;case"num":return new Ot(e.value,{minimumFractionDigits:e.precision});case"var":return function(t,{name:e}){let i;if(t.params){if(!Object.prototype.hasOwnProperty.call(t.params,e))return new It(`$${e}`);i=t.params[e]}else{if(!t.args||!Object.prototype.hasOwnProperty.call(t.args,e))return t.reportError(new ReferenceError(`Unknown variable: $${e}`)),new It(`$${e}`);i=t.args[e]}if(i instanceof $t)return i;switch(typeof i){case"string":return i;case"number":return new Ot(i);case"object":if(i instanceof Date)return new Ft(i.getTime());default:return t.reportError(new TypeError(`Variable type not supported: $${e}, ${typeof i}`)),new It(`$${e}`)}}(t,e);case"mesg":return function(t,{name:e,attr:i}){const s=t.bundle.t.get(e);if(!s)return t.reportError(new ReferenceError(`Unknown message: ${e}`)),new It(e);if(i){const n=s.attributes[i];return n?qt(t,n):(t.reportError(new ReferenceError(`Unknown attribute: ${i}`)),new It(`${e}.${i}`))}if(s.value)return qt(t,s.value);return t.reportError(new ReferenceError(`No value: ${e}`)),new It(e)}(t,e);case"term":return function(t,{name:e,attr:i,args:s}){const n=`-${e}`,o=t.bundle.i.get(n);if(!o)return t.reportError(new ReferenceError(`Unknown term: ${n}`)),new It(n);if(i){const e=o.attributes[i];if(e){t.params=jt(t,s).named;const i=qt(t,e);return t.params=null,i}return t.reportError(new ReferenceError(`Unknown attribute: ${i}`)),new It(`${n}.${i}`)}t.params=jt(t,s).named;const a=qt(t,o.value);return t.params=null,a}(t,e);case"func":return function(t,{name:e,args:i}){let s=t.bundle.o[e];if(!s)return t.reportError(new ReferenceError(`Unknown function: ${e}()`)),new It(`${e}()`);if("function"!=typeof s)return t.reportError(new TypeError(`Function ${e}() is not callable`)),new It(`${e}()`);try{let e=jt(t,i);return s(e.positional,e.named)}catch(i){return t.reportError(i),new It(`${e}()`)}}(t,e);case"select":return function(t,{selector:e,variants:i,star:s}){let n=Ht(t,e);if(n instanceof It)return Bt(t,i,s);for(const e of i){if(Nt(t,n,Ht(t,e.key)))return qt(t,e.value)}return Bt(t,i,s)}(t,e);default:return new It}}function Ut(t,e){if(t.dirty.has(e))return t.reportError(new RangeError("Cyclic reference")),new It;t.dirty.add(e);const i=[],s=t.bundle.h&&e.length>1;for(const n of e)if("string"!=typeof n){if(t.placeables++,t.placeables>100)throw t.dirty.delete(e),new RangeError(`Too many placeables expanded: ${t.placeables}, max allowed is 100`);s&&i.push("⁨"),i.push(Ht(t,n).toString(t)),s&&i.push("⁩")}else i.push(t.bundle.l(n));return t.dirty.delete(e),i.join("")}function qt(t,e){return"string"==typeof e?t.bundle.l(e):Ut(t,e)}class Kt{constructor(t,e,i){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=t,this.errors=e,this.args=i}reportError(t){if(!(this.errors&&t instanceof Error))throw t;this.errors.push(t)}memoizeIntlObject(t,e){let i=this.bundle.u.get(t);i||(i={},this.bundle.u.set(t,i));let s=JSON.stringify(e);return i[s]||(i[s]=new t(this.bundle.locales,e)),i[s]}}function Vt(t,e){const i=Object.create(null);for(const[s,n]of Object.entries(t))e.includes(s)&&(i[s]=n.valueOf());return i}const Xt=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function Zt(t,e){let i=t[0];if(i instanceof It)return new It(`NUMBER(${i.valueOf()})`);if(i instanceof Ot)return new Ot(i.valueOf(),{...i.opts,...Vt(e,Xt)});if(i instanceof Ft)return new Ot(i.valueOf(),{...Vt(e,Xt)});throw new TypeError("Invalid argument to NUMBER")}const Gt=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function Wt(t,e){let i=t[0];if(i instanceof It)return new It(`DATETIME(${i.valueOf()})`);if(i instanceof Ft)return new Ft(i.valueOf(),{...i.opts,...Vt(e,Gt)});if(i instanceof Ot)return new Ft(i.valueOf(),{...Vt(e,Gt)});throw new TypeError("Invalid argument to DATETIME")}const Yt=new Map;class _t{constructor(t,{functions:e,useIsolating:i=!0,transform:s=(t=>t)}={}){this.i=new Map,this.t=new Map,this.locales=Array.isArray(t)?t:[t],this.o={NUMBER:Zt,DATETIME:Wt,...e},this.h=i,this.l=s,this.u=function(t){const e=Array.isArray(t)?t.join(" "):t;let i=Yt.get(e);return void 0===i&&(i=new Map,Yt.set(e,i)),i}(t)}hasMessage(t){return this.t.has(t)}getMessage(t){return this.t.get(t)}addResource(t,{allowOverrides:e=!1}={}){const i=[];for(let s=0;s<t.body.length;s++){let n=t.body[s];if(n.id.startsWith("-")){if(!1===e&&this.i.has(n.id)){i.push(new Error(`Attempt to override an existing term: "${n.id}"`));continue}this.i.set(n.id,n)}else{if(!1===e&&this.t.has(n.id)){i.push(new Error(`Attempt to override an existing message: "${n.id}"`));continue}this.t.set(n.id,n)}}return i}formatPattern(t,e=null,i=null){if("string"==typeof t)return this.l(t);let s=new Kt(this,i,e);try{return Ut(s,t).toString(s)}catch(t){if(s.errors&&t instanceof Error)return s.errors.push(t),(new It).toString(s);throw t}}}const Jt=/^(-?[a-zA-Z][\w-]*) *= */gm,Qt=/\.([a-zA-Z][\w-]*) *= */y,te=/\*?\[/y,ee=/(-?[0-9]+(?:\.([0-9]+))?)/y,ie=/([a-zA-Z][\w-]*)/y,se=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,ne=/^[A-Z][A-Z0-9_-]*$/,oe=/([^{}\n\r]+)/y,ae=/([^\\"\n\r]*)/y,re=/\\([\\"])/y,he=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,le=/^\n+/,de=/ +$/,ue=/ *\r?\n/g,ce=/( *)$/,pe=/{\s*/y,me=/\s*}/y,ge=/\[\s*/y,be=/\s*] */y,fe=/\s*\(\s*/y,xe=/\s*->\s*/y,we=/\s*:\s*/y,ve=/\s*,?\s*/y,ye=/\s+/y;class ke{constructor(t){this.body=[],Jt.lastIndex=0;let e=0;for(;;){let i=Jt.exec(t);if(null===i)break;e=Jt.lastIndex;try{this.body.push(r(i[1]))}catch(t){if(t instanceof SyntaxError)continue;throw t}}function i(i){return i.lastIndex=e,i.test(t)}function s(i,s){if(t[e]===i)return e++,!0;if(s)throw new s(`Expected ${i}`);return!1}function n(t,s){if(i(t))return e=t.lastIndex,!0;if(s)throw new s(`Expected ${t.toString()}`);return!1}function o(i){i.lastIndex=e;let s=i.exec(t);if(null===s)throw new SyntaxError(`Expected ${i.toString()}`);return e=i.lastIndex,s}function a(t){return o(t)[1]}function r(t){let e=h(),s=function(){let t=Object.create(null);for(;i(Qt);){let e=a(Qt),i=h();if(null===i)throw new SyntaxError("Expected attribute value");t[e]=i}return t}();if(null===e&&0===Object.keys(s).length)throw new SyntaxError("Expected message value or attributes");return{id:t,value:e,attributes:s}}function h(){let s;if(i(oe)&&(s=a(oe)),"{"===t[e]||"}"===t[e])return l(s?[s]:[],Infinity);let n=f();return n?s?l([s,n],n.length):(n.value=x(n.value,le),l([n],n.length)):s?x(s,de):null}function l(s=[],n){for(;;){if(i(oe)){s.push(a(oe));continue}if("{"===t[e]){s.push(d());continue}if("}"===t[e])throw new SyntaxError("Unbalanced closing brace");let o=f();if(!o)break;s.push(o),n=Math.min(n,o.length)}let o=s.length-1,r=s[o];"string"==typeof r&&(s[o]=x(r,de));let h=[];for(let t of s)t instanceof Ce&&(t=t.value.slice(0,t.value.length-n)),t&&h.push(t);return h}function d(){n(pe,SyntaxError);let t=u();if(n(me))return t;if(n(xe)){let e=function(){let t,e=[],n=0;for(;i(te);){s("*")&&(t=n);let i=p(),o=h();if(null===o)throw new SyntaxError("Expected variant value");e[n++]={key:i,value:o}}if(0===n)return null;if(void 0===t)throw new SyntaxError("Expected default variant");return{variants:e,star:t}}();return n(me,SyntaxError),{type:"select",selector:t,...e}}throw new SyntaxError("Unclosed placeable")}function u(){if("{"===t[e])return d();if(i(se)){let[,i,s,a=null]=o(se);if("$"===i)return{type:"var",name:s};if(n(fe)){let o=function(){let i=[];for(;;){switch(t[e]){case")":return e++,i;case void 0:throw new SyntaxError("Unclosed argument list")}i.push(c()),n(ve)}}();if("-"===i)return{type:"term",name:s,attr:a,args:o};if(ne.test(s))return{type:"func",name:s,args:o};throw new SyntaxError("Function names must be all upper-case")}return"-"===i?{type:"term",name:s,attr:a,args:[]}:{type:"mesg",name:s,attr:a}}return m()}function c(){let t=u();return"mesg"!==t.type?t:n(we)?{type:"narg",name:t.name,value:m()}:t}function p(){let t;return n(ge,SyntaxError),t=i(ee)?g():{type:"str",value:a(ie)},n(be,SyntaxError),t}function m(){if(i(ee))return g();if('"'===t[e])return function(){s('"',SyntaxError);let i="";for(;;){if(i+=a(ae),"\\"!==t[e]){if(s('"'))return{type:"str",value:i};throw new SyntaxError("Unclosed string literal")}i+=b()}}();throw new SyntaxError("Invalid expression")}function g(){let[,t,e=""]=o(ee),i=e.length;return{type:"num",value:parseFloat(t),precision:i}}function b(){if(i(re))return a(re);if(i(he)){let[,t,e]=o(he),i=parseInt(t||e,16);return i<=55295||57344<=i?String.fromCodePoint(i):"�"}throw new SyntaxError("Unknown escape sequence")}function f(){let i=e;switch(n(ye),t[e]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return w(t.slice(i,e))}return" "===t[e-1]&&w(t.slice(i,e))}function x(t,e){return t.replace(e,"")}function w(t){let e=t.replace(ue,"\n"),i=ce.exec(t)[1].length;return new Ce(e,i)}}}class Ce{constructor(t,e){this.value=t,this.length=e}}let Ee,ze,Se=()=>(void 0===ze&&(ze=navigator.userAgent.indexOf("Firefox/")>-1?"gecko":navigator.userAgent.indexOf("Chrome")>-1?"chromium":navigator.userAgent.indexOf("Safari/")>-1?"webkit":"other"),ze),Ae=t=>new Promise(((e,i)=>{setTimeout((()=>e()),t)})),Le=()=>Date.now(),Te=(t,e=500,i)=>{let s=null,n=null,o=null,a=0,r=()=>{a=new Date,n=null,o=t.apply(i,s)};return(...h)=>{let l=new Date,d=e-(l-a);return s=h,d<=0?(clearTimeout(n),n=null,a=l,o=t.apply(i,s)):n||(n=setTimeout(r,d)),o}},Me=(t,e,i,s=!1)=>{let n=null,o=null;return(...a)=>{let r=s&&!n;return clearTimeout(n),n=setTimeout((()=>{n=null,s||(o=t.apply(i,a))}),e),r&&(o=t.apply(i,a)),o}};var De=new class extends class{#s={};addEventListener(t,e){this.#s||(this.#s={});let i=this.#s[t];i||(this.#s[t]=i=[]),i.push(e),i.length>1e4&&console.warn(`Potential EventEmitter memory leak: ${i.length} listeners subscribed to event "${t}"`)}removeEventListener(t,e){if(this.#s&&this.#s[t]){for(var i=[],s=0;s<this.#s[t].length;s+=1)this.#s[t][s]!==e&&i.push(this.#s[t][s]);this.#s[t]=i}}dispatchEvent(t){if(!this.#s)return;let e=this.#s[t.type];if(!e)return;let i=null;for(let s=e.length-1;s>=0;s-=1){let n,o=e[s];try{n=o.call(window,t)}catch(t){null===i&&(i=t)}if(!1===n)break}if(i)throw i}}{get theme(){return this.#n}set theme(t){let e=document.head.querySelector(':scope > meta[name="xel-theme"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-theme"),document.head.append(e)),e.setAttribute("content",t)}get accentColor(){return this.#o}set accentColor(t){let e=document.head.querySelector(':scope > meta[name="xel-accent-color"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-accent-color"),document.head.append(e)),e.setAttribute("content",t)}get iconsets(){return[...this.#a]}set iconsets(t){let e=document.head.querySelector(':scope > meta[name="xel-iconsets"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-iconsets"),document.head.append(e)),e.setAttribute("content",t.join(", "))}get locales(){return[...this.#r]}set locales(t){let e=document.head.querySelector(':scope > meta[name="xel-locales"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-locales"),document.head.append(e)),e.setAttribute("content",t.join(", "))}get locale(){return this.#h[0]||"en"}get whenThemeReady(){return new Promise((t=>{null===this.#l?t():this.#l.push(t)}))}get whenIconsetsReady(){return new Promise((t=>{null===this.#d?t():this.#d.push(t)}))}get whenLocalesReady(){return new Promise((t=>{null===this.#u?t():this.#u.push(t)}))}get themeStyleSheet(){return this.#c}get presetAccentColors(){let t={};for(let e of this.#c.cssRules)if(1===e.type&&"body"===e.selectorText){let i=e.style.getPropertyValue("--preset-accent-colors");if(""!==i){let e=i.split(",").map((t=>t.trim())).map((t=>t.split(" ")));t=Object.fromEntries(e);break}}return t}get autocapitalize(){return this.#p}queryIcon(t){t=!1===t.startsWith("#")?"#"+t:t;let e=null;for(let i of this.#m){let s=i.querySelector(t);if(s){e=s;break}}return e}queryMessage(t,e={}){t=t.startsWith("#")?t.substring(1):t;let[i,s]=t.split("."),n=this.#g.getMessage(i),o=null,a="text";return void 0===e.os&&(e.os=(void 0===Ee&&(Ee=!0===navigator.platform.startsWith("Mac")?"macos":-1!==["iPhone","iPad","iPod"].indexOf(navigator.platform)?"ios":-1!==["Win32","Win64","Windows","WinCE"].indexOf(navigator.platform)?"windows":/CrOS/.test(navigator.userAgent)?"chromeos":/Android/.test(navigator.userAgent)?"android":/Linux/.test(navigator.platform)?"linux":null),Ee)),void 0===s&&(s=null),n&&(null===s?n.value&&(o=this.#g.formatPattern(n.value,e)):n.attributes?.[s]&&(o=this.#g.formatPattern(n.attributes[s],e))),null===o?o=null===s?i:`${i}.${s}`:/<|&#?\w+;/.test(o)&&(a="html",o=St.sanitize(o,{USE_PROFILES:{html:!0}})),{id:i,attribute:s,format:a,content:o}}#n=null;#o=null;#a=[];#r=[];#h=[];#p="none";#c=new CSSStyleSheet;#m=[];#g=null;#l=[];#d=[];#u=[];constructor(){super(),document.adoptedStyleSheets=[this.#c];let{theme:t,accentColor:e,iconsets:i,locales:s}=this.#b();this.#n=t,this.#o=e,this.#a=i,this.#r=s,this.#h=this.#r.map((t=>{let e=t.substring(t.lastIndexOf("/")+1);return e.substring(0,e.indexOf("."))})),null!==this.#n&&this.#f(this.#n),this.#a.length>0&&this.#x(this.#a),this.#r.length>0&&this.#w(this.#r);new MutationObserver((t=>this.#v(t))).observe(document.head,{attributes:!0,subtree:!0})}#v(t){let e=this.#n,i=this.#o,s=this.#a,n=this.#r,{theme:o,accentColor:a,iconsets:r,locales:h}=this.#b();this.#n=o,this.#o=a,this.#a=r,this.#r=h,this.#h=this.#r.map((t=>{let e=t.substring(t.lastIndexOf("/")+1);return e.substring(0,e.indexOf("."))})),this.#n!==e&&this.#f(this.#n).then((()=>{this.dispatchEvent(new CustomEvent("themechange"))})),this.#o!==i&&(this.#y(),this.dispatchEvent(new CustomEvent("accentcolorchange"))),!1===At(this.#a,s,!0)&&this.#x(this.#a).then((()=>{this.dispatchEvent(new CustomEvent("iconsetschange"))})),!1===At(this.#r,n,!0)&&this.#w(this.#r).then((()=>{this.dispatchEvent(new CustomEvent("localeschange"))}))}#k(t){return new Promise((async e=>{let i=await fetch(t),s=await i.text();for(let[t,e]of this.#C(s)){let i=await this.#k(t);s=s.replace(e,i)}e(s)}))}#f(t){return new Promise((async e=>{null===this.#l&&(this.#l=[]);let i=await this.#k(t);if(this.#c.replaceSync(i),this.#E(),this.#y(),this.#z(),null!==this.#l){for(let t of this.#l)t();this.#l=null}e()}))}#x(t){return new Promise((async e=>{null===this.#d&&(this.#d=[]),this.#m=[];for(let e of t){let t=await Rt(e);this.#m.push(t)}for(let t of this.#d)t();this.#d=null,e()}))}#w(t){return new Promise((async e=>{null===this.#u&&(this.#u=[]);let i=t.map((t=>{let e=t.substring(t.lastIndexOf("/")+1);return e.substring(0,e.indexOf("."))}));0===i.length&&i.push("en");let s=new _t([i[0]],{useIsolating:!1,functions:{RELDATETIME:(t=[],e={})=>{let s;if(t[0]instanceof Ot)s=new Date(t[0].value);else{if("string"!=typeof t[0])throw new TypeError("Invalid argument to RELDATETIME");s=new Date(parseInt(t[0]))}return((t,e=new Date,i=["en"])=>{let s,n=3600,o=86400,a=604800,r=t.getTime(),h=e.getTime(),l=new Intl.RelativeTimeFormat(i,{numeric:"always"}),d=Math.round((h-r)/1e3);if(d<0?(s=1,d=-d):s=-1,d<60)return l.format(d*s,"seconds");if(d<n)return l.format(Math.round(d*s/60),"minutes");if(d<o)return l.format(Math.round(d*s/n),"hours");if(d<a)return l.format(Math.round(d*s/o),"days");if(d<4233600)return l.format(Math.round(d*s/a),"weeks");{let i=12*(t.getFullYear()-e.getFullYear());return i-=e.getMonth(),i+=t.getMonth(),Math.abs(i)>12?i<0?l.format(Math.ceil(i/12),"years"):l.format(Math.floor(i/12),"years"):l.format(i,"months")}})(s,new Date,i)}}});for(let e=t.length-1;e>=0;e-=1){let i=t[e],n=await(await fetch(i)).text(),o=new ke(n),a=s.addResource(o,{allowOverrides:!0});a.length&&console.info("Found localization syntax errors",a)}this.#g=s,this.#E();for(let t of this.#u)t();this.#u=null,e()}))}#E(){this.#g?.locales[0]?.startsWith("en")?this.#p=getComputedStyle(document.body).getPropertyValue("--autocapitalize").trim()||"none":this.#p="none"}async#z(){await this.whenThemeReady;let t=document.head.querySelector('meta[name="theme-color"]'),e=getComputedStyle(document.body).getPropertyValue("--titlebar-color").trim()||"auto";"auto"===e?t&&t.remove():(null===t&&(t=document.createElement("meta"),t.setAttribute("name","theme-color"),document.head.append(t)),t.setAttribute("content",e))}async#y(){await this.whenThemeReady;let t=this.#o||this.presetAccentColors.blue;this.presetAccentColors[t]&&(t=this.presetAccentColors[t]);let[e,i,s,n]=(new S).parse(t,"hsla"),o=[...this.#c.cssRules].reverse().find((t=>1===t.type&&"body"===t.selectorText));o.style.setProperty("--accent-color-h",e),o.style.setProperty("--accent-color-s",`${i}%`),o.style.setProperty("--accent-color-l",`${s}%`),o.style.setProperty("--accent-color-a",n)}#b(){let t=document.head.querySelector(':scope > meta[name="xel-theme"]'),e=document.head.querySelector(':scope > meta[name="xel-accent-color"]'),i=document.head.querySelector(':scope > meta[name="xel-iconsets"]'),s=document.head.querySelector(':scope > meta[name="xel-locales"]');return{theme:t&&""!==t.content?t.content:null,accentColor:e&&""!==e.content?e.content:null,iconsets:i?i.content.split(",").map((t=>t.trim())).filter((t=>""!==t)):[],locales:s?s.content.split(",").map((t=>t.trim())).filter((t=>""!==t)):[]}}#C(t){let e=[],i=-1;for(;;){let s=t.indexOf("@import",i);if(!(s>-1))break;{let n=t.indexOf(";",s),o=0,a=t.indexOf(".css",s)+".css".length,r=t.indexOf("'",s),h=t.indexOf('"',s);if(r>s&&r<n)o=r+1;else if(h>s&&h<n)o=h+1;else{let e=t.indexOf("url(",s);e>s&&e<n&&(o=e+"url(".length)}let l=t.substring(o,a);e.push([l,t.substring(s,n+1)]),i=a}}return e}};let Pe=(t,e=null)=>{let i=t.split(":"),s=null;if(1===i.length){let[t]=i;s=null===e?document.createElement(t):document.createElement(t,e)}else if(2===i.length){let[t,e]=i;"svg"===t&&(s=document.createElementNS("http://www.w3.org/2000/svg",e))}return s},Re=(t,e)=>{let i=e.getBoundingClientRect();return t.clientX>=i.x&&t.clientX<=i.x+i.width&&t.clientY>=i.y&&t.clientY<=i.y+i.height},$e=(t,e,i=!0)=>{let s=t.closest(e);return i&&!s&&t.getRootNode().host?$e(t.getRootNode().host,e):s},Ie=t=>{let e=t=>t&&t!==document.body?(t=>{let e=getComputedStyle(t,null);return/(auto|scroll)/.test(e.getPropertyValue("overflow")+e.getPropertyValue("overflow-y")+e.getPropertyValue("overflow-x"))})(t)&&"x-texteditor"!==t.localName?t:e(t.parentElement||t.parentNode.host):document.body;return e(t)},Oe=HTMLDialogElement.prototype.showModal,Fe=HTMLDialogElement.prototype.close,Ne=[],Be={get open(){return this.hasAttribute("open")},showModal(){return new Promise((async t=>{if(!0!==this.open&&!1!==this.isConnected){this.p&&await this.p.finished,this.m&&await this.m.finished,Oe.apply(this,arguments);{let t;document.body.style.overflow="hidden",Ne.push(this),this.addEventListener("close",t=e=>{e.target===this&&(this.removeEventListener("close",t),Ne=Ne.filter((t=>t!==this)),0===Ne.length&&(document.body.style.overflow=null))})}{let t=this.querySelector("[autofocus]");t?t.focus():this.focus()}if(!1===this.hasAttribute("hidden")){let t=getComputedStyle(this),e=t.getPropertyValue("transition-property"),i=1e3*parseFloat(t.getPropertyValue("transition-duration")),s=t.getPropertyValue("transition-timing-function"),n=this.getBoundingClientRect();"transform"===e&&("0px"===getComputedStyle(this).left&&"0px"!==getComputedStyle(this).right?this.p=this.animate({transform:[`translateX(-${n.right}px)`,"translateX(0px)"]},{duration:i,easing:s}):"0px"===getComputedStyle(this).right&&"0px"!==getComputedStyle(this).left?this.p=this.animate({transform:[`translateX(${n.width}px)`,"translateX(0px)"]},{duration:i,easing:s}):"0px"===getComputedStyle(this).marginTop&&"0px"===getComputedStyle(this).marginBottom?this.p=this.animate({transform:[`translateY(-${n.bottom}px)`,"translateY(0px)"]},{duration:i,easing:s}):this.p=this.animate({transform:["scaleY(0)","scaleY(1)"]},{duration:i,easing:s}))}{let t,e,i;this.addEventListener("keydown",t=t=>{"Escape"===t.code&&t.preventDefault()}),document.addEventListener("keydown",e=t=>{"Escape"===t.code&&t.target===document.body&&t.preventDefault()}),this.addEventListener("close",i=s=>{s.target===this&&(this.removeEventListener("close",i),this.removeEventListener("keydown",t),document.removeEventListener("keydown",e))})}{let t,e,i,s=!0;this.addEventListener("pointerdown",t=t=>{s=!1===Re(t,this)}),this.addEventListener("click",e=t=>{t.target===this&&!0===t.isTrusted&&!1===t.defaultPrevented&&!0===s&&!1===Re(t,this)&&!0===this.hasAttribute("open")&&(this.close(),this.dispatchEvent(new CustomEvent("userclose")))}),this.addEventListener("close",i=s=>{s.target===this&&(this.removeEventListener("pointerdown",t),this.removeEventListener("click",e),this.removeEventListener("close",i))})}this.p&&(await this.p.finished,this.p=null),t()}else t()}))},close(){return new Promise((async t=>{if(this.p&&await this.p.finished,this.m&&await this.m.finished,!1===this.hasAttribute("hidden")){let t=getComputedStyle(this),e=t.getPropertyValue("transition-property"),i=t.getPropertyValue("transition-duration")||"0s",s=1e3*parseFloat(i),n=t.getPropertyValue("transition-timing-function")||"ease",o=this.getBoundingClientRect();"transform"===e&&("0px"===getComputedStyle(this).left&&"0px"!==getComputedStyle(this).right?this.m=this.animate({transform:["translateX(0px)",`translateX(-${o.right}px)`]},{duration:s,easing:n}):"0px"===getComputedStyle(this).right&&"0px"!==getComputedStyle(this).left?this.m=this.animate({transform:["translateX(0px)",`translateX(${o.width}px)`]},{duration:s,easing:n}):"0px"===getComputedStyle(this).marginTop&&"0px"===getComputedStyle(this).marginBottom?this.m=this.animate({transform:["translateY(0px)",`translateY(-${o.bottom+50}px)`]},{duration:s,easing:n}):this.m=this.animate({transform:["scaleY(1)","scaleY(0)"]},{duration:s,easing:n}))}this.m&&(await this.m.finished,this.m=null),this.hasAttribute("open")&&Fe.apply(this,arguments),t()}))}};for(let[t,e]of Object.entries(Object.getOwnPropertyDescriptors(Be)))Object.defineProperty(HTMLDialogElement.prototype,t,e);class je extends HTMLElement{static observedAttributes=["expanded"];static#S=Tt`<template><main id="main"><div id="arrow-container"><svg id="arrow" part="arrow" viewBox="0 0 100 100" preserveAspectRatio="none" tabindex="1"><path id="arrow-path"></path></svg></div><slot></slot></main></template>`;static#A=Mt`:host{display:block;width:100%;margin:8px 0;box-sizing:border-box}:host([animating]){overflow:hidden}#main{position:relative;width:100%;height:100%}#arrow-container{position:absolute;top:0;width:100%;height:100%;display:flex;align-items:center;justify-content:flex-start;pointer-events:none}#arrow{display:flex;width:16px;height:16px;transform:rotate(0);transition:transform .25s cubic-bezier(.4, 0, .2, 1);color:currentColor;--path-data:M 26 20 L 26 80 L 74 50 Z}#arrow:focus{background:0 0;outline:0}:host([expanded]) #arrow{transform:rotate(90deg)}#arrow-path{fill:currentColor}`;get expanded(){return this.hasAttribute("expanded")}set expanded(t){t?this.setAttribute("expanded",""):this.removeAttribute("expanded")}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}#L={};#T=null;#M=null;#D=null;#P=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[je.#A],this.#T.append(document.importNode(je.#S.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#L[t.id]=t;this.#M=new ResizeObserver((()=>this.#R())),this.addEventListener("click",(t=>this.#$(t))),this.#L.arrow.addEventListener("keydown",(t=>this.#I(t)))}connectedCallback(){this.#O(),De.addEventListener("themechange",this.#P=()=>this.#O()),this.#M.observe(this)}disconnectedCallback(){De.removeEventListener("themechange",this.#P),this.#M.unobserve(this)}attributeChangedCallback(t,e,i){e!==i&&"expanded"===t&&this.#R()}expand(){return new Promise((async t=>{if(!1===this.expanded){let t=this.getBoundingClientRect();this.#D&&this.#D.finish(),this.expanded=!0,this.removeAttribute("animating");let e=this.getBoundingClientRect();this.setAttribute("animating","");let i=this.animate({height:[t.height+"px",e.height+"px"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});this.#D=i,await i.finished,this.#D===i&&this.removeAttribute("animating")}t()}))}collapse(){return new Promise((async t=>{if(!0===this.expanded){let t=this.getBoundingClientRect();this.#D&&this.#D.finish(),this.expanded=!1,this.removeAttribute("animating");let e=this.getBoundingClientRect();this.setAttribute("animating","");let i=this.animate({height:[t.height+"px",e.height+"px"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});this.#D=i,await i.finished,this.#D===i&&this.removeAttribute("animating")}t()}))}#R(){let t=this.querySelector(":scope > header");this.#L["arrow-container"].style.height=t?t.getBoundingClientRect().height+"px":null}#O(){let t=getComputedStyle(this.#L.arrow).getPropertyValue("--path-data");this.#L["arrow-path"].setAttribute("d",t)}#I(t){"Enter"!==t.code&&"NumpadEnter"!==t.code||this.querySelector("header").click()}#$(t){let e=this.querySelector("header"),i=t.target.closest("[tabindex]");e.contains(t.target)&&!1===this.contains(i)&&(this.expanded?(this.collapse(),this.dispatchEvent(new CustomEvent("collapse"))):(this.expand(),this.dispatchEvent(new CustomEvent("expand"))))}}customElements.define("x-accordion",je);class He extends HTMLElement{static#A=Mt`:host{display:block;position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:1000;touch-action:none;will-change:opacity;cursor:default;background:rgba(0,0,0,.5)}:host([hidden]){display:none}`;get ownerElement(){return this.#F?this.#F:document.body.firstElementChild}set ownerElement(t){this.#F=t}#T=null;#F=null;#N=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[He.#A],this.addEventListener("pointerdown",(t=>t.preventDefault()))}connectedCallback(){this.addEventListener("wheel",this.#N=t=>t.preventDefault())}disconnectedCallback(){this.removeEventListener("wheel",this.#N)}show(t=!0){this.title="",this.style.top="0px",this.style.left="0px",this.ownerElement.before(this),this.hidden=!1;let e=this.getBoundingClientRect(),i=0,s=0;0===e.top&&0===e.left||(i=-e.top,s=-e.left);{let t=parseFloat(getComputedStyle(this.ownerElement).zIndex);this.style.zIndex=t-1}if(this.style.top=i+"px",this.style.left=s+"px",t){return this.animate({opacity:["0","1"]},{duration:100,easing:"ease-out"}).finished}}hide(t=!0){if(t){let t=this.animate({opacity:["1","0"]},{duration:100,easing:"ease-in"});return t.finished.then((()=>{this.remove()})),t.finished}this.remove()}}customElements.define("x-backdrop",He);class Ue extends HTMLElement{static observedAttributes=["value"];static#S=Tt`<template><x-box vertical><div id="hue-slider" part="slider"><div id="hue-slider-track"><div id="hue-slider-marker" part="marker"></div></div></div><div id="saturation-slider" part="slider"><div id="saturation-slider-track"><div id="saturation-slider-marker" part="marker"></div></div></div><div id="lightness-slider" part="slider"><div id="lightness-slider-track"><div id="lightness-slider-marker" part="marker"></div></div></div><div id="alpha-slider" part="slider"><div id="alpha-slider-gradient"></div><div id="alpha-slider-track"><div id="alpha-slider-marker" part="marker"></div></div></div></x-box></template>`;static#A=Mt`:host{display:block;width:100%;user-select:none;-webkit-user-select:none}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}#hue-slider{width:100%;height:30px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pinch-zoom;background:red;--marker-width:18px}:host([size=small]) #hue-slider{height:24px}:host([size=large]) #hue-slider{height:35px}#hue-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center;background:linear-gradient(to right,red,#ff0,#0f0,#0ff,#00f,#f0f,red)}#hue-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#saturation-slider{width:100%;height:30px;margin-top:20px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pinch-zoom;--marker-width:18px}:host([size=small]) #saturation-slider{height:24px}:host([size=large]) #saturation-slider{height:35px}#saturation-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#saturation-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#lightness-slider{width:100%;height:30px;margin-top:20px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pinch-zoom;--marker-width:18px}:host([size=small]) #lightness-slider{height:24px}:host([size=large]) #lightness-slider{height:35px}#lightness-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#lightness-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#alpha-slider{display:none;width:100%;height:30px;margin-top:20px;margin-bottom:8px;padding:0 calc(var(--marker-width)/ 2);position:relative;box-sizing:border-box;border-radius:2px;touch-action:pinch-zoom;--marker-width:18px;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([alphaslider]) #alpha-slider{display:block}:host([size=small]) #alpha-slider{height:24px}:host([size=large]) #alpha-slider{height:35px}#alpha-slider-gradient{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:inherit}#alpha-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#alpha-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):"hsla(0, 0%, 100%, 1)"}set value(t){this.setAttribute("value",t)}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}#B=0;#j=0;#H=80;#U=1;#T=null;#L={};#q=!1;#K=!1;#V=!1;#X=!1;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[Ue.#A],this.#T.append(document.importNode(Ue.#S.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#L[t.id]=t;this.#L["hue-slider"].addEventListener("pointerdown",(t=>{this.#Z(t)})),this.#L["saturation-slider"].addEventListener("pointerdown",(t=>{this.#G(t)})),this.#L["lightness-slider"].addEventListener("pointerdown",(t=>{this.#W(t)})),this.#L["alpha-slider"].addEventListener("pointerdown",(t=>{this.#Y(t)}))}connectedCallback(){this.#_()}attributeChangedCallback(t,e,i){e!==i&&"value"===t&&this.#J()}#_(){this.#Q(),this.#tt(),this.#et(),this.#it(),this.#st(),this.#nt(),this.#ot()}#Q(){this.#L["hue-slider-marker"].style.left=r(this.#B,0,360,0)/360*100+"%"}#tt(){this.#L["saturation-slider-marker"].style.left=r(this.#j,0,100,2)+"%"}#it(){this.#L["lightness-slider-marker"].style.left=r(this.#H,0,100,2)+"%"}#nt(){this.#L["alpha-slider-marker"].style.left=r(100*(1-this.#U),0,100,2)+"%"}#et(){let t=this.#B;this.#L["saturation-slider"].style.background=`linear-gradient(\n      to right, hsl(${t}, 0%, 50%), hsl(${t}, 100%, 50%)\n    )`}#st(){let t=this.#B,e=this.#j;this.#L["lightness-slider"].style.background=`linear-gradient(\n      to right, hsl(${t}, ${e}%, 0%), hsl(${t}, ${e}%, 50%), hsl(${t}, ${e}%, 100%)\n    )`}#ot(){let t=this.#B,e=this.#j,i=this.#H;this.#L["alpha-slider-gradient"].style.background=`\n      linear-gradient(to right, hsla(${t}, ${e}%, ${i}%, 1), hsla(${t}, ${e}%, ${i}%, 0))\n    `}#J(){if(!1===this.#q&&!1===this.#K&&!1===this.#V&&!1===this.#X){let[t,e,i,s]=(new S).parse(this.value,"hsla");this.#B=t,this.#j=e,this.#H=i,this.#U=s,this.#_()}}#Z(t){if(t.buttons>1||this.#q)return;let e,i,s=this.#L["hue-slider-track"].getBoundingClientRect();this.#q=!0,this.#L["hue-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let n=t=>{let e=(t-s.x)/s.width*360;e=r(e,0,360,0),e!==this.#B&&(this.#B=e,this.value=v([this.#B,this.#j,this.#H,this.#U],"hsla","hsla"),this.#Q(),this.#et(),this.#st(),this.#ot(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};n(t.clientX),this.#L["hue-slider"].addEventListener("pointermove",e=e=>{e.pointerId===t.pointerId&&n(e.clientX)}),this.#L["hue-slider"].addEventListener("pointerup",i=()=>{this.#L["hue-slider"].removeEventListener("pointermove",e),this.#L["hue-slider"].removeEventListener("pointerup",i),this.#L["hue-slider"].removeEventListener("pointercancel",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#q=!1}),this.#L["hue-slider"].addEventListener("pointercancel",i)}#G(t){if(t.buttons>1||this.#K)return;let e,i,s=this.#L["saturation-slider-track"].getBoundingClientRect();this.#K=!0,this.#L["saturation-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let n=t=>{let e=(t-s.x)/s.width*100;e=r(e,0,100,0),e!==this.#j&&(this.#j=e,this.value=v([this.#B,this.#j,this.#H,this.#U],"hsla","hsla"),this.#tt(),this.#et(),this.#st(),this.#ot(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};n(t.clientX),this.#L["saturation-slider"].addEventListener("pointermove",e=t=>{n(t.clientX)}),this.#L["saturation-slider"].addEventListener("pointerup",i=()=>{this.#L["saturation-slider"].removeEventListener("pointermove",e),this.#L["saturation-slider"].removeEventListener("pointerup",i),this.#L["saturation-slider"].removeEventListener("pointercancel",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#K=!1}),this.#L["saturation-slider"].addEventListener("pointercancel",i)}#W(t){if(t.buttons>1||this.#V)return;let e,i,s=this.#L["lightness-slider-track"].getBoundingClientRect();this.#V=!0,this.#L["lightness-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let n=t=>{let e=(t-s.x)/s.width*100;e=r(e,0,100,0),e!==this.#H&&(this.#H=e,this.value=v([this.#B,this.#j,this.#H,this.#U],"hsla","hsla"),this.#it(),this.#et(),this.#st(),this.#ot(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};n(t.clientX),this.#L["lightness-slider"].addEventListener("pointermove",e=t=>{n(t.clientX)}),this.#L["lightness-slider"].addEventListener("pointerup",i=()=>{this.#L["lightness-slider"].removeEventListener("pointermove",e),this.#L["lightness-slider"].removeEventListener("pointerup",i),this.#L["lightness-slider"].removeEventListener("pointercancel",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#V=!1}),this.#L["lightness-slider"].addEventListener("pointercancel",i)}#Y(t){if(t.buttons>1||this.#X)return;let e,i,s=this.#L["alpha-slider-track"].getBoundingClientRect();this.#X=!0,this.#L["alpha-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let n=t=>{let e=1-(t-s.x)/s.width;e=r(e,0,1,2),e!==this.#U&&(this.#U=e,this.value=v([this.#B,this.#j,this.#H,this.#U],"hsla","hsla"),this.#nt(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};n(t.clientX),this.#L["alpha-slider"].addEventListener("pointermove",e=t=>{n(t.clientX)}),this.#L["alpha-slider"].addEventListener("pointerup",i=()=>{this.#L["alpha-slider"].removeEventListener("pointermove",e),this.#L["alpha-slider"].removeEventListener("pointerup",i),this.#L["alpha-slider"].removeEventListener("pointercancel",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#X=!1}),this.#L["alpha-slider"].addEventListener("pointercancel",i)}}customElements.define("x-barscolorpicker",Ue);class qe extends HTMLElement{static#S=Tt`<template><slot></slot></template>`;static#A=Mt`:host{display:flex;box-sizing:border-box;align-items:center;justify-content:flex-start}:host([vertical]){flex-flow:column;align-items:flex-start;justify-content:center}:host([hidden]){display:none}`;get vertical(){return this.hasAttribute("vertical")}set vertical(t){t?this.setAttribute("vertical",""):this.removeAttribute("vertical")}#T=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[qe.#A],this.#T.append(document.importNode(qe.#S.content,!0))}}customElements.define("x-box",qe);class Ke extends HTMLElement{static observedAttributes=["disabled","skin"];static#S=Tt`<template><slot></slot><svg id="arrow" part="arrow" viewBox="0 0 100 100" preserveAspectRatio="none"><path id="arrow-path"></path></svg></template>`;static#A=Mt`:host{display:flex;align-items:center;justify-content:center;width:fit-content;height:fit-content;min-height:32px;padding:2px 14px;box-sizing:border-box;opacity:1;position:relative}:host(:focus){outline:0}:host(:focus:not(:active)){z-index:1}:host([mixed]){opacity:.75}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}#arrow{color:currentColor;width:8px;height:8px;min-width:8px;margin:0 0 0 4px;--path-data:M 11.7 19.9 L 49.8 57.9 L 87.9 19.9 L 99.7 31.6 L 49.8 81.4 L -0.0 31.6 Z}#arrow path{fill:currentColor}#arrow[hidden]{display:none}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get toggled(){return this.hasAttribute("toggled")}set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled")}get togglable(){return this.hasAttribute("togglable")}set togglable(t){t?this.setAttribute("togglable",""):this.removeAttribute("togglable")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get condensed(){return this.hasAttribute("condensed")}set condensed(t){t?this.setAttribute("condensed",""):this.removeAttribute("condensed")}get skin(){return this.hasAttribute("skin")?this.getAttribute("skin"):null}set skin(t){null===t?this.removeAttribute("skin"):this.setAttribute("skin",t)}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}get expanded(){return this.hasAttribute("expanded")}get expandable(){return this.#at()||this.#rt()}get ownerButtons(){if(this.parentElement){if("x-buttons"===this.parentElement.localName)return this.parentElement;if("x-box"===this.parentElement.localName&&this.parentElement.parentElement&&"x-buttons"===this.parentElement.parentElement.localName)return this.parentElement.parentElement}return null}#T=null;#L={};#ht=!1;#lt=null;#dt=0;#P=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[Ke.#A],this.#T.append(document.importNode(Ke.#S.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#L[t.id]=t;this.addEventListener("pointerdown",(t=>this.#ut(t))),this.addEventListener("pointerenter",(()=>this.#ct())),this.addEventListener("pointerleave",(()=>this.#pt())),this.addEventListener("click",(t=>this.#$(t))),this.addEventListener("keydown",(t=>this.#mt(t))),this.addEventListener("close",(t=>this.#gt(t))),(async()=>{await customElements.whenDefined("x-backdrop"),this.#L.backdrop=Pe("x-backdrop"),this.#L.backdrop.style.background="rgba(0, 0, 0, 0)"})()}connectedCallback(){this.parentElement&&"a"===this.parentElement.localName&&-1!==this.parentElement.tabIndex&&(this.parentElement.tabIndex=-1),this.#O(),this.#bt(),this.#ft(),this.#xt(),De.addEventListener("themechange",this.#P=()=>this.#O())}disconnectedCallback(){De.removeEventListener("themechange",this.#P)}attributeChangedCallback(t){"disabled"===t?this.#ft():"skin"===t&&this.#xt()}expand(){return new Promise((async t=>{this.#at()?await this.#wt():this.#rt()&&await this.#vt(),t()}))}collapse(t=null){return new Promise((async e=>{this.#yt()?await this.#kt(t):this.#Ct()&&await this.#Et(t),e()}))}#wt(){return new Promise((async t=>{if(this.#at()){let t=this.querySelector(":scope > x-menu"),e=this.querySelector(":scope > x-tooltip");e&&e.close(!1),this.#ht=this.matches(":focus"),this.setAttribute("expanded",""),this.#L.backdrop.ownerElement=t,this.#L.backdrop.show(!1),await t.openNextToElement(this,"vertical",3),t.focus()}t()}))}#kt(t=null){return new Promise((async e=>{if(this.#yt()){let e=this.querySelector(":scope > x-menu");if(e.setAttribute("closing",""),await t,await e.close(),this.#L.backdrop.hide(!1),this.removeAttribute("expanded"),this.replaceWith(this),this.#ht)this.focus();else{let t=$e(this.parentNode,"[tabindex]");t&&t.focus()}e.removeAttribute("closing")}e()}))}#at(){let t=!1;if(!1===this.disabled){let e=this.querySelector(":scope > x-menu");if(e&&!1===e.hasAttribute("opened")&&!1===e.hasAttribute("closing")){null!==e.querySelector("x-menuitem")&&(t=!0)}}return t}#yt(){let t=!1;if(!1===this.disabled){let e=this.querySelector(":scope > x-menu");e&&e.opened&&(t=!0)}return t}#vt(){return new Promise((async t=>{if(this.#rt()){let t=this.querySelector(":scope > x-popover"),e=this.querySelector(":scope > x-tooltip");e&&e.close(!1),this.#ht=this.matches(":focus"),this.setAttribute("expanded",""),await t.open(this)}t()}))}#Et(t=null){return new Promise((async e=>{if(this.#Ct()){let e=this.querySelector(":scope > x-popover");if(e.setAttribute("closing",""),await t,await e.close(),this.removeAttribute("expanded"),e.modal&&this.replaceWith(this),this.#ht)this.focus();else{let t=$e(this.parentNode,"[tabindex]");t&&t.focus()}e.removeAttribute("closing")}e()}))}#rt(){let t=!1;if(!1===this.disabled){let e=this.querySelector(":scope > x-popover");e&&!1===e.hasAttribute("opened")&&(t=!0)}return t}#Ct(){let t=!1;if(!1===this.disabled){let e=this.querySelector(":scope > x-popover");e&&e.opened&&(t=!0)}return t}#zt(){return new Promise((t=>{if(this.#St()){this.querySelector(":scope > dialog").showModal()}t()}))}#St(){let t=!1;if(!1===this.disabled){let e=this.querySelector(":scope > dialog");e&&!1===e.hasAttribute("open")&&!1===e.hasAttribute("closing")&&(t=!0)}return t}#At(){return new Promise((t=>{if(this.#Lt()){this.querySelector(":scope > x-notification").opened=!0}t()}))}#Lt(){let t=!1;if(!1===this.disabled){let e=this.querySelector(":scope > x-notification");!e||e.hasAttribute("opened")||e.hasAttribute("closing")||(t=!0)}return t}#O(){let t=getComputedStyle(this.#L.arrow).getPropertyValue("--path-data");this.#L["arrow-path"].setAttribute("d",t)}#bt(){let t=this.querySelector(":scope > x-menu, :scope > x-popover");this.#L.arrow.style.display=t?null:"none"}#ft(){this.setAttribute("role","button"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#dt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#dt>0?this.#dt:0),this.#dt=0)}#xt(){!1===this.hasAttribute("skin")&&this.setAttribute("skin","default")}#ut(t){let e=this.querySelector(":scope > x-menu[opened]"),i=this.querySelector(":scope > x-popover[opened]"),s=this.querySelector(":scope > dialog[open]"),n=this.querySelector(":scope > x-notification[opened]");if(this.#lt=t,t.target===this.#L.backdrop)this.#Tt(t);else{if(e&&e.contains(t.target))return;if(i&&i.contains(t.target))return;if(s&&s.contains(t.target))return;if(n&&n.contains(t.target))return;this.#Mt(t)}}#Dt=!1;#gt(t){t.target.parentElement===this&&["x-menu","x-popover"].includes(t.target.localName)&&this.#lt&&!1===Re(this.#lt,this)&&(this.#Dt=!1)}#ct(){let t=this.querySelector(":scope > x-tooltip");if(t&&!1===t.disabled&&!1===this.expanded&&!1===this.#Dt){if(this.parentElement&&"x-buttons"===this.parentElement.localName)for(let t of this.parentElement.children)if(t!==this&&"x-button"===t.localName){let e=t.querySelector(":scope > x-tooltip");e&&e.close(!1)}t.open(this)}}#pt(){let t=this.querySelector(":scope > x-tooltip");t&&t.close(),this.#Dt=!1}#$(t){let e=this.querySelector(":scope > x-menu[opened]"),i=this.querySelector(":scope > x-popover[opened]"),s=this.querySelector(":scope > dialog[open]"),n=this.querySelector(":scope > x-notification[opened]");if(t.target!==this.#L.backdrop)if(e&&e.contains(t.target))!1===e.hasAttribute("closing")&&t.target.closest("x-menuitem")&&this.#Pt(t);else{if(i&&i.contains(t.target))return;if(s&&s.contains(t.target))return;if(n&&n.contains(t.target))return;this.#Dt=!0,this.#Rt(t)}}#Tt(t){this.collapse()}async#Mt(t){if(t.buttons>1)t.preventDefault();else if(this.querySelector(":scope > dialog[open]"))t.preventDefault();else if(!1!==this.contains(t.target)){if(this.setPointerCapture(t.pointerId),t.preventDefault(),!1===this.matches(":focus")){let t,e=$e(this.parentNode,"*[tabindex]:not(a)");this.addEventListener("pointerup",t=()=>{this.removeEventListener("pointerup",t),this.removeEventListener("pointercancel",t),e?e.focus():this.blur()}),this.addEventListener("pointercancel",t)}if(!1===this.#at()&&!1===this.#rt()&&!1===this.#Ct()){let t,e=Date.now(),i=!0,s=parseInt(getComputedStyle(this).getPropertyValue("--min-pressed-time")||"150ms");this.addEventListener("pointerup",t=async()=>{this.removeEventListener("pointerup",t),this.removeEventListener("pointercancel",t),i=!1;let n=Date.now()-e;n<s&&await Ae(s-n),this.removeAttribute("pressed")}),this.addEventListener("pointercancel",t),(async()=>{if(this.ownerButtons)if(0===this.ownerButtons.tracking||2===this.ownerButtons.tracking)await Ae(10);else if(1!==this.ownerButtons.tracking||!1!==this.toggled&&!this.mixed){if(3===this.ownerButtons.tracking){let t=[...this.ownerButtons.querySelectorAll(":scope > x-button, :scope > x-box > x-button")].filter((t=>t.toggled));(!1===this.toggled||t.length>1)&&await Ae(10)}}else await Ae(10);else this.togglable&&await Ae(10);i&&this.setAttribute("pressed","")})()}this.#at()?"touch"!==t.pointerType&&this.#wt():this.#rt()?"touch"!==t.pointerType&&this.#vt():this.#Ct()&&this.#Et()}}async#Rt(t){let e=this.querySelector(":scope > x-menu, :scope > x-popover");if(e){if(e.hasAttribute("closing"))return;e.focus()}!1===this.#Ct()&&(this.#St()?this.#zt():this.#Lt()&&this.#At()),this.#lt&&"touch"===this.#lt.pointerType&&(this.#at()?this.#wt():this.#rt()&&this.#vt()),this.togglable&&!1===t.defaultPrevented&&(this.removeAttribute("pressed"),this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("toggle")))}#Pt(t){let e=t.target.closest("x-menuitem");this.querySelector(":scope > x-menu").hasAttribute("closing")||this.collapse(e.whenTriggerEnd)}#mt(t){!1===t.defaultPrevented&&("Enter"===t.code||"NumpadEnter"===t.code||"Space"===t.code?this.#at()?(t.preventDefault(),this.#wt().then((()=>this.querySelector(":scope > x-menu").focusFirstMenuItem()))):this.#rt()?(t.preventDefault(),this.#vt()):this.#St()?(t.preventDefault(),this.#zt()):this.#Lt()?(t.preventDefault(),this.#At()):this.matches(":focus")&&(this.#Ct()?this.#Et():this.#yt()?this.#kt():(t.preventDefault(),this.click())):"ArrowDown"===t.code?this.#at()?(this.querySelector(":scope > x-menu"),t.preventDefault(),this.#wt().then((()=>this.querySelector(":scope > x-menu").focusFirstMenuItem()))):this.#rt()?(t.preventDefault(),this.#vt()):(t.preventDefault(),this.click()):"ArrowUp"===t.code?this.#at()?(t.preventDefault(),this.#wt().then((()=>this.querySelector(":scope > x-menu").focusLastMenuItem()))):this.#rt()?(t.preventDefault(),this.#vt()):(t.preventDefault(),this.click()):"Escape"===t.code&&(this.#yt()||this.#Ct())&&(t.preventDefault(),this.collapse()))}}customElements.define("x-button",Ke);let{isArray:Ve}=Array;class Xe extends HTMLElement{static#S=Tt`<template><slot></slot></template>`;static#A=Mt`:host{display:flex;flex-flow:row;align-items:center;justify-content:flex-start;box-sizing:border-box;width:fit-content}:host([hidden]){display:none}`;get tracking(){return this.hasAttribute("tracking")?parseInt(this.getAttribute("tracking")):-1}set tracking(t){this.setAttribute("tracking",t)}get vertical(){return this.hasAttribute("vertical")}set vertical(t){!0===t?this.setAttribute("vertical",""):this.removeAttribute("vertical")}get value(){if(2===this.tracking||3===this.tracking){return this.#$t().filter((t=>t.toggled)).map((t=>t.value)).filter((t=>null!=t))}if(1===this.tracking||0===this.tracking){let t=this.#$t().find((t=>t.toggled));return t&&void 0!==t.value?t.value:null}if(-1===this.tracking)return null}set value(t){if(2===this.tracking||3===this.tracking){let e=this.#$t();if(Ve(t))for(let i of e)i.toggled=t.includes(i.value);else for(let i of e)i.toggled=i.value===t}else if(1===this.tracking||0===this.tracking){let e=this.#$t(),i=e.find((e=>e.value===t));for(let t of e)t.toggled=t===i}}#T=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[Xe.#A],this.#T.append(document.importNode(Xe.#S.content,!0)),this.addEventListener("click",(t=>this.#$(t)),!0),this.addEventListener("keydown",(t=>this.#mt(t)))}connectedCallback(){for(let t of this.children)if("x-button"===t.localName){"none"!==getComputedStyle(t).boxShadow?this.setAttribute("hasboxshadow",""):this.removeAttribute("hasboxshadow");break}}#$t(){return[...this.querySelectorAll(":scope > x-button, :scope > x-box > x-button")]}#$(t){if(t.buttons>1)return;let e=t.target.closest("x-button");if(e&&!1===e.disabled&&!1===e.expandable){let t=this.#$t().filter((t=>t!==e));if(0===this.tracking){e.mixed||(e.toggled=!e.toggled),e.mixed=!1;for(let e of t)e.toggled=!1,e.mixed=!1;this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}))}else if(1===this.tracking){if(!1===e.toggled||!0===e.mixed){e.toggled=!0,e.mixed=!1;for(let e of t)e.toggled=!1,e.mixed=!1;this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}))}}else if(2===this.tracking)e.mixed?e.mixed=!1:e.toggled=!e.toggled,this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}));else if(3===this.tracking){let i=t.filter((t=>!0===t.toggled));(!1===e.toggled||i.length>0)&&(e.mixed?e.mixed=!1:e.toggled=!e.toggled,this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e})))}}}#mt(t){if("ArrowRight"===t.code){let t=[...this.children].find((t=>t.matches(":focus")));t&&(t.nextElementSibling?t.nextElementSibling.focus():t!==t.parentElement.firstElementChild&&t.parentElement.firstElementChild.focus())}else if("ArrowLeft"===t.code){let t=[...this.children].find((t=>t.matches(":focus")));t&&(t.previousElementSibling?t.previousElementSibling.focus():t!==t.parentElement.lastElementChild&&t.parentElement.lastElementChild.focus())}}}customElements.define("x-buttons",Xe);class Ze extends HTMLElement{static#S=Tt`<template><slot id="slot"></slot></template>`;static#A=Mt`:host{display:block;width:100%;min-width:20px;min-height:48px;box-sizing:border-box;margin:30px 0}:host([hidden]){display:none}#slot{border-radius:inherit}`;#T=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[Ze.#A],this.#T.append(document.importNode(Ze.#S.content,!0))}}customElements.define("x-card",Ze);class Ge extends HTMLElement{static observedAttributes=["toggled","mixed","disabled"];static#S=Tt`<template><main id="main"><div id="indicator" part="indicator"><svg id="checkmark" viewBox="0 0 100 100" preserveAspectRatio="none"><path id="checkmark-path"></path></svg></div><div id="description"><slot></slot></div></main></template>`;static#A=Mt`:host{display:block;width:fit-content}:host([disabled]){opacity:.4;pointer-events:none}:host([hidden]){display:none}:host(:focus){outline:0}#main{display:flex;align-items:center}#indicator{position:relative;width:19px;height:19px;box-sizing:border-box;border:2px solid currentColor;overflow:hidden;--path-data:M -4 -4 L 100 -4 L 100 100 L -4 100 L -4 -4 Z M 95 23 L 86 13 L 37 66 L 13.6 41 L 4.5 51 L 37 85 L 95 23 Z}:host([mixed]) #indicator{--path-data:M -4 -4 L 100 -4 L 100 100 L -4 100 L -4 -4 Z M 87 42.6 L 13 42.6 L 13 57.4 L 87 57.4 L 87 42.6 Z}#checkmark{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;overflow:visible;transition-property:opacity;transition-timing-function:inherit;transition-duration:inherit}:host([mixed]) #checkmark{opacity:1}:host([toggled]) #checkmark{opacity:1}#checkmark-path{fill:currentColor}#description{flex:1}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get toggled(){return this.hasAttribute("toggled")}set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}#T=null;#L={};#dt=0;#P=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[Ge.#A],this.#T.append(document.importNode(Ge.#S.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#L[t.id]=t;this.addEventListener("pointerdown",(t=>this.#ut(t))),this.addEventListener("click",(t=>this.#$(t))),this.addEventListener("keydown",(t=>this.#mt(t)))}connectedCallback(){De.addEventListener("themechange",this.#P=()=>this.#It()),this.#It(),this.#ft()}disconnectedCallback(){De.removeEventListener("themechange",this.#P)}attributeChangedCallback(t){"toggled"===t?this.#Ot():"mixed"===t?this.#Ft():"disabled"===t&&this.#Nt()}#It(){let t=getComputedStyle(this.#L.indicator).getPropertyValue("--path-data");this.#L["checkmark-path"].setAttribute("d",t)}#ft(){this.setAttribute("role","checkbox"),this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#dt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#dt>0?this.#dt:0),this.#dt=0)}#Ot(){this.#It(),this.setAttribute("aria-toggled",this.mixed?"mixed":this.toggled)}#Ft(){this.#It()}#Nt(){this.#ft()}#ut(t){if(t.buttons>1)t.preventDefault();else if(!1===this.matches(":focus")){t.preventDefault();let e=$e(this.parentNode,"[tabindex]");e&&e.focus()}}async#$(t){this.mixed?this.mixed=!1:this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0}))}#mt(t){"Enter"!==t.code&&"NumpadEnter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.click())}}customElements.define("x-checkbox",Ge);class We extends HTMLElement{static observedAttributes=["value","disabled"];static#S=Tt`<template><input tabindex="-1" id="input" type="color" value="#ffffff"><slot></slot></template>`;static#A=Mt`:host{display:block;width:32px;height:32px;box-sizing:border-box;position:relative;overflow:hidden;background-color:#fff;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([hidden]){display:none}:host([disabled]){pointer-events:none;opacity:.4}::slotted(x-popover){width:190px;height:auto;padding:12px 12px}#input{display:flex;width:100%;height:100%;box-sizing:border-box;border:none;background:0 0;padding:0;opacity:0;-webkit-appearance:none}#input::-webkit-color-swatch-wrapper{padding:0}#input::-webkit-color-swatch{border:none}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):"#ffffff"}set value(t){this.setAttribute("value",t)}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}#T=null;#L={};#Bt=!1;#ht=!1;#dt=0;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[We.#A],this.#T.append(document.importNode(We.#S.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#L[t.id]=t;this.addEventListener("click",(t=>this.#$(t))),this.addEventListener("keydown",(t=>this.#mt(t))),this.addEventListener("pointerdown",(t=>this.#ut(t))),this.addEventListener("change",(t=>this.#jt(t))),this.#L.input.addEventListener("change",(t=>this.#Ht(t)))}connectedCallback(){let t=this.querySelector("x-wheelcolorpicker, x-rectcolorpicker, x-barscolorpicker");t&&t.setAttribute("value",y(this.value,"rgba")),this.#ft(),this.#Ut()}attributeChangedCallback(t){"value"===t?this.#J():"disabled"===t&&this.#Nt()}async#qt(){if(!1===this.hasAttribute("expanded")){let t=this.querySelector("x-popover");t&&(this.#ht=this.matches(":focus"),this.setAttribute("expanded",""),await t.open(this),t.focus())}}async#Kt(t=null){if(this.hasAttribute("expanded")){let t=this.querySelector("x-popover");if(t){if(t.setAttribute("closing",""),await t.close(),this.removeAttribute("expanded"),this.#ht)this.focus();else{let t=$e(this.parentNode,"[tabindex]");t&&t.focus()}t.removeAttribute("closing")}}}#Ut(){let[t,e,i,s]=(new S).parse(this.value,"rgba");this.#L.input.value=v([t,e,i,s],"rgba","hex"),this.#L.input.style.opacity=s}#ft(){this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#dt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#dt>0?this.#dt:0),this.#dt=0)}#J(){this.#Bt||this.#Ut();let t=[...this.querySelectorAll("*")].find((t=>t.localName.endsWith("colorpicker")));t&&t.getAttribute("value")!==this.getAttribute("value")&&t.setAttribute("value",this.getAttribute("value"))}#Nt(){this.#ft()}#jt(t){t.target!==this&&(this.value=y(t.target.value,"rgba"),this.#Ut())}#Ht(){!1===this.#Bt&&(this.#Bt=!0,this.dispatchEvent(new CustomEvent("changestart"))),this.value=this.#L.input.value,this.dispatchEvent(new CustomEvent("change")),this.#Vt()}#Vt=Me((()=>{this.#Bt&&(this.#Bt=!1,this.value=this.#L.input.value,this.dispatchEvent(new CustomEvent("changeend")))}),400);#ut(t){t.target===this&&t.preventDefault()}#$(t){let e=this.querySelector(":scope > x-popover");e&&(e.opened?(!1===e.modal&&t.target===this||!0===e.modal&&"x-backdrop"===t.target.localName)&&(t.preventDefault(),this.#Kt()):(t.preventDefault(),this.#qt()))}#mt(t){if("Enter"===t.code||"NumpadEnter"===t.code||"Space"===t.code){let e=this.querySelector("x-popover");t.preventDefault(),t.stopPropagation(),e?this.hasAttribute("expanded")?this.#Kt():this.#qt():this.#L.input.click()}else if("Escape"===t.code){this.querySelector("x-popover")&&this.hasAttribute("expanded")&&(t.preventDefault(),this.#Kt())}else"Tab"===t.code&&this.hasAttribute("expanded")&&t.preventDefault()}}customElements.define("x-colorselect",We);class Ye extends HTMLElement{static#S=Tt`<template><slot></slot></template>`;static#A=Mt`:host{display:block;position:fixed;width:0;height:0;z-index:1001}`;get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}#T=null;#L={};#Xt=null;#Zt=null;#Gt=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[Ye.#A],this.#T.append(document.importNode(Ye.#S.content,!0)),this.#L.backdrop=Pe("x-backdrop"),this.#L.backdrop.style.background="rgba(0, 0, 0, 0)",this.#L.backdrop.addEventListener("contextmenu",(t=>this.#Wt(t))),this.#L.backdrop.addEventListener("pointerdown",(t=>this.#Tt(t))),this.addEventListener("blur",(t=>this.#Yt())),this.addEventListener("keydown",(t=>this.#mt(t)),!0),this.addEventListener("click",(t=>this.#$(t)))}connectedCallback(){this.#Xt=this.parentElement||this.parentNode.host,window.addEventListener("blur",this.#Zt=()=>{this.#Yt()}),this.#Xt.addEventListener("contextmenu",this.#Gt=t=>{this.#_t(t)})}disconnectedCallback(){window.removeEventListener("blur",this.#Zt),this.#Xt.removeEventListener("contextmenu",this.#Gt),this.#Xt=null}open(t,e){let i=this.querySelector("x-menu");!1===i.opened&&(i.openAtPoint(t,e),this.#L.backdrop.ownerElement=i,this.#L.backdrop.show(!1),i.focus())}close(){return new Promise((async t=>{this.#L.backdrop.hide(!1);let e=this.querySelector("x-menu");if(e&&!0===e.opened){await e.close();let t=$e(this.parentNode,"[tabindex]");t&&t.focus()}t()}))}#Yt(){this.close()}#_t(t){!1===this.disabled&&(t.preventDefault(),this.open(t.clientX,t.clientY))}#Wt(t){t.preventDefault(),t.stopImmediatePropagation(),this.close().then((()=>{let e=((t,e,i=!0)=>{let s=document.elementFromPoint(t,e);if(i&&s)for(;;){let i=s.shadowRoot||s._shadowRoot;if(!i)break;{let n=i.elementFromPoint(t,e);if(n.getRootNode()!==i&&(n=null),!n||n===s)break;s=n}}return s})(t.clientX,t.clientY,!0),i=new MouseEvent(t.type,t);e.dispatchEvent(i)}))}#Tt(t){t.buttons<=1&&(t.preventDefault(),t.stopImmediatePropagation(),this.close())}async#$(t){let e=t.target.closest("x-menuitem");if(e&&!1===e.disabled){let t=e.querySelector("x-menu");t?t.opened?t.close():t.openNextToElement(e,"horizontal"):(this.setAttribute("closing",""),await e.whenTriggerEnd,await this.close(),this.removeAttribute("closing"))}}#mt(t){if("Escape"===t.code){this.querySelector("x-menu").opened&&(t.preventDefault(),this.close())}else if("Tab"===t.code){t.preventDefault(),t.stopPropagation(),this.querySelector("x-menu").focusNextMenuItem()}}}customElements.define("x-contextmenu",Ye);class _e extends HTMLElement{static observedAttributes=["href"];static#S=Tt`<template><svg id="svg" preserveAspectRatio="none" viewBox="0 0 100 100" width="0px" height="0px"></svg></template>`;static#A=Mt`:host{display:block;color:currentColor;display:flex;align-items:center;justify-content:center;width:17px;height:17px}:host([disabled]){opacity:.5}:host([hidden]){display:none}#svg{width:100%;height:100%;fill:currentColor;stroke:none;overflow:inherit;pointer-events:none}`;get href(){return this.hasAttribute("href")?this.getAttribute("href"):""}set href(t){this.setAttribute("href",t)}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}#T=null;#L={};#Jt=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[_e.#A],this.#T.append(document.importNode(_e.#S.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#L[t.id]=t}connectedCallback(){De.addEventListener("iconsetschange",this.#Jt=()=>{this.#_()})}disconnectedCallback(){De.removeEventListener("iconsetschange",this.#Jt)}attributeChangedCallback(t,e,i){e!==i&&"href"===t&&this.#_()}async#_(){let t=null,e=this.href.trim();if(""!==e){let i=null,s=null;if(e.includes("#")){let t=e.split("#");""!==t[0]&&(i=t[0]),""!==t[1]&&(s=t[1])}if(null!==s)if(null===i)await De.whenIconsetsReady,t=De.queryIcon("#"+CSS.escape(s));else{let e=await Rt(i);e&&(t=e.querySelector("#"+CSS.escape(s)))}}t?(this.#L.svg.setAttribute("viewBox",t.getAttribute("viewBox")),this.#L.svg.innerHTML=t.innerHTML):this.#L.svg.innerHTML=""}}customElements.define("x-icon",_e);class Je extends HTMLElement{static observedAttributes=["type","value","spellcheck","maxlength","readonly","disabled","validation"];static#S=Tt`<template><main id="main"><slot></slot><input id="input" spellcheck="false" part="input"></main></template>`;static#A=Mt`:host{display:block;position:relative;max-width:160px;height:32px;box-sizing:border-box;background:#fff;font-size:12.5px}:host(:focus){z-index:10}:host(:hover){cursor:text}:host([mixed]){color:rgba(0,0,0,.7)}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}#main{display:flex;align-items:center;width:100%;height:100%}#input{width:100%;height:100%;padding:0 6px;box-sizing:border-box;color:inherit;background:0 0;border:none;outline:0;font-family:inherit;font-size:inherit;font-weight:inherit;text-align:inherit;cursor:inherit}#input:-webkit-autofill{z-index:1}#input:-internal-autofill-previewed,#input:-internal-autofill-selected{-webkit-box-shadow:var(--autofill-background-color) 0 0 0 30px inset}:host(:not(:focus)) ::selection{color:inherit;background:0 0}`;get type(){return this.hasAttribute("type")?this.getAttribute("type"):"text"}set type(t){this.setAttribute("type",t)}get value(){return this.#L.input.value}set value(t){this.#L.input.value!==t&&(this.matches(":focus")?(this.#L.input.selectionStart=0,this.#L.input.selectionEnd=this.#L.input.value.length,document.execCommand("insertText",!1,t)):this.#L.input.value=t,"instant"===this.validation?this.reportValidity():"auto"!==this.validation&&"manual"!==this.validation||(this.#Qt||this.#te)&&this.reportValidity(),this.#ee())}get spellcheck(){return this.hasAttribute("spellcheck")}set spellcheck(t){t?this.setAttribute("spellcheck",""):this.removeAttribute("spellcheck")}get minLength(){return this.hasAttribute("minlength")?parseInt(this.getAttribute("minlength")):0}set minLength(t){this.setAttribute("minlength",t)}get maxLength(){return this.hasAttribute("maxlength")?parseInt(this.getAttribute("maxlength")):Infinity}set maxLength(t){this.setAttribute("maxlength",t)}get required(){return this.hasAttribute("required")}set required(t){t?this.setAttribute("required",""):this.removeAttribute("required")}get readOnly(){return this.hasAttribute("readonly")}set readOnly(t){!0===t?this.setAttribute("readonly",t):this.removeAttribute("readonly")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get validation(){return this.hasAttribute("validation")?this.getAttribute("validation"):"auto"}set validation(t){this.setAttribute("validation",t)}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}get empty(){return this.hasAttribute("empty")}get error(){return this.hasAttribute("error")}#T=null;#L={};#dt=0;#Qt=null;#te=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed",delegatesFocus:!0}),this.#T.adoptedStyleSheets=[Je.#A],this.#T.append(document.importNode(Je.#S.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#L[t.id]=t;this.addEventListener("click",(t=>this.#$(t))),this.addEventListener("pointerenter",(()=>this.#ct())),this.addEventListener("pointerleave",(()=>this.#pt())),this.addEventListener("focusin",(t=>this.#ie(t))),this.addEventListener("focusout",(t=>this.#se(t))),this.addEventListener("keydown",(t=>this.#mt(t))),this.#L.input.addEventListener("change",(t=>this.#Ht(t))),this.#L.input.addEventListener("input",(t=>this.#ne(t))),this.#L.input.addEventListener("search",(t=>this.#oe(t)))}connectedCallback(){this.#ft(),this.#ee(),"instant"===this.validation?this.reportValidity():"auto"!==this.validation&&"manual"!==this.validation||(this.#Qt||this.#te)&&this.reportValidity()}attributeChangedCallback(t){"type"===t?this.#ae():"value"===t?this.#J():"spellcheck"===t?this.#re():"maxlength"===t?this.#he():"readonly"===t?this.#le():"disabled"===t?this.#Nt():"validation"===t&&this.#de()}selectAll(){this.#L.input.select()}clear(){this.value="",this.#Qt=null,this.#te=null,this.#ue()}reportValidity(){let t=new CustomEvent("beforevalidate",{bubbles:!1,cancelable:!0});return this.dispatchEvent(t),!1===t.defaultPrevented&&(this.value.length<this.minLength?this.#Qt={href:"#entered-text-is-too-short"}:this.value.length>this.maxLength?this.#Qt={href:"#entered-text-is-too-long"}:this.required&&0===this.value.length?this.#Qt={href:"#required-field"}:"email"===this.type&&!1===this.#L.input.validity.valid?this.#Qt={href:"#invalid-email"}:"url"===this.type&&!1===this.#L.input.validity.valid?this.#Qt={href:"#invalid-url"}:"color"===this.type&&!1===(t=>{try{(new S).parse(t)}catch(t){return!1}return!0})(this.#L.input.value)?this.#Qt={href:"#invalid-color"}:this.#Qt=null,this.#ue()),null===this.#Qt&&null===this.#te}setCustomValidity(t){this.#te=""===t?null:t,this.#ue()}#ue(){let t=this.#te||this.#Qt;t?this.setAttribute("error",""):this.removeAttribute("error");{let e=this.querySelector(':scope > x-tooltip[type="error"]');if(t&&this.matches(":focus")){if(e||(e=Pe("x-tooltip"),e.setAttribute("type","error"),this.append(e)),t.href){let i=t.args?Object.entries(t.args).map((([t,e])=>`${t}:${e}`)).join(","):"";e.innerHTML=`<x-message href="${t.href}" args="${i}"></x-message>`}else e.innerHTML=t;Ae(10).then((()=>{e.open(this)}))}else e&&e.close().then((()=>e.remove()))}}#ee(){0===this.value.length?this.setAttribute("empty",""):this.removeAttribute("empty")}#ft(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.setAttribute("aria-readonly",this.readOnly),this.disabled?(this.#dt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#dt>0?this.#dt:0),this.#dt=0)}#ae(){"color"===this.type?this.#L.input.type="text":this.#L.input.type=this.type}#J(){this.value=this.hasAttribute("value")?this.getAttribute("value"):"",this.matches(":focus")&&this.selectAll()}#re(){this.#L.input.spellcheck=this.spellcheck}#he(){this.#L.input.maxLength=this.maxLength}#le(){this.#L.input.readOnly=this.readOnly,this.#ft()}#Nt(){this.#L.input.disabled=this.disabled,this.#ft()}#de(){"instant"===this.validation?this.reportValidity():"auto"!==this.validation&&"manual"!==this.validation||(this.#Qt||this.#te)&&this.reportValidity()}#$(){this.#ue()}#ct(){let t=this.querySelector(":scope > x-tooltip");t&&!1===t.disabled&&t.open(this)}#pt(){let t=this.querySelector(":scope > x-tooltip");t&&t.close()}#ie(){this.#ue(),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}))}#se(){this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),"auto"===this.validation||"instant"===this.validation?this.reportValidity():"manual"===this.validation&&this.#ue()}#mt(t){"Enter"!==t.code&&"NumpadEnter"!==t.code||(document.execCommand("selectAll"),"instant"===this.validation?this.reportValidity():"auto"!==this.validation&&"manual"!==this.validation||this.reportValidity())}#ne(t){"instant"===this.validation?this.reportValidity():"auto"!==this.validation&&"manual"!==this.validation||(this.#Qt||this.#te)&&this.reportValidity(),t.stopPropagation(),this.#ee(),this.dispatchEvent(new CustomEvent("input",{bubbles:!0}))}#Ht(){"search"!==this.type&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}#oe(){this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}}customElements.define("x-input",Je);class Qe extends HTMLElement{static#S=Tt`<template><slot></slot></template>`;static#A=Mt`:host{display:block;line-height:1.2;cursor:default;user-select:none;-webkit-user-select:none;box-sizing:border-box}:host([disabled]){opacity:.5}:host([hidden]){display:none}slot{text-decoration:inherit}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}#T=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[Qe.#A],this.#T.append(document.importNode(Qe.#S.content,!0))}}customElements.define("x-label",Qe);let{isFinite:ti,isNaN:ei,parseFloat:ii}=Number;class si extends HTMLElement{static observedAttributes=["href","args","autocapitalize","ellipsis"];get href(){return this.hasAttribute("href")?this.getAttribute("href"):""}set href(t){this.setAttribute("href",t)}get args(){let t=Object.create(null),e=this.hasAttribute("args")?this.getAttribute("args").trim():"";if(""!==e)for(let i of e.split(",")){let[e,s]=i.split(":");e=e.trim(),s=s.trim();let n=parseFloat(s),o=s-n+1>=0;t[e]=o?n:s}return t}set args(t){let e=Object.keys(t).map((e=>`${e}: ${t[e]}`)).join(", ");0===t.length?this.removeAttribute("args"):this.setAttribute("args",e)}get autocapitalize(){return!!this.hasAttribute("autocapitalize")}set autocapitalize(t){t?this.setAttribute("autocapitalize",""):this.removeAttribute("autocapitalize")}get ellipsis(){return this.hasAttribute("ellipsis")}set ellipsis(t){t?this.setAttribute("ellipsis",""):this.removeAttribute("ellipsis")}get whenReady(){return new Promise((t=>{null===this.#ce?t():this.#ce.push(t)}))}#pe=null;#me=null;#ce=[];connectedCallback(){this.#_(),De.addEventListener("localeschange",this.#pe=()=>{this.#_()}),De.addEventListener("themechange",this.#me=()=>{this.#_()})}disconnectedCallback(){De.removeEventListener("localeschange",this.#pe),De.removeEventListener("themechange",this.#me)}attributeChangedCallback(t,e,i){e!==i&&!1!==this.isConnected&&("href"===t||"args"===t||"autocapitalize"===t||"ellipsis"===t)&&this.#_()}async#_(){await De.whenLocalesReady;let t=De.queryMessage(this.href,this.args);if("html"===t.format?this.innerHTML=t.content+(this.ellipsis?"…":""):!0===this.autocapitalize&&"titlecase"===De.autocapitalize?this.textContent=(t=>{let e=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|v.?|vs.?|via)$/i,i=/([A-Za-z0-9\u00C0-\u00FF])/;return t.split(/([ :–—-])/).map(((t,s,n)=>t.search(e)>-1&&0!==s&&s!==n.length-1&&":"!==n[s-3]&&":"!==n[s+1]&&("-"!==n[s+1]||"-"===n[s-1]&&"-"===n[s+1])?t.toLowerCase():t.substr(1).search(/[A-Z]|\../)>-1||":"===n[s+1]&&""!==n[s+2]?t:t.replace(i,(t=>t.toUpperCase())))).join("")})(t.content)+(this.ellipsis?"…":""):this.textContent=t.content+(this.ellipsis?"…":""),null!==this.#ce){for(let t of this.#ce)t();this.#ce=null}}}customElements.define("x-message",si);let ni=t=>{let[e,i,...s]=t.trim().split(" ");return[i,parseFloat(e),s.join(" ")]},{abs:oi}=Math;class ai extends HTMLElement{static observedAttributes=["opened"];static#S=Tt`<template><slot id="slot"></slot></template>`;static#A=Mt`:host{display:none;top:0;left:0;width:fit-content;padding:4px 0;z-index:1001;box-sizing:border-box;background:#fff;cursor:default;overflow:auto;flex-direction:column;-webkit-app-region:no-drag;--align:start;--scrollbar-background:rgba(0, 0, 0, 0.2);--scrollbar-width:6px;--open-transition:100 transform cubic-bezier(0.4, 0, 0.2, 1);--close-transition:200 opacity cubic-bezier(0.4, 0, 0.2, 1)}:host([animating]),:host([opened]){display:flex}:host(:focus){outline:0}:host-context([debug]):host(:focus){outline:2px solid red}::-webkit-scrollbar{max-width:var(--scrollbar-width);background:0 0}::-webkit-scrollbar-thumb{background-color:var(--scrollbar-background)}::-webkit-scrollbar-corner{display:none}`;get opened(){return this.hasAttribute("opened")}#T=null;#L={};#ge=[];#be=null;#fe=null;#xe=0;#we=0;#ve=!1;#ye=!1;#ke=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[ai.#A],this.#T.append(document.importNode(ai.#S.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#L[t.id]=t;this.addEventListener("pointerdown",(t=>this.#ut(t))),this.addEventListener("pointerover",(t=>this.#Ce(t))),this.addEventListener("pointerout",(t=>this.#Ee(t))),this.addEventListener("pointermove",(t=>this.#ze(t))),this.addEventListener("keydown",(t=>this.#mt(t))),this.addEventListener("wheel",(t=>this.#Se(t)),{passive:!1}),this.addEventListener("scroll",(t=>this.#Ae(t)),{passive:!0})}connectedCallback(){this.setAttribute("role","menu"),this.setAttribute("aria-hidden",!this.opened),this.setAttribute("tabindex","0")}attributeChangedCallback(t){"opened"===t&&this.#Le()}openOverElement(t,e){return new Promise((async i=>{let s=this.querySelectorAll(":scope > x-menuitem");if(s.length>0){this.#ve=!0,this.#ke=Le(),this.#Te(),this.setAttribute("opened","");let i=[...s].find((t=>t.contains(e)))||s[0],n=this.getBoundingClientRect(),o=t.getBoundingClientRect(),a=e.getBoundingClientRect(),r=0,h=0;i.focus(),0===n.top&&0===n.left||(r=-n.left,h=-n.top),this.style.left=o.x-(a.x-n.x)+r+"px",this.style.top=o.y-(a.y-n.y)+h+"px",n=this.getBoundingClientRect(),n.left<7&&(this.style.left=7+r+"px",n=this.getBoundingClientRect());7-n.top>0&&(this.style.height=n.bottom-7+"px",this.style.top=7+h+"px",this.scrollTop=9999,n=this.getBoundingClientRect());if(n.bottom+7>window.innerHeight){let t=n.bottom-window.innerHeight,e=n.height-t-7;this.style.height=e+"px"}if(n.right+7>window.innerWidth){let t=n.right-window.innerWidth,e=n.width-t-7;this.style.width=`${e}px`}{let t=getComputedStyle(this).getPropertyValue("--open-transition"),[e,i,s]=ni(t);if("transform"===e){let t=this.getBoundingClientRect(),e=o.y+o.height/2-t.top;await this.animate({transform:["scaleY(0)","scaleY(1)"],transformOrigin:[`0 ${e}px`,`0 ${e}px`]},{duration:i,easing:s}).finished}}this.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:this})),this.#we=h}i()}))}openOverLabel(t){return new Promise((async e=>{let i=this.querySelectorAll(":scope > x-menuitem");if(i.length>0){this.#Te(),this.setAttribute("opened",""),this.#ve=!0,this.#ke=Le();let e=[...i].find((e=>{let i=e.querySelector("x-label");return!(!i||i.textContent!==t.textContent)}));e||(e=i[0]);let s=e.querySelector("x-label");await this.openOverElement(t,s)}e()}))}openNextToElement(t,e="horizontal",i=0){return new Promise((async s=>{this.#ve=!1,this.#ke=Le(),this.#Te(),this.setAttribute("opened",""),this.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:this})),"x-menuitem"===t.localName&&t.setAttribute("expanded","");let n=getComputedStyle(this).getPropertyValue("--align").trim(),o=t.getBoundingClientRect(),a=this.getBoundingClientRect(),r=0,h=0;if(0===a.top&&0===a.left||(r=-a.left,h=-a.top),"horizontal"===e){this.style.top=o.top+h+"px",this.style.left=o.left+o.width+i+r+"px";let t="right";{let t=this.getBoundingClientRect();t.width>window.innerWidth-10&&(this.style.width=window.innerWidth-10+"px"),t.height>window.innerHeight-10&&(this.style.height=window.innerHeight-10+"px")}{let e=this.getBoundingClientRect();e.left+e.width+7>window.innerWidth&&(o.left>e.width+7?(this.style.left=o.left-e.width+r+"px",t="left"):o.left>window.innerWidth-(o.left+o.width)?(this.style.left=7+r+"px",t="left"):(this.style.left=window.innerWidth-e.width-7+r+"px",t="right"))}{let t=this.getBoundingClientRect();if(t.top+t.height+7>window.innerHeight){let e=t.top+t.height+7-window.innerHeight;this.style.top=t.top-e+h+"px"}}{let e=getComputedStyle(this).getPropertyValue("--open-transition"),[i,s,n]=ni(e);"transform"===i&&await this.animate({transform:["scale(0, 0)","scale(1, 1)"],transformOrigin:["left"===t?"100% 0":"0 0","left"===t?"100% 0":"0 0"]},{duration:s,easing:n}).finished}}else if("vertical"===e){this.style.top=o.top+o.height+i+h+"px",this.style.left="0px";let e="bottom";{let t=this.getBoundingClientRect();t.width>window.innerWidth-10&&(this.style.width=window.innerWidth-10+"px"),t.height>window.innerHeight-10&&(this.style.height=window.innerHeight-10+"px")}if(t.parentElement&&"x-menubar"===t.parentElement.localName){let t=this.getBoundingClientRect();t.top+t.height+7>window.innerHeight&&(this.style.height=window.innerHeight-(o.top+o.height)-10+"px")}else{let t=this.getBoundingClientRect();t.top+t.height+7>window.innerHeight&&(o.top>t.height+7?(this.style.top=o.top-t.height-i+h+"px",e="top"):o.top>window.innerHeight-(o.top+o.height)?(this.style.top=7+h+"px",e="top"):(this.style.top=window.innerHeight-t.height-7+h+"px",e="bottom"))}if("start"===n){this.style.left=o.left+r+"px";{let t=this.getBoundingClientRect();t.left+t.width+7>window.innerWidth&&(this.style.left=o.left+o.width-t.width+r+"px")}this.getBoundingClientRect().left<7&&(this.style.left=7+r+"px")}else if("end"===n){this.style.left=o.left+o.width-a.width+r+"px";this.getBoundingClientRect().left<7&&(this.style.left=o.left+r+"px");{let t=this.getBoundingClientRect();t.left+t.width+7>window.innerWidth&&(this.style.left=window.innerWidth-7+r+"px")}}{let t=getComputedStyle(this).getPropertyValue("--open-transition"),[i,s,n]=ni(t);"transform"===i&&await this.animate({transform:["scale(1, 0)","scale(1, 1)"],transformOrigin:["top"===e?"0 100%":"0 0","top"===e?"0 100%":"0 0"]},{duration:s,easing:n}).finished}}this.#we=h,s()}))}openAtPoint(t,e){return new Promise((async i=>{this.#ve=!1,this.#ke=Le(),this.#Te(),this.setAttribute("opened",""),this.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:this}));let s=0,n=0,o=[...this.querySelectorAll(":scope > x-menuitem > x-label > x-message")];await Promise.all(o.map((t=>t.whenReady)));let a=this.getBoundingClientRect();0===a.top&&0===a.left||(s=-a.left,n=-a.top),this.style.left=t+s+"px",this.style.top=e+n+"px",a=this.getBoundingClientRect(),a.right+7>window.innerWidth&&(t-=a.width,this.style.left=t+s+"px",a=this.getBoundingClientRect()),a.bottom+7>window.innerHeight&&(e=e+window.innerHeight-(a.top+a.height)-7,this.style.top=e+n+"px",a=this.getBoundingClientRect(),a.top<7&&(e=7,this.style.top=e+n+"px",this.style.height=window.innerHeight-7-7+"px"));{let t=getComputedStyle(this).getPropertyValue("--open-transition"),[e,i,s]=ni(t);"transform"===e&&await this.animate({transform:["scale(0)","scale(1)"],transformOrigin:["0 0","0 0"]},{duration:80,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"}).finished}this.#we=n,i()}))}close(t=!0){return new Promise((async e=>{if(this.opened){this.removeAttribute("opened"),this.dispatchEvent(new CustomEvent("close",{bubbles:!0,detail:this}));let e=this.closest("x-menuitem");if(e&&e.removeAttribute("expanded"),t){this.setAttribute("animating","");let t=getComputedStyle(this).getPropertyValue("--close-transition"),[e,i,s]=ni(t);"opacity"===e&&await this.animate({opacity:["1","0"]},{duration:i,easing:s}).finished,this.removeAttribute("animating")}for(let t of this.querySelectorAll(":scope > x-menuitem")){let e=t.querySelector("x-menu[opened]");e&&e.close()}}e()}))}focusNextMenuItem(){let t=this.querySelector(":scope > x-menuitem:focus, :scope > x-menuitem[expanded]");if(t){let e=null;for(let i=t.nextElementSibling;i;i=i.nextElementSibling)if("x-menuitem"===i.localName&&!1===i.disabled&&!1===i.hidden){e=i;break}if(null===e&&null!=t.parentElement)for(let i of t.parentElement.children)if("x-menuitem"===i.localName&&!1===i.disabled&&!1===i.hidden){e=i;break}if(e){e.focus();let i=t.querySelector("x-menu");i&&i.close()}}else this.focusFirstMenuItem()}focusPreviousMenuItem(){let t=this.querySelector(":scope > x-menuitem:focus, :scope > x-menuitem[expanded]");if(t){let e=null;for(let i=t.previousElementSibling;i;i=i.previousElementSibling)if("x-menuitem"===i.localName&&!1===i.disabled&&!1===i.hidden){e=i;break}if(null===e&&null!=t.parentElement)for(let i of[...t.parentElement.children].reverse())if("x-menuitem"===i.localName&&!1===i.disabled&&!1===i.hidden){e=i;break}if(e){e.focus();let i=t.querySelector("x-menu");i&&i.close()}}else this.focusLastMenuItem()}focusFirstMenuItem(){let t=this.querySelectorAll("x-menuitem:not([disabled]):not([hidden])")[0]||null;t&&t.focus()}focusLastMenuItem(){let t=this.querySelectorAll("x-menuitem:not([disabled]):not([hidden])"),e=t.length>0?t[t.length-1]:null;e&&e.focus()}#Me(t){let e=0;{let t=this.#ge[this.#ge.length-1],i=this.#ge[0];if(this.querySelector("x-menu[opened]")&&t){i||(i=t);let s=this.getBoundingClientRect(),n={x:s.left,y:s.top-75},o={x:s.left+s.width,y:n.y},a={x:s.left,y:s.top+s.height+75},r={x:s.left+s.width,y:a.y},h=!0;if((i.x<s.left||i.x>r.x||i.y<s.top||i.y>r.y)&&(h=!1),this.#fe&&t.x===this.#fe.x&&t.y===this.#fe.y&&(h=!1),h){let s,n;s=o,n=r;let a=(t,e)=>(e.y-t.y)/(e.x-t.x),h=a(t,s),l=a(t,n),d=a(i,s),u=a(i,n);h<d&&l>u?(this.#fe=t,e=300):this.#fe=null}}}e>0?this.#be=setTimeout((()=>{this.#Me(t)}),e):t()}#De(){this.#be&&(clearTimeout(this.#be),this.#be=null)}#Te(){this.style.position="fixed",this.style.top="0px",this.style.left="0px",this.style.width=null,this.style.height=null,this.style.minWidth=null,this.style.maxWidth=null}#Pe(){return this.matches("*[closing], *[closing] x-menu")}#Le(){this.setAttribute("aria-hidden",!this.opened)}#ut(t){if(t.target!==this&&"hr"!==t.target.localName||t.stopPropagation(),"touch"===t.pointerType&&t.target.closest("x-menu")===this){!1===this.#ye&&this.#Re();{let e=t.target.closest("x-menuitem");e&&!1===e.disabled&&e.closest("x-menu")===this?!1===e.matches(":focus")&&this.#Me((async()=>{let t=this.querySelector(":scope > x-menuitem:focus");if(t){let e=t.querySelector("x-menu");e&&e.close()}e.closest("x-menu");let i=e.querySelector("x-menu"),s=[...this.querySelectorAll(":scope > x-menuitem")].filter((t=>t!==e));i&&(await Ae(60),e.matches(":focus")&&!1===i.opened&&i.openNextToElement(e,"horizontal"));for(let t of s){let e=t.querySelector("x-menu");e&&e.close()}})):this.#Me((()=>{this.focus()}))}}}#Ce(t){if(!this.#Pe()&&"touch"!==t.pointerType&&t.target.closest("x-menu")===this){!1===this.#ye&&this.#Re();{let e=t.target.closest("x-menuitem");e&&!1===e.disabled&&e.closest("x-menu")===this?!1===e.matches(":focus")&&this.#Me((async()=>{let t=this.querySelector(":scope > x-menuitem:focus");if(t){let e=t.querySelector("x-menu");e&&e.close()}e.focus(),e.closest("x-menu");let i=e.querySelector("x-menu"),s=[...this.querySelectorAll(":scope > x-menuitem")].filter((t=>t!==e));i&&(await Ae(60),e.matches(":focus")&&!1===i.opened&&i.openNextToElement(e,"horizontal"));for(let t of s){let e=t.querySelector("x-menu");e&&e.close()}})):this.#Me((()=>{this.focus()}))}}}#Ee(t){t.relatedTarget&&$e(t.relatedTarget,"x-menu")===this||!0===this.#ye&&this.#$e()}#Re(){this.#Pe()||(this.#ye=!0,this.#De())}#$e(){this.#Pe()||(this.#ye=!1,this.#De(),this.focus())}#ze(t){this.#ge.push({x:t.clientX,y:t.clientY}),this.#ge.length>3&&this.#ge.shift()}#Se(t){t.target.closest("x-menu")===this?(t.preventDefault(),this.scrollTop=this.scrollTop+t.deltaY,this.#ye=!0):this.#ye=!1}#Ae(){if(this.#ve){let t=this.scrollTop-this.#xe;if(this.#xe=this.scrollTop,Le()-this.#ke>100){let e=this.getBoundingClientRect();t<0?e.bottom+oi(t)<=window.innerHeight-7?this.style.height=e.height+oi(t)+"px":this.style.height=window.innerHeight-14+"px":t>0&&(e.top-t>=7?(this.style.top=this.#we+e.top-t+"px",this.style.height=e.height+t+"px",this.scrollTop=0,this.#xe=0):(this.style.top=7+this.#we+"px",this.style.height=window.innerHeight-14+"px"))}}}#mt(t){if(this.#Pe())t.preventDefault(),t.stopPropagation();else if("ArrowUp"===t.code)t.preventDefault(),t.stopPropagation(),this.focusPreviousMenuItem();else if("ArrowDown"===t.code)t.preventDefault(),t.stopPropagation(),this.focusNextMenuItem();else if("ArrowRight"===t.code||"Enter"===t.code||"NumpadEnter"===t.code||"Space"===t.code){let e=this.querySelector("x-menuitem:focus");if(e){let i=e.querySelector("x-menu");if(i){t.preventDefault(),t.stopPropagation(),!1===i.opened&&i.openNextToElement(e,"horizontal");let s=i.querySelector("x-menuitem:not([disabled]):not([hidden])");s&&s.focus()}}}else if("ArrowLeft"===t.code){let e=this.querySelector("x-menuitem:focus");if(e){let i=e.closest("x-menu").closest("x-menuitem");i&&i.closest("x-menu")&&(t.preventDefault(),t.stopPropagation(),i.focus(),this.close())}}}}customElements.define("x-menu",ai);class ri extends HTMLElement{static observedAttributes=["disabled"];static#S=Tt`<template><svg id="backdrop" hidden><path id="backdrop-path"></path></svg><slot></slot></template>`;static#A=Mt`:host{display:flex;align-items:center;width:100%;height:36px;box-sizing:border-box}:host([disabled]){pointer-events:none;opacity:.6}:host([hidden]){display:none}#backdrop{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1000;pointer-events:none;touch-action:none}#backdrop[hidden]{display:none}#backdrop path{fill:red;fill-rule:evenodd;opacity:0;pointer-events:all}`;get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}#T=null;#L={};#Ie=!1;#Oe=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[ri.#A],this.#T.append(document.importNode(ri.#S.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#L[t.id]=t;this.addEventListener("focusout",(t=>this.#se(t))),this.#T.addEventListener("pointerover",(t=>this.#Fe(t))),this.#T.addEventListener("click",(t=>this.#Ne(t))),this.#T.addEventListener("wheel",(t=>this.#Be(t))),this.#T.addEventListener("keydown",(t=>this.#je(t)))}connectedCallback(){this.setAttribute("role","menubar"),this.setAttribute("aria-disabled",this.disabled),window.addEventListener("orientationchange",this.#Oe=()=>{this.#He()})}disconnectedCallback(){window.removeEventListener("orientationchange",this.#Oe)}attributeChangedCallback(t){"disabled"===t&&this.#Nt()}#Ue(t){let e=t.querySelector(":scope > x-menu");if(e&&!1===e.opened){t.focus(),this.#Ie=!0,this.style.touchAction="none";{e.openNextToElement(t,"vertical");let i=[...this.querySelectorAll(":scope > x-menuitem > x-menu")].filter((t=>t!==e));for(let t of i)t&&t.close(!1)}{let{x:t,y:e,width:i,height:s}=this.getBoundingClientRect();this.#L["backdrop-path"].setAttribute("d",`\n          M 0 0\n          L ${window.innerWidth} 0\n          L ${window.innerWidth} ${window.innerHeight}\n          L 0 ${window.innerHeight}\n          L 0 0\n          M ${t} ${e}\n          L ${t+i} ${e}\n          L ${t+i} ${e+s}\n          L ${t} ${e+s}\n        `),this.#L.backdrop.removeAttribute("hidden")}}}#qe(){return new Promise((async t=>{this.#Ie=!1,this.style.touchAction=null,this.#L.backdrop.setAttribute("hidden",""),this.#L["backdrop-path"].setAttribute("d","");{let t=this.querySelectorAll(":scope > x-menuitem > x-menu[opened]");for(let e of t)await e.close(!0)}let e=this.querySelector("x-menuitem:focus");e&&e.blur(),t()}))}#Ke(){let t=[...this.querySelectorAll(":scope > x-menuitem:not([disabled])")],e=this.querySelector(":focus").closest("x-menubar > x-menuitem");if(t.length>1&&e){let i=t.indexOf(e),s=t[i-1]||t[t.length-1];this.#Ue(s)}}#Ve(){let t=[...this.querySelectorAll(":scope > x-menuitem:not([disabled])")],e=this.querySelector(":focus").closest("x-menubar > x-menuitem");if(e&&t.length>1){let i=t.indexOf(e),s=t[i+1]||t[0];this.#Ue(s)}}#Nt(){this.setAttribute("aria-disabled",this.disabled)}#se(t){null!==t.relatedTarget&&!1!==this.contains(t.relatedTarget)||this.#qe()}#He(){this.#qe()}#Be(t){let e=this.querySelector("x-menu[opened]");e&&!1===e.contains(t.target)&&t.preventDefault()}async#Ne(t){if(this.hasAttribute("closing"))return;let e=t.target.closest("x-menuitem"),i=t.target.closest("x-menu");if(!e||!1!==e.disabled||i&&!i.contains(e))t.target===this.#L["backdrop-path"]&&(this.#qe(),t.preventDefault(),t.stopPropagation());else{let t=e.querySelector("x-menu");e.parentElement===this?t&&(t.opened?this.#qe():this.#Ue(e)):t?t.opened&&!1===t.opened&&t.openNextToElement(e,"horizontal"):(this.setAttribute("closing",""),await e.whenTriggerEnd,await this.#qe(),this.removeAttribute("closing"))}}#Fe(t){if(this.hasAttribute("closing"))return;let e=t.target.closest("x-menuitem");null===t.target.closest("x-menu")&&e&&e.parentElement===this&&this.#Ie&&"touch"!==t.pointerType&&(!1===e.hasAttribute("expanded")?this.#Ue(e):e.focus())}#je(t){if(this.hasAttribute("closing"))t.stopPropagation(),t.preventDefault();else if("Enter"===t.code||"NumpadEnter"===t.code||"Space"===t.code){let e=this.querySelector(":scope > x-menuitem:focus");e&&(t.preventDefault(),e.click())}else if("Escape"===t.code)this.#Ie&&(t.preventDefault(),this.#qe());else if("Tab"===t.code){let t=this.querySelector(":scope > x-menuitem:focus, :scope > x-menuitem[expanded]");if(t){t.focus();let e=t.querySelector(":scope > x-menu");e&&(e.tabIndex=-1,e.close().then((()=>{e.tabIndex=-1})))}}else if("ArrowRight"===t.code)this.#Ve();else if("ArrowLeft"===t.code)this.#Ke();else if("ArrowDown"===t.code){let e=this.querySelector("x-menuitem:focus > x-menu");e&&(t.preventDefault(),e.focusFirstMenuItem())}else if("ArrowUp"===t.code){let e=this.querySelector("x-menuitem:focus > x-menu");e&&(t.preventDefault(),e.focusLastMenuItem())}}}customElements.define("x-menubar",ri);class hi extends HTMLElement{static observedAttributes=["disabled"];static#S=Tt`<template><svg id="checkmark" part="checkmark" viewBox="0 0 100 100" preserveAspectRatio="none"><path id="checkmark-path"></path></svg><slot></slot><svg id="arrow" part="arrow" viewBox="0 0 100 100" hidden><path id="arrow-path"></path></svg></template>`;static#A=Mt`:host{display:flex;flex-flow:row;align-items:center;position:relative;padding:0 12px 0 23px;min-height:28px;box-sizing:border-box;cursor:default;user-select:none;-webkit-user-select:none;--trigger-effect:blink}:host([hidden]){display:none}:host([disabled]){pointer-events:none;opacity:.6}:host(:focus){outline:0}:host-context([debug]):host(:focus){outline:2px solid red}#checkmark{display:none;transition:transform .2s cubic-bezier(.4, 0, .2, 1);align-self:center;width:18px;height:18px;margin:0 2px 0 -20px;color:inherit;--path-data:M 44 61 L 29 47 L 21 55 L 46 79 L 79 27 L 70 21 L 44 61 Z}:host([togglable]) #checkmark{display:flex;transform:scale(0);transform-origin:50% 50%}:host([toggled]) #checkmark{display:flex;transform:scale(1)}#checkmark-path{fill:currentColor}#arrow{display:flex;width:16px;height:16px;transform:scale(1.1);align-self:center;margin-left:8px;opacity:1;color:inherit;--path-data:M 26 20 L 26 80 L 74 50 Z}#arrow[hidden]{display:none}#arrow path{fill:currentColor}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):null}set value(t){this.value!==t&&(null===t?this.removeAttribute("value"):this.setAttribute("value",t))}get toggled(){return this.hasAttribute("toggled")}set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled")}get togglable(){return this.hasAttribute("togglable")}set togglable(t){t?this.setAttribute("togglable",""):this.removeAttribute("togglable")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}get whenTriggerEnd(){return new Promise((t=>{!1===this.#Xe?t():this.#Ze.push(t)}))}#T=null;#L={};#dt=0;#Xe=!1;#Ze=[];#Ge=!1;#P=null;#We=new MutationObserver((()=>this.#Ye()));constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[hi.#A],this.#T.append(document.importNode(hi.#S.content,!0)),this.addEventListener("pointerdown",(t=>this.#ut(t))),this.addEventListener("click",(t=>this.#$(t))),this.addEventListener("keydown",(t=>this.#mt(t)));for(let t of this.#T.querySelectorAll("[id]"))this.#L[t.id]=t}connectedCallback(){this.#It(),this.#O(),this.#Ye(),this.#ft(),this.#We.observe(this,{childList:!0,attributes:!1,characterData:!1,subtree:!1}),De.addEventListener("themechange",this.#P=()=>this.#_e())}disconnectedCallback(){this.#We.disconnect(),De.removeEventListener("themechange",this.#P)}attributeChangedCallback(t){"disabled"===t&&this.#ft()}#It(){let t=getComputedStyle(this.#L.checkmark).getPropertyValue("--path-data");this.#L["checkmark-path"].setAttribute("d",t)}#O(){let t=getComputedStyle(this.#L.arrow).getPropertyValue("--path-data");this.#L["arrow-path"].setAttribute("d",t)}#Ye(){if("x-menubar"===this.parentElement.localName)this.#L.arrow.setAttribute("hidden","");else{this.querySelector("x-menu")?this.#L.arrow.removeAttribute("hidden"):this.#L.arrow.setAttribute("hidden","")}}#ft(){this.setAttribute("role","menuitem"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#dt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#dt>0?this.#dt:0),this.#dt=0)}#_e(){this.#It(),this.#O()}async#ut(t){if(this.#Ge=this.matches(":focus"),t.buttons>1)return!1;if(this.matches("[closing] x-menuitem"))return t.preventDefault(),void t.stopPropagation();if(t.target.closest("x-menuitem")===this){this.setPointerCapture(t.pointerId);{let e,i=!0,s=Date.now();this.addEventListener("pointerup",e=async()=>{this.removeEventListener("pointerup",e),this.removeEventListener("pointercancel",e),i=!1;let n=Date.now()-s,o="touch"===t.pointerType?600:150;n<o&&await Ae(o-n),this.removeAttribute("pressed")}),this.addEventListener("pointercancel",e),i&&this.setAttribute("pressed","")}}}async#$(t){if(!(t.buttons>1||t.target.closest("x-menuitem")!==this||t.target.closest("x-menu")!==this.closest("x-menu")||this.matches("[closing] x-menuitem"))){if(this.togglable){let t=new CustomEvent("toggle",{bubbles:!0,cancelable:!0});this.dispatchEvent(t),!1===t.defaultPrevented&&(this.toggled=!this.toggled)}if(!this.querySelector(":scope > x-menu")){let t=getComputedStyle(this).getPropertyValue("--trigger-effect").trim();if("blink"===t){this.#Xe=!0,this.#Ge?(this.parentElement.focus(),await Ae(150),this.focus(),await Ae(150)):(this.focus(),await Ae(150),this.parentElement.focus(),await Ae(150));for(let t of this.#Ze)t();this.#Ze=[],this.#Xe=!1}else if("none"===t){this.#Xe=!0,await Ae(50);for(let t of this.#Ze)t();this.#Ze=[],this.#Xe=!1}}}}#mt(t){"Enter"!==t.code&&"NumpadEnter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.querySelector("x-menu")||(t.stopPropagation(),this.click()))}}customElements.define("x-menuitem",hi);class li extends HTMLElement{static observedAttributes=["opened"];static#S=Tt`<template><slot></slot></template>`;static#A=Mt`:host{display:none;position:fixed;min-width:15px;min-height:15px;bottom:15px;left:50%;transform:translateX(-50%);padding:5px 12px;box-sizing:border-box;color:rgba(255,255,255,.9);background:#434343;z-index:9999;font-size:12px;user-select:text;-webkit-user-select:none;transition:transform .15s cubic-bezier(.4, 0, .2, 1)}:host([animating]),:host([opened]){display:block}:host(:focus){outline:0}`;get opened(){return this.hasAttribute("opened")}set opened(t){!0===t?this.setAttribute("opened",""):this.removeAttribute("opened"),this.#Je=0}get timeout(){return this.hasAttribute("timeout")?parseFloat(this.getAttribute("timeout")):0}set timeout(t){this.setAttribute("timeout",t)}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}#T=null;#Je=0;#Qe=null;#ti=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[li.#A],this.#T.append(document.importNode(li.#S.content,!0))}connectedCallback(){this.setAttribute("tabindex","0")}attributeChangedCallback(t,e,i){e!==i&&"opened"===t&&(this.opened?this.#ei():this.#gt())}#ei(){if(this.isConnected){let t=0-this.getBoundingClientRect().height-10+"px",e=getComputedStyle(this).bottom;this.animate({bottom:[t,e]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"})}{this.#Je=0,this.#Qe=setInterval((()=>{this.#Je+=100,this.timeout>0&&this.#Je>this.timeout&&(this.opened=!1)}),100);let t=Le();window.addEventListener("pointerdown",this.#ti=e=>{let i=Le(),s=this.getBoundingClientRect();var n,o;i-t>10&&!1==(n=s,(o=new DOMPoint(e.clientX,e.clientY)).x>=n.x&&o.x<=n.x+n.width&&o.y>=n.y&&o.y<=n.y+n.height)&&(this.opened=!1)},!0)}}async#gt(){if(clearInterval(this.#Qe),this.isConnected){this.setAttribute("animating","");let t=getComputedStyle(this).bottom,e=0-this.getBoundingClientRect().height-10+"px",i=this.animate({bottom:[t,e]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await i.finished,this.removeAttribute("animating")}window.removeEventListener("pointerdown",this.#ti,!0)}}customElements.define("x-notification",li);let{isFinite:di}=Number;const ui=["0","1","2","3","4","5","6","7","8","9","-","+",",","."];class ci extends HTMLElement{static observedAttributes=["value","min","max","prefix","suffix","disabled"];static#S=Tt`<template><main id="main"><div id="editor-container"><div id="editor" contenteditable="plaintext-only" spellcheck="false"></div></div><slot></slot></main></template>`;static#A=Mt`:host{display:block;position:relative;max-width:160px;height:32px;box-sizing:border-box;font-size:12.5px}:host(:hover){cursor:text}:host([mixed]){color:rgba(0,0,0,.7)}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}#main{display:flex;align-items:center;height:100%}#editor-container{display:flex;align-items:center;width:100%;height:100%;padding:0 6px;box-sizing:border-box;overflow:hidden}#editor{width:100%;overflow:auto;color:inherit;background:0 0;border:none;outline:0;font-family:inherit;font-size:inherit;line-height:10;white-space:nowrap;font-variant-numeric:tabular-nums}#editor::-webkit-scrollbar{display:none}#editor::before{content:attr(data-prefix);pointer-events:none}#editor::after{content:attr(data-suffix);pointer-events:none}:host(:focus) #editor::after,:host(:focus) #editor::before,:host([empty]) #editor::after,:host([empty]) #editor::before{content:""}`;get value(){return this.hasAttribute("value")?parseFloat(this.getAttribute("value")):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get min(){return this.hasAttribute("min")?parseFloat(this.getAttribute("min")):-Infinity}set min(t){di(t)?this.setAttribute("min",t):this.removeAttribute("min")}get max(){return this.hasAttribute("max")?parseFloat(this.getAttribute("max")):Infinity}set max(t){di(t)?this.setAttribute("max",t):this.removeAttribute("max")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get precision(){return this.hasAttribute("precision")?parseFloat(this.getAttribute("precision")):20}set precision(t){this.setAttribute("precision",t)}get step(){return this.hasAttribute("step")?parseFloat(this.getAttribute("step")):1}set step(t){this.setAttribute("step",t)}get prefix(){return this.hasAttribute("prefix")?this.getAttribute("prefix"):""}set prefix(t){this.setAttribute("prefix",t)}get suffix(){return this.hasAttribute("suffix")?this.getAttribute("suffix"):""}set suffix(t){this.setAttribute("suffix",t)}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get condensed(){return this.hasAttribute("condensed")}set condensed(t){t?this.setAttribute("condensed",""):this.removeAttribute("condensed")}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}#T=null;#L={};#dt=0;#ii=!1;#si=!1;#ni=!1;#oi=!1;#ai=!1;constructor(){super(),this.#T=this.attachShadow({mode:"closed",delegatesFocus:!0}),this.#T.adoptedStyleSheets=[ci.#A],this.#T.append(document.importNode(ci.#S.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#L[t.id]=t;this.#T.addEventListener("pointerdown",(t=>this.#ri(t))),this.#T.addEventListener("wheel",(t=>this.#Se(t))),this.#L.editor.addEventListener("paste",(t=>this.#hi(t))),this.#L.editor.addEventListener("input",(t=>this.#li(t))),this.addEventListener("pointerdown",(t=>this.#ut(t))),this.addEventListener("pointerenter",(()=>this.#ct())),this.addEventListener("pointerleave",(()=>this.#pt())),this.addEventListener("keydown",(t=>this.#mt(t))),this.addEventListener("keyup",(t=>this.#di(t))),this.addEventListener("keypress",(t=>this.#ui(t))),this.addEventListener("incrementstart",(t=>this.#ci(t))),this.addEventListener("decrementstart",(t=>this.#pi(t))),this.addEventListener("focusin",(t=>this.#ie(t))),this.addEventListener("focusout",(t=>this.#se(t))),"gecko"===Se()&&(this.#L.editor.setAttribute("contenteditable",""),this.#L.editor.addEventListener("beforeinput",(t=>{if("insertFromPaste"===t.inputType&&t.dataTransfer.types.includes("text/plain")){t.preventDefault();let e=window.getSelection(),i=e.getRangeAt(0);i.deleteContents(),i.insertNode(document.createTextNode(t.dataTransfer.getData("text/plain"))),e.collapseToEnd()}})))}connectedCallback(){this.#ft(),this.#_()}attributeChangedCallback(t){"value"===t?this.#J():"min"===t?this.#mi():"max"===t?this.#gi():"prefix"===t?this.#bi():"suffix"===t?this.#fi():"disabled"===t&&this.#Nt()}#xi(t=!1){let e=this.value,i=this.value;i+=t?10*this.step:this.step,i=r(i,this.min,this.max,h(this.step)),e!==i&&(this.value=i),this.matches(":focus")&&document.execCommand("selectAll"),this.#wi()}#vi(t=!1){let e=this.value,i=this.value;i-=t?10*this.step:this.step,i=r(i,this.min,this.max,h(this.step)),e!==i&&(this.value=i),this.matches(":focus")&&document.execCommand("selectAll"),this.#wi()}#yi(){this.#si||(this.#si=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})))}#ki=Me((()=>{!this.#si||this.#ni||this.#oi||this.#ai||(this.#si=!1,this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})))}),500);#Ci(){let t=this.#L.editor.textContent,e=""===t.trim()?null:parseFloat(t),i=null===e?null:r(e,this.min,this.max);i!==this.value?(this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.value=i,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))):e!==this.value&&(this.value=i)}#_(){this.#Ei(),this.#wi(),this.#zi()}#Ei(){if(this.hasAttribute("value"))if(this.step<1){let t=parseFloat(this.getAttribute("value")),e=h(this.step),i=h(t);this.#L.editor.textContent=e>0&&i<e?t.toFixed(e):this.getAttribute("value").trim()}else this.#L.editor.textContent=this.getAttribute("value").trim();else this.#L.editor.textContent=""}#wi(){let t=null;if(this.matches(":focus")){let e=this.#L.editor.textContent;t=""===e.trim()?null:parseFloat(e)}else t=this.value;null===t?this.setAttribute("empty",""):this.removeAttribute("empty")}#zi(){let t=this.querySelector("x-stepper");if(t){let e=this.value>this.min,i=this.value<this.max;!0===i&&!0===e?t.removeAttribute("disabled"):!1===i&&!1===e?t.setAttribute("disabled",""):!1===i?t.setAttribute("disabled","increment"):!1===e&&t.setAttribute("disabled","decrement")}}#ft(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#dt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#dt>0?this.#dt:0),this.#dt=0)}#J(){this.#_()}#mi(){this.#zi()}#gi(){this.#zi()}#bi(){this.#L.editor.setAttribute("data-prefix",this.prefix)}#fi(){this.#L.editor.setAttribute("data-suffix",this.suffix)}#Nt(){this.#L.editor.disabled=this.disabled,this.#ft()}#ie(){document.execCommand("selectAll"),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}))}#se(){this.#T.getSelection&&this.#T.getSelection().collapse(this.#L.main),this.#L.editor.scrollLeft=0,this.#Ci(),this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0}))}#li(){this.#wi(),this.#zi()}#Se(t){this.matches(":focus")&&(t.preventDefault(),this.#yi(),t.wheelDeltaX>0||t.wheelDeltaY>0?(this.#xi(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))):(this.#vi(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))),this.#ki())}#$(t){t.preventDefault()}#ut(t){"x-stepper"===t.target.localName&&t.preventDefault()}#ri(t){if(t.buttons>1||!1===t.isPrimary)t.preventDefault();else if(t.target===this.#L.editor&&!1===this.#L.editor.matches(":focus")){t.preventDefault();let e,i,s=this.value,n=t.clientX,o=new DOMPoint(t.clientX,t.clientY);this.style.cursor="col-resize",this.#L.editor.setPointerCapture(t.pointerId),this.#L.editor.addEventListener("pointermove",e=e=>{let i=new DOMPoint(e.clientX,e.clientY),a=e.timeStamp-t.timeStamp,d=e.clientX!==n,u=l(o,i)>3||a>80;if(n=e.clientX,d&&u&&e.isPrimary){!1===this.#ii&&(this.#ii=!0,this.#si=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})));let i=e.clientX-t.clientX,n=s+i*this.step;n=r(n,this.min,this.max,h(this.step)),this.value=n,this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}}),this.#L.editor.addEventListener("pointerup",i=()=>{this.#L.editor.removeEventListener("pointermove",e),this.#L.editor.removeEventListener("pointerup",i),this.#L.editor.removeEventListener("pointercancel",i),this.style.cursor=null,!0===this.#ii?(this.#ii=!1,this.#si=!1,this.dispatchEvent(new CustomEvent("changeend",{detail:this.value!==s,bubbles:!0}))):(this.#L.editor.focus(),document.execCommand("selectAll"))}),this.#L.editor.addEventListener("pointercancel",i)}}#ct(){let t=this.querySelector(":scope > x-tooltip");t&&!1===t.disabled&&t.open(this)}#pt(){let t=this.querySelector(":scope > x-tooltip");t&&t.close()}#ci(t){let e,i;this.matches(":focus")&&this.#Ci(),this.#ai=!0,this.addEventListener("increment",e=t=>{this.#yi(),this.#xi(t.detail.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.#ki()}),this.addEventListener("incrementend",i=t=>{this.#ai=!1,this.removeEventListener("increment",e),this.removeEventListener("incrementend",i)})}#pi(t){let e,i;this.matches(":focus")&&this.#Ci(),this.#ai=!0,this.addEventListener("decrement",e=t=>{this.#yi(),this.#vi(t.detail.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.#ki()}),this.addEventListener("decrementend",i=t=>{this.#ai=!1,this.removeEventListener("decrement",e),this.removeEventListener("decrementend",i)})}#mt(t){"ArrowDown"===t.code?(t.preventDefault(),this.#ni=!0,this.#yi(),this.#vi(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.#ki()):"ArrowUp"===t.code?(t.preventDefault(),this.#ni=!0,this.#yi(),this.#xi(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.#ki()):"Backspace"===t.code?this.#oi=!0:"Enter"!==t.code&&"NumpadEnter"!==t.code||(this.#Ci(),document.execCommand("selectAll"))}#di(t){"ArrowDown"===t.code||"ArrowUp"===t.code?(this.#ni=!1,this.#ki()):"Backspace"===t.code&&(this.#oi=!1)}#ui(t){!1===t.ctrlKey&&!1===t.altKey&&!1===t.metaKey&&!1===ui.includes(t.key)&&t.preventDefault()}async#hi(t){t.preventDefault();let e=t.clipboardData.getData("text/plain").trim();(t=>{let e=ii(t);return!1===ei(e)&&ti(e)})(e)&&(await Ae(1),document.execCommand("insertText",!1,e))}}customElements.define("x-numberinput",ci);class pi extends HTMLElement{static observedAttributes=["modal"];static#S=Tt`<template><svg id="arrow" viewBox="0 0 100 100" preserveAspectRatio="none"><path id="arrow-path"></path></svg><slot id="slot"></slot></template>`;static#A=Mt`:host{position:fixed;display:none;top:0;left:0;min-height:30px;z-index:1001;box-sizing:border-box;background:#fff;-webkit-app-region:no-drag;--align:bottom;--arrow-size:20px;--open-transition:900 transform cubic-bezier(0.4, 0, 0.2, 1);--close-transition:200 opacity cubic-bezier(0.4, 0, 0.2, 1)}:host(:focus){outline:0}:host([animating]),:host([opened]){display:flex}#arrow{position:fixed;box-sizing:border-box;content:""}#arrow[data-align=bottom],#arrow[data-align=top]{width:var(--arrow-size);height:calc(var(--arrow-size) * .6);transform:translate(-50%,0)}#arrow[data-align=left],#arrow[data-align=right]{width:calc(var(--arrow-size) * .6);height:var(--arrow-size);transform:translate(0,-50%)}#arrow-path{stroke-width:1;vector-effect:non-scaling-stroke}#slot{border-radius:inherit}`;get opened(){return this.hasAttribute("opened")}get modal(){return this.hasAttribute("modal")}set modal(t){t?this.setAttribute("modal",""):this.removeAttribute("modal")}#T=null;#L={};#Si=null;#Ai=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[pi.#A],this.#T.append(document.importNode(pi.#S.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#L[t.id]=t;this.#L.backdrop=Pe("x-backdrop"),this.#L.backdrop.style.background="rgba(0, 0, 0, 0)",this.#L.backdrop.ownerElement=this,this.#L.backdrop.addEventListener("click",(t=>{t.preventDefault()})),this.#L.backdrop.addEventListener("pointerdown",(t=>{this.hasAttribute("animating")?t.stopPropagation():this.parentNode&&"x-button"!==this.parentNode.localName&&"x-colorselect"!==this.parentNode.localName&&this.close()}))}connectedCallback(){this.tabIndex=-1}attributeChangedCallback(t,e,i){e!==i&&"modal"===t&&(this.modal&&this.opened?this.#L.backdrop.show():this.#L.backdrop.hide())}open(t,e=!0){return new Promise((async i=>{if(!1===this.opened&&(this.modal&&this.#L.backdrop.show(!1),this.setAttribute("opened",""),this.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:this})),await new Promise((t=>{requestAnimationFrame(t)})),this.#Li(),this.#Ti(t),this.#Si=Ie(this),this.#Si&&this.#Si.addEventListener("scroll",this.#Ai=()=>{this.close()},{once:!0}),e)){let t=getComputedStyle(this).getPropertyValue("--open-transition"),[e,i,s]=ni(t);"transform"===e&&await this.animate({transform:["scale(1, 0)","scale(1, 1)"],transformOrigin:["0 0","0 0"]},{duration:i,easing:s}).finished}i()}))}close(t=!0){return new Promise((async e=>{if(!0===this.opened&&(this.removeAttribute("opened"),this.#L.backdrop.hide(),this.dispatchEvent(new CustomEvent("close",{bubbles:!0,detail:this})),this.#Si.removeEventListener("scroll",this.#Ai),t)){let t=getComputedStyle(this).getPropertyValue("--close-transition"),[e,i,s]=ni(t);this.setAttribute("animating",""),"opacity"===e&&await this.animate({opacity:["1","0"]},{duration:i,easing:s}).finished,this.removeAttribute("animating")}e()}))}#Ti(t){let e=getComputedStyle(this).getPropertyValue("--align").trim(),i=parseInt(getComputedStyle(this).borderWidth),s=0,n=0,o=null;this.style.maxWidth=null,this.style.maxHeight=null,this.style.left="0px",this.style.top="0px";{let e=a(this.getBoundingClientRect());0===e.top&&0===e.left||(s=-e.left,n=-e.top),o=t instanceof DOMPoint?new DOMRect(t.x,t.y,0,0):t instanceof DOMRect?t:t instanceof Element?t.getBoundingClientRect():new DOMRect}if("bottom"===e||"top"===e){let t=(t=!1)=>{this.style.maxHeight=null,this.#L.arrow.setAttribute("data-align","bottom"),this.#L["arrow-path"].setAttribute("d","M 0 100, L 50 0, L 100 100");let e=a(this.getBoundingClientRect()),s=a(this.#L.arrow.getBoundingClientRect()),r=0;if(this.#L.arrow.style.top=n+o.bottom+2+i+"px",this.style.top=n+o.bottom+2+s.height+"px",e=a(this.getBoundingClientRect()),r=e.bottom+8-window.innerHeight,t&&r>0){let t=e.height-r;r=0,this.style.maxHeight=t+"px"}return r},r=(t=!1)=>{this.style.maxHeight=null,this.#L.arrow.setAttribute("data-align","top"),this.#L["arrow-path"].setAttribute("d","M 0 0, L 50 100, L 100 0");let e=a(this.getBoundingClientRect()),s=a(this.#L.arrow.getBoundingClientRect()),r=0;if(this.#L.arrow.style.top=Math.floor(n+o.top-2-i-s.height)+"px",this.style.top=n+o.top-2-s.height-e.height+"px",e=a(this.getBoundingClientRect()),r=-(e.top-8),t&&r>0){let t=e.height-r;r=0,this.style.maxHeight=t+"px",this.style.top=n+o.top-2-s.height-t+"px"}return r},h=()=>{this.style.maxWidth=null;let t=a(this.getBoundingClientRect()),e=0,i=0;return this.#L.arrow.style.left=s+o.left+o.width/2+"px",this.style.left=s+o.left+o.width/2-t.width/2+"px",t=a(this.getBoundingClientRect()),e=-(t.left-8),i=t.right+8-window.innerWidth,[e,i]},l=(t=!1)=>{this.style.maxWidth=null;let e=a(this.getBoundingClientRect()),i=0;if(this.#L.arrow.style.left=s+o.left+o.width/2+"px",this.style.left=s+window.innerWidth-8-e.width+"px",e=a(this.getBoundingClientRect()),i=-(e.left-8),t&&i>0){let t=e.width-i;i=0,this.style.maxWidth=t+"px",this.style.left=s+window.innerWidth-8-t+"px"}return i},d=(t=!1)=>{this.style.maxWidth=null;let e=a(this.getBoundingClientRect()),i=0;if(this.#L.arrow.style.left=s+o.left+o.width/2+"px",this.style.left=s+8+"px",e=a(this.getBoundingClientRect()),i=e.right+8-window.innerWidth,t&&i>0){let t=e.width-i;i=0,this.style.maxWidth=t+"px"}return i};if("bottom"===e){let e=t();if(e>0){let i=r();i>0&&(i>e?t(!0):r(!0))}}else if("top"===e){let e=r();if(e>0){let i=t();i>0&&(i>e?r(!0):t(!0))}}{let[t,e]=h();e>0?(t=l(),t>0&&l(!0)):t>0&&(e=d(),e>0&&d(!0))}}else if("right"===e||"left"===e){let t=(t=!1)=>{this.style.maxWidth=null,this.#L.arrow.setAttribute("data-align","right"),this.#L["arrow-path"].setAttribute("d","M 100 0, L 0 50, L 100 100");let e=a(this.getBoundingClientRect()),n=a(this.#L.arrow.getBoundingClientRect()),r=0;if(this.#L.arrow.style.left=s+o.right+2+i+"px",this.style.left=s+o.right+2+n.width+"px",e=a(this.getBoundingClientRect()),r=e.right+8-window.innerWidth,t&&r>0){let t=e.width-r;r=0,this.style.maxWidth=t+"px"}return r},r=(t=!1)=>{this.style.maxWidth=null,this.#L.arrow.setAttribute("data-align","left"),this.#L["arrow-path"].setAttribute("d","M 0 0, L 100 50, L 00 100");let e=a(this.getBoundingClientRect()),n=a(this.#L.arrow.getBoundingClientRect()),r=0;if(this.#L.arrow.style.left=s+o.left-2-i-n.width+"px",this.style.left=s+o.left-2-n.width-e.width+"px",e=a(this.getBoundingClientRect()),r=-(e.left-8),t&&r>0){let t=e.width-r;r=0,this.style.maxWidth=t+"px",this.style.left=s+o.left-2-n.width-t+"px"}return r},h=()=>{this.style.maxHeight=null;let t=a(this.getBoundingClientRect()),e=0,i=0;return this.#L.arrow.style.top=n+o.top+o.height/2+"px",this.style.top=n+o.top+o.height/2-t.height/2+"px",t=a(this.getBoundingClientRect()),e=-(t.top-8),i=t.bottom+8-window.innerHeight,[e,i]},l=(t=!1)=>{this.style.maxHeight=null;let e=a(this.getBoundingClientRect()),i=0;if(this.#L.arrow.style.top=n+o.top+o.height/2+"px",this.style.top=n+window.innerHeight-8-e.height+"px",e=a(this.getBoundingClientRect()),i=-(e.top-8),t&&i>0){let t=e.height-i;i=0,this.style.maxHeight=t+"px",this.style.top=n+window.innerHeight-8-t+"px"}return i},d=(t=!1)=>{this.style.maxHeight=null;let e=a(this.getBoundingClientRect()),i=0;if(this.#L.arrow.style.top=n+o.top+o.height/2+"px",this.style.top=n+8+"px",e=a(this.getBoundingClientRect()),i=e.bottom+8-window.innerHeight,t&&i>0){let t=e.height-i;i=0,this.style.maxHeight=t+"px"}return i};if("right"===e){let e=t();if(e>0){let i=r();i>0&&(i>e?t(!0):r(!0))}}else if("left"===e){let e=r();if(e>0){let i=t();i>0&&(i>e?r(!0):t(!0))}}{let[t,e]=h();e>0?(t=l(),t>0&&l(!0)):t>0&&(e=d(),e>0&&d(!0))}}}#Li(){{let{backgroundColor:t,borderColor:e,borderWidth:i}=getComputedStyle(this);this.#L["arrow-path"].style.fill=t,this.#L["arrow-path"].style.stroke=e,this.#L["arrow-path"].style.strokeWidth=i}}}customElements.define("x-popover",pi);class mi extends HTMLElement{static observedAttributes=["value","max","disabled"];static#S=Tt`<template><div id="determinate-bar" part="bar"></div><div id="indeterminate-bars"><div id="primary-indeterminate-bar" part="bar"></div><div id="secondary-indeterminate-bar" part="bar"></div></div></template>`;static#A=Mt`:host{display:block;box-sizing:border-box;height:8px;width:100%;position:relative;contain:strict;overflow:hidden;background:#acece6;cursor:default}:host([hidden]){display:none}#indeterminate-bars{width:100%;height:100%}#determinate-bar{position:absolute;top:0;left:0;bottom:0;width:0%;height:100%;background:#3b99fb;box-shadow:0 0 0 1px #3385db;transition:width .4s ease-in-out;will-change:left,right}:host([value="-1"]) #determinate-bar{visibility:hidden}#primary-indeterminate-bar{position:absolute;top:0;left:0;bottom:0;height:100%;background:#3b99fb;will-change:left,right}#secondary-indeterminate-bar{position:absolute;top:0;left:0;bottom:0;height:100%;background:#3b99fb;will-change:left,right}`;get value(){return this.hasAttribute("value")?parseFloat(this.getAttribute("value")):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get max(){return this.hasAttribute("max")?parseFloat(this.getAttribute("max")):1}set max(t){this.setAttribute("max",t)}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}#T=null;#L={};#Mi=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[mi.#A],this.#T.append(document.importNode(mi.#S.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#L[t.id]=t}connectedCallback(){this.#_()}attributeChangedCallback(t,e,i){e!==i&&("value"===t||"disabled"===t)&&this.#_()}#_(){if(null===this.value||-1===this.value||this.disabled?this.#L["determinate-bar"].style.width="0%":this.#L["determinate-bar"].style.width=this.value/this.max*100+"%",null!==this.value||this.disabled){if(this.#Mi){for(let t of this.#Mi)t.cancel();this.#Mi=null}}else this.#Mi||(this.#Mi=[this.#L["primary-indeterminate-bar"].animate([{left:"-35%",right:"100%",offset:0},{left:"100%",right:"-90%",offset:.6},{left:"100%",right:"-90%",offset:1}],{duration:2e3,easing:"ease-in-out",iterations:Infinity}),this.#L["secondary-indeterminate-bar"].animate([{left:"-100%",right:"100%",offset:0},{left:"110%",right:"-30%",offset:.8},{left:"110%",right:"-30%",offset:1}],{duration:2e3,delay:1e3,easing:"ease-in-out",iterations:Infinity})])}}customElements.define("x-progressbar",mi);class gi extends HTMLElement{static observedAttributes=["toggled","disabled"];static#S=Tt`<template><main id="main"><div id="indicator" part="indicator"><div id="indicator-dot" part="indicator-dot"></div></div><div id="description"><slot></slot></div></main></template>`;static#A=Mt`:host{display:block;position:relative;width:fit-content}:host(:focus){outline:0}:host([disabled]){opacity:.4;pointer-events:none}:host([hidden]){display:none}#main{display:flex;align-items:center}#indicator{position:relative;border:3px solid #000;width:19px;height:19px;border-radius:99px;display:flex;align-items:center;justify-content:center}#indicator-dot{width:100%;height:100%;background:currentColor;border-radius:99px;transform:scale(0)}:host([mixed][toggled]) #indicator-dot{height:33%;border-radius:0}:host([toggled]) #indicator-dot{transform:scale(.5)}#description{flex:1}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get toggled(){return this.hasAttribute("toggled")}set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}#T=null;#L={};#dt=0;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[gi.#A],this.#T.append(document.importNode(gi.#S.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#L[t.id]=t;this.addEventListener("click",(t=>this.#$(t))),this.addEventListener("pointerdown",(t=>this.#ut(t))),this.addEventListener("keydown",(t=>this.#mt(t)))}connectedCallback(){this.#ft()}attributeChangedCallback(t){"toggled"===t?this.#Ot():"disabled"===t&&this.#Nt()}#ft(){this.setAttribute("role","radio"),this.setAttribute("aria-checked",this.toggled),this.setAttribute("aria-disabled",this.disabled),this.closest("x-radios")||(this.disabled?(this.#dt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#dt>0?this.#dt:0),this.#dt=0))}#Ot(){this.setAttribute("aria-checked",this.toggled)}#Nt(){this.#ft()}#$(t){this.closest("x-radios")||(this.toggled&&this.mixed?this.mixed=!1:(this.mixed=!1,this.toggled=!this.toggled),this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0})))}#ut(t){if(!1===this.matches(":focus")){t.preventDefault();let e=$e(this.parentNode,"[tabindex]");e&&e.focus()}}#mt(t){"Enter"!==t.code&&"NumpadEnter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.click())}}customElements.define("x-radio",gi);class bi extends HTMLElement{get value(){let t=this.querySelector("x-radio[toggled]");return t?t.value:null}set value(t){for(let e of this.querySelectorAll("x-radio"))e.toggled=e.value===t&&null!==t}#T=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.innerHTML="<slot></slot>",this.addEventListener("click",(t=>this.#$(t)),!0),this.addEventListener("keydown",(t=>this.#mt(t)))}connectedCallback(){this.setAttribute("role","radiogroup");let t=[...this.querySelectorAll("x-radio")].filter((t=>t.closest("x-radios")===this)),e=t.find((t=>t.toggled&&!t.disabled))||t.find((t=>!t.disabled));for(let i of t)i.setAttribute("tabindex",i===e?"0 ":"-1"),i.setAttribute("aria-checked",i===e)}#$(t){let e=t.target.closest("x-radio");if(e&&!e.toggled&&!e.disabled&&t.buttons<=1){let t=[...this.querySelectorAll("x-radio")].filter((t=>t.closest("x-radios")===this&&t!==e));if(!1===e.toggled||!0===e.mixed){e.toggled=!0,e.mixed=!1,e.tabIndex=0;for(let e of t)e.toggled=!1,e.tabIndex=-1;this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}))}}}#mt(t){if("ArrowDown"===t.code||"ArrowRight"===t.code){let e=[...this.querySelectorAll("x-radio")],i=e.filter((t=>!1===t.disabled&&t.closest("x-radios")===this)),s=e.find((t=>t.matches(":focus")));if(s){let e=i.indexOf(s),n=i.length>1?i[e+1]||i[0]:null;n&&(t.preventDefault(),n.focus(),n.tabIndex=0,s.tabIndex=-1)}}else if("ArrowUp"===t.code||"ArrowLeft"===t.code){let e=[...this.querySelectorAll("x-radio")],i=e.filter((t=>!1===t.disabled&&t.closest("x-radios")===this)),s=e.find((t=>t.matches(":focus")));if(s){let e=i.indexOf(s),n=i[i.length-1],o=i.length>1?i[e-1]||n:null;o&&(t.preventDefault(),o.focus(),o.tabIndex=0,s.tabIndex=-1)}}}}customElements.define("x-radios",bi);class fi extends HTMLElement{static observedAttributes=["value"];static#S=Tt`<template><x-box vertical><div id="hue-slider" part="slider"><div id="hue-slider-track"><div id="hue-slider-marker"></div></div></div><div id="satlight-slider" part="slider"><div id="satlight-marker"></div></div><div id="alpha-slider" part="slider"><div id="alpha-slider-gradient"></div><div id="alpha-slider-track"><div id="alpha-slider-marker"></div></div></div></x-box></template>`;static#A=Mt`:host{display:block;width:100%;user-select:none;-webkit-user-select:none}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}#hue-slider{width:100%;height:30px;padding:0 calc(var(--marker-width)/ 2);margin-bottom:14px;box-sizing:border-box;border-radius:2px;touch-action:pinch-zoom;--marker-width:18px;background:red}:host([size=small]) #hue-slider{height:24px}:host([size=large]) #hue-slider{height:35px}#hue-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center;background:linear-gradient(to right,red,#ff0,#0f0,#0ff,#00f,#f0f,red)}#hue-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#satlight-slider{width:100%;height:174px;border-radius:2px;position:relative;touch-action:pinch-zoom}#satlight-marker{position:absolute;top:0;left:0;width:var(--marker-size);height:var(--marker-size);transform:translate(calc(var(--marker-size)/ -2),calc(var(--marker-size)/ -2));box-sizing:border-box;background:rgba(0,0,0,.3);border:3px solid #fff;border-radius:999px;box-shadow:0 0 3px #000;--marker-size:20px}#alpha-slider{position:relative;display:none;width:100%;height:30px;margin-top:14px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pinch-zoom;--marker-width:18px;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([alphaslider]) #alpha-slider{display:block}:host([size=small]) #alpha-slider{height:24px}:host([size=large]) #alpha-slider{height:35px}#alpha-slider-gradient{position:absolute;top:0;left:0;width:100%;height:100%}#alpha-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#alpha-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):"hsla(0, 0%, 100%, 1)"}set value(t){this.setAttribute("value",t)}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}#T=null;#L={};#B=0;#j=0;#Di=100;#U=1;#q=!1;#Pi=!1;#X=!1;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[fi.#A],this.#T.append(document.importNode(fi.#S.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#L[t.id]=t;this.#L["hue-slider"].addEventListener("pointerdown",(t=>this.#Z(t))),this.#L["satlight-slider"].addEventListener("pointerdown",(t=>this.#Ri(t))),this.#L["alpha-slider"].addEventListener("pointerdown",(t=>this.#Y(t)))}connectedCallback(){this.#_()}attributeChangedCallback(t,e,i){e!==i&&"value"===t&&this.#J()}#_(){this.#Q(),this.#$i(),this.#Ii(),this.#nt(),this.#ot()}#Q(){this.#L["hue-slider-marker"].style.left=r(this.#B,0,360,0)/360*100+"%"}#$i(){let t=this.#j/100*100,e=100-this.#Di/100*100;this.#L["satlight-marker"].style.left=`${t}%`,this.#L["satlight-marker"].style.top=`${e}%`}#Ii(){let t=v([this.#B,100,50,1],"hsla","hex");this.#L["satlight-slider"].style.background=`linear-gradient(to bottom, rgba(0,0,0,0), rgba(0,0,0,1)), linear-gradient(to left, rgba(255,255,255,0), rgba(255,255,255,1)), ${t}`}#nt(){this.#L["alpha-slider-marker"].style.left=r(100*(1-this.#U),0,100,2)+"%"}#ot(){let[t,e,i]=w(this.#B,this.#j,this.#Di).map((t=>o(t,0)));this.#L["alpha-slider-gradient"].style.background=`\n      linear-gradient(to right, rgba(${t}, ${e}, ${i}, 1), rgba(${t}, ${e}, ${i}, 0))\n    `}#J(){if(!1===this.#q&&!1===this.#Pi&&!1===this.#X){let[t,e,i,s]=(new S).parse(this.value,"hsva");this.#B=t,this.#j=e,this.#Di=i,this.#U=s,this.#_()}}#Ri(t){if(t.buttons>1||this.#Pi)return;let e,i,s=this.#L["satlight-slider"].getBoundingClientRect();this.#Pi=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.#L["satlight-slider"].setPointerCapture(t.pointerId);let n=(t,e)=>{let i=(t-s.left)/s.width*100,n=(e-s.top)/s.height*100;i=r(i,0,100,2),n=r(n,0,100,2),this.#j=i,this.#Di=100-n,this.value=v([this.#B,this.#j,this.#Di,this.#U],"hsva","hsla"),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.#$i(),this.#Ii(),this.#ot()};n(t.clientX,t.clientY),this.#L["satlight-slider"].addEventListener("pointermove",e=t=>{n(t.clientX,t.clientY)}),this.#L["satlight-slider"].addEventListener("pointerup",i=t=>{this.#L["satlight-slider"].removeEventListener("pointermove",e),this.#L["satlight-slider"].removeEventListener("pointerup",i),this.#L["satlight-slider"].removeEventListener("pointercancel",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#Pi=!1}),this.#L["satlight-slider"].addEventListener("pointercancel",i)}#Z(t){if(t.buttons>1||this.#q)return;let e,i,s=this.#L["hue-slider-track"].getBoundingClientRect();this.#q=!0,this.#L["hue-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let n=t=>{let e=(t-s.x)/s.width*360;e=r(e,0,360,0),e!==this.#B&&(this.#B=e,this.value=v([this.#B,this.#j,this.#Di,this.#U],"hsva","hsla"),this.#Q(),this.#Ii(),this.#$i(),this.#ot(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};n(t.clientX),this.#L["hue-slider"].addEventListener("pointermove",e=t=>{n(t.clientX)}),this.#L["hue-slider"].addEventListener("pointerup",i=()=>{this.#L["hue-slider"].removeEventListener("pointermove",e),this.#L["hue-slider"].removeEventListener("pointerup",i),this.#L["hue-slider"].removeEventListener("pointercancel",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#q=!1}),this.#L["hue-slider"].addEventListener("pointercancel",i)}#Y(t){if(t.buttons>1||this.#X)return;let e,i,s=this.#L["alpha-slider-track"].getBoundingClientRect();this.#X=!0,this.#L["alpha-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let n=t=>{let e=1-(t-s.x)/s.width;e=r(e,0,1,2),e!==this.#U&&(this.#U=e,this.value=v([this.#B,this.#j,this.#Di,this.#U],"hsva","hsla"),this.#nt(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};n(t.clientX),this.#L["alpha-slider"].addEventListener("pointermove",e=t=>{n(t.clientX)}),this.#L["alpha-slider"].addEventListener("pointerup",i=()=>{this.#L["alpha-slider"].removeEventListener("pointermove",e),this.#L["alpha-slider"].removeEventListener("pointerup",i),this.#L["alpha-slider"].removeEventListener("pointercancel",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#X=!1}),this.#L["alpha-slider"].addEventListener("pointercancel",i)}}customElements.define("x-rectcolorpicker",fi);let xi=Symbol();class wi extends HTMLElement{static observedAttributes=["disabled"];static#S=Tt`<template><div id="button"><div id="arrow-container"><svg id="arrow" part="arrow" viewBox="0 0 100 100" preserveAspectRatio="none"><path id="arrow-path"></path></svg></div></div><slot></slot></template>`;static#A=Mt`:host{display:block;width:fit-content;height:32px;padding:0 0 0 9px;max-width:100%;box-sizing:border-box;position:relative;outline:0;font-size:14px;user-select:none;-webkit-user-select:none}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}:host(:hover){cursor:default}#button{display:flex;flex-flow:row;align-items:center;justify-content:flex-start;flex:1;width:100%;height:100%}:host([mixed]) #button>*{opacity:.7}#button>x-label{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}#button>#arrow-container{display:flex;align-content:center;justify-content:center;margin:0 0 0 auto;z-index:999}#button>#arrow-container #arrow{display:flex;width:13px;height:13px;min-width:13px;margin:0 2px 0 11px;color:currentColor;--text-color:50%;--path-data:M 25 41 L 50 16 L 75 41 L 83 34 L 50 1 L 17 34 Z M 17 66 L 50 100 L 83 66 L 75 59 L 50 84 L 25 59 Z}#button>#arrow-container #arrow path{fill:currentColor}`;get value(){let t=this.querySelector("x-menuitem[toggled]");return t?t.value:null}set value(t){for(let e of this.querySelectorAll("x-menuitem"))e.toggled=e.value===t&&null!==t}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}#T=null;#L={};#dt=0;#ht=!1;#Oi=null;#Fi=null;#P=null;#Ni=new MutationObserver((t=>this.#Bi(t)));#M=new ResizeObserver((()=>this.#ji()));constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[wi.#A],this.#T.append(document.importNode(wi.#S.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#L[t.id]=t;this.#L.backdrop=Pe("x-backdrop"),this.#L.backdrop.style.opacity="0",this.#L.backdrop.ownerElement=this,this.#L.backdrop.addEventListener("click",(t=>this.#Hi(t))),this.addEventListener("pointerdown",(t=>this.#ut(t))),this.addEventListener("toggle",(t=>this.#Ui(t))),this.addEventListener("click",(t=>this.#$(t))),this.addEventListener("keydown",(t=>this.#mt(t)))}connectedCallback(){this.#Ni.observe(this,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),this.#M.observe(this),this.#qi(),this.#O(),this.#ft(),De.addEventListener("themechange",this.#P=()=>this.#O())}disconnectedCallback(){this.#Ni.disconnect(),this.#M.disconnect(),De.removeEventListener("themechange",this.#P)}attributeChangedCallback(t){"disabled"===t&&this.#ft()}#qt(){if(!1===this.#Ki())return;this.#ht=this.matches(":focus"),this.#L.backdrop.show(!1),window.addEventListener("resize",this.#Oi=()=>{this.#Kt()}),window.addEventListener("blur",this.#Fi=()=>{this.#Kt()});let t=this.querySelector(":scope > x-menu");{let e=null;for(let i of t.querySelectorAll("x-menuitem"))i.togglable=!0,i.toggled&&(null===e?e=i:i.toggled=!1)}if(t.querySelector("x-menuitem[toggled]")){let e=this.#L.button.querySelector("x-label")||this.#L.button.firstElementChild,i=e[xi];t.openOverElement(e,i)}else{let e=t.querySelector("x-menuitem").firstElementChild;t.openOverElement(this.#L.button,e)}{let e=t.getBoundingClientRect(),i=this.#L.button.getBoundingClientRect(),s=parseFloat(getComputedStyle(this).paddingRight);e.right-s<i.right&&(t.style.minWidth=i.right-e.left+s+"px")}{let t=this.getBoundingClientRect();t.right+7>window.innerWidth&&(this.style.maxWidth=window.innerWidth-t.left-7+"px")}}async#Kt(t=null){if(!1===this.#Vi())return;let e=this.querySelector(":scope > x-menu");if(e.setAttribute("closing",""),await t,this.#L.backdrop.hide(!1),this.#ht)this.focus();else{let t=$e(this.parentNode,"[tabindex]");t&&t.focus()}window.removeEventListener("resize",this.#Oi),window.removeEventListener("blur",this.#Fi),await e.close(),e.removeAttribute("closing")}#Ki(){if(this.disabled)return!1;{let t=this.querySelector(":scope > x-menu"),e=t.querySelector("x-menuitem");return null!==t&&!1===t.opened&&!1===t.hasAttribute("closing")&&null!==e}}#Vi(){if(this.disabled)return!1;{let t=this.querySelector(":scope > x-menu");return t.querySelector("x-menuitem"),null!==t&&!0===t.opened&&!1===t.hasAttribute("closing")}}#qi(){let t=this.querySelector(":scope > x-menu x-menuitem[toggled]");if(this.#L.button.innerHTML="",t){for(let e of t.children){let t=e.cloneNode(!0);t[xi]=e,t.removeAttribute("id"),t.removeAttribute("style"),this.#L.button.append(t)}this.#Xi()}this.#L.button.append(this.#L["arrow-container"])}#Zi=Te(this.#qi,300,this);#Xi(){for(let t of this.#L.button.children)if(t!==this.#L["arrow-container"]){let{width:e,height:i,margin:s,padding:n,border:o,borderRadius:a}=getComputedStyle(t[xi]);["x-icon","x-swatch","img","svg"].includes(t[xi].localName)&&(t.style.width=e,t.style.height=i,t.style.minWidth=e,t.style.borderRadius=a),t.style.margin=s,t.style.padding=n,t.style.border=o}}#O(){let t=getComputedStyle(this.#L.arrow).getPropertyValue("--path-data");this.#L["arrow-path"].setAttribute("d",t)}#ft(){this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#dt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#dt>0?this.#dt:0),this.#dt=0);{this.setAttribute("role","button");let t=this.querySelector(":scope > x-menu");if(t){t.setAttribute("role","listbox");for(let e of t.querySelectorAll("x-menuitem"))e.setAttribute("role","option")}}}async#Bi(t){for(let e of t)if("attributes"===e.type&&"x-menuitem"===e.target.localName&&"toggled"===e.attributeName){await Ae(10),this.#Zi();break}}#ji(){this.#Xi()}#ut(t){t.target.closest("x-menu")||!1!==this.matches(":focus")||t.preventDefault()}async#$(t){if(!(t.buttons>1))if(this.#Ki())this.#qt();else if(this.#Vi()){let e=t.target.closest("x-menuitem");if(e){let t=this.value,i=e.value;for(let t of this.querySelectorAll("x-menuitem"))t.toggled=t===e;await this.#Kt(e.whenTriggerEnd),(t!==i||this.mixed)&&(this.mixed=!1,this.dispatchEvent(new CustomEvent("change",{bubbles:!0,detail:{oldValue:t,newValue:i}})))}}}#Ui(t){t.preventDefault()}#Hi(t){this.#Kt()}#mt(t){!1===t.defaultPrevented&&(this.querySelector(":scope > x-menu"),"Enter"===t.code||"NumpadEnter"===t.code||"Space"===t.code||"ArrowUp"===t.code||"ArrowDown"===t.code?this.#Ki()&&(t.preventDefault(),this.#qt()):"Escape"===t.code&&this.#Vi()&&(t.preventDefault(),this.#Kt()))}}customElements.define("x-select",wi);const vi=navigator.platform.startsWith("Mac")||["iPhone","iPad"].includes(navigator.platform),yi=["Alt","AltGraph","CapsLock","Control","Fn","FnLock","Meta","NumLock","ScrollLock","Shift","Symbol","SymbolLock"];class ki extends HTMLElement{static observedAttributes=["value"];static#S=Tt`<template><main id="main"></main></template>`;static#A=Mt`:host{display:inline-block;box-sizing:border-box;font-size:14px;line-height:1}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}`;get value(){let t=[];if(this.hasAttribute("value")){let e=this.getAttribute("value").replace("++","+PLUS").split("+");e=e.map((t=>t.trim().replace("PLUS","+"))).filter((t=>""!==t)),t=e}return t}set value(t){this.setAttribute("value",t.join("+"))}get modKeys(){return this.value.filter((t=>yi.includes(t)))}get normalKey(){let t=this.value.find((t=>!1===yi.includes(t)));return void 0===t?null:t}#T=null;#L={};constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[ki.#A],this.#T.append(document.importNode(ki.#S.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#L[t.id]=t}attributeChangedCallback(t){"value"===t&&this.#_()}#_(){let t="";this.value;let e=this.modKeys,i=this.normalKey;if(vi){e.includes("Meta")&&(t+="^"),e.includes("Alt")&&(t+="⌥"),e.includes("Shift")&&(t+="⇧"),e.includes("Control")&&(t+="⌘"),e.includes("Symbol")&&(t+="☺");let s={ArrowUp:"↑",ArrowDown:"↓",ArrowLeft:"←",ArrowRight:"→",Backspace:"⌦"};void 0!==i&&(t+=s[i]||i)}else{let s=[];e.includes("Control")&&s.push("Ctrl"),e.includes("Alt")&&s.push("Alt"),e.includes("Meta")&&s.push("Meta"),e.includes("Shift")&&s.push("Shift"),e.includes("Symbol")&&s.push("Symbol");let n={ArrowUp:"Up",ArrowDown:"Down",ArrowLeft:"Left",ArrowRight:"Right"};null!==i&&s.push(n[i]||i),t=s.join("+")}this.#L.main.textContent=t}}customElements.define("x-shortcut",ki);class Ci extends HTMLElement{static observedAttributes=["value","buffer","min","max","disabled"];static#S=Tt`<template><main id="main"><div id="tracks-and-thumbs"><div id="groove-track" part="track groove-track"></div><div id="buffer-track" part="track buffer-track"></div><div id="range-track" part="track range-track"></div><div id="thumbs"><div id="start-thumb" class="thumb" part="thumb start-thumb" data-value="start" tabindex="0"></div><div id="end-thumb" class="thumb" part="thumb end-thumb" data-value="end" tabindex="0"></div></div></div><div id="ticks"></div><div id="labels"><slot></slot></div></main></template>`;static#A=Mt`:host{display:block;width:100%;position:relative;box-sizing:border-box;touch-action:pan-y}:host(:focus){outline:0}:host(:hover){cursor:default}:host([disabled]){pointer-events:none;opacity:.4}:host([vertical]){width:fit-content;height:200px}#main{display:flex;flex-flow:column;width:100%;height:100%}:host([vertical]) #main{flex-flow:row}#tracks-and-thumbs{position:relative;width:100%;height:100%}#range-track{position:absolute;width:0%;height:4px;background:#000;top:50%;transform:translateY(-50%)}:host([vertical]) #range-track{width:4px;height:0%;top:initial;left:50%;transform:translateX(-50%)}#groove-track{position:absolute;width:100%;height:4px;background:gray;top:50%;transform:translateY(-50%)}:host([vertical]) #groove-track{width:4px;height:100%;top:initial;left:50%;transform:translateX(-50%)}#buffer-track{position:absolute;width:0%;height:4px;background:red;top:50%;transform:translateY(-50%)}:host([vertical]) #buffer-track{width:4px;height:0%;top:initial;left:50%;transform:translateX(-50%)}#thumbs{position:relative;width:calc(100% - var(--computed-thumb-width));height:100%;margin:0 auto}:host([vertical]) #thumbs{height:calc(100% - var(--computed-thumb-height));width:100%;margin:auto 0}#thumbs .thumb{position:absolute;top:0;left:0;width:20px;height:20px;margin-left:calc(var(--computed-thumb-width)/ -2);box-sizing:border-box;background:gray;border:1px solid rgba(0,0,0,.2)}:host([vertical]) #thumbs .thumb{margin-left:0}#thumbs .thumb:first-child{position:relative}#thumbs .thumb:focus{outline:0;z-index:2}#ticks{position:relative;width:calc(100% - var(--computed-thumb-width));margin:0 calc(var(--computed-thumb-width)/ 2)}:host([vertical]) #ticks{width:initial;height:calc(100% - var(--computed-thumb-height));margin:calc(var(--computed-thumb-height)/ 2) 0}#ticks:empty{display:none}#ticks .tick{position:absolute;left:0;top:0;width:1px;height:5px;background:rgba(0,0,0,.4)}:host([vertical]) #ticks .tick{width:5px;height:1px;left:0;top:0}#ticks .tick:first-child{position:relative}#labels{position:relative;width:calc(100% - var(--computed-thumb-width));margin:0 calc(var(--computed-thumb-width)/ 2)}:host([vertical]) #labels{width:initial;height:calc(100% - var(--computed-thumb-height));margin:calc(var(--computed-thumb-height)/ 2) 0}:host(:empty) #labels{display:none}::slotted(x-label){display:inline-block;top:0;position:absolute;vertical-align:top;transform:translateX(-50%);white-space:nowrap}:host([vertical]) ::slotted(x-label){top:initial;left:4px;transform:translateY(-50%)}`;get min(){return this.hasAttribute("min")?parseFloat(this.getAttribute("min")):0}set min(t){this.setAttribute("min",t)}get max(){return this.hasAttribute("max")?parseFloat(this.getAttribute("max")):100}set max(t){this.setAttribute("max",t)}get value(){if(this.hasAttribute("value")){let t=this.getAttribute("value").split(/[ ,]+/);return t.length>=2?t.map((t=>parseFloat(t))).slice(0,2):parseFloat(t[0])}return this.max>=this.min?this.min+(this.max-this.min)/2:this.min}set value(t){Array.isArray(t)?((t=t.map((t=>r(t,this.min,this.max)))).length=2,this.setAttribute("value",t.join(" "))):(t=r(t,this.min,this.max),this.setAttribute("value",t))}get buffer(){if(this.hasAttribute("buffer")){let t=this.getAttribute("buffer").split(/[ ,]+/);return t.length>=2?t.map((t=>parseFloat(t))).slice(0,2):[0,parseFloat(t[0])]}return[0,0]}set buffer(t){(t=t.map((t=>r(t,this.min,this.max)))).length=2,this.setAttribute("buffer",t.join(" "))}get step(){return this.hasAttribute("step")?parseFloat(this.getAttribute("step")):1}set step(t){this.setAttribute("step",t)}get vertical(){return this.hasAttribute("vertical")}set vertical(t){t?this.setAttribute("vertical",""):this.removeAttribute("vertical")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}get dragging(){return this.getAttribute("dragging")}#T=null;#L={};#dt=0;#Ni=new MutationObserver((t=>this.#Bi(t)));#Gi=new ResizeObserver((()=>this.#Wi()));constructor(){super(),this.#T=this.attachShadow({mode:"closed",delegatesFocus:!0}),this.#T.adoptedStyleSheets=[Ci.#A],this.#T.append(document.importNode(Ci.#S.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#L[t.id]=t;this.#T.addEventListener("pointerdown",(t=>this.#ri(t))),this.addEventListener("pointerdown",(t=>this.#ut(t))),this.addEventListener("keydown",(t=>this.#mt(t)))}connectedCallback(){this.setAttribute("value",this.value),this.#Gi.observe(this.#L["start-thumb"]),this.#Ni.observe(this,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"],characterData:!1}),this.#Yi(),this.#_i(),this.#Ji(),this.#ft()}disconnectedCallback(){this.#Gi.unobserve(this.#L["start-thumb"]),this.#Ni.disconnect()}attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.#J():"buffer"===t?this.#Qi():"min"===t?this.#mi():"max"===t?this.#gi():"disabled"===t&&this.#Nt())}#J(){this.#Yi(),this.#_i()}#Qi(){this.#Yi()}#mi(){this.#Yi(),this.#_i(),this.#Ji()}#gi(){this.#Yi(),this.#_i(),this.#Ji()}#Nt(){this.#ft()}#Bi(t){for(let e of t){if("attributes"===e.type&&e.target===this)return;this.#ts()}}#Wi(){let t=this.#L["start-thumb"].getBoundingClientRect();this.#L.main.style.setProperty("--computed-thumb-width",t.width+"px"),this.#L.main.style.setProperty("--computed-thumb-height",t.height+"px")}#ut(t){if(!1===this.matches(":focus")){t.preventDefault();let e=$e(this.parentNode,"[tabindex]");e&&e.focus()}}#ri(t){if(t.buttons>1||!1===t.isPrimary)return;let e,i,s=null,{width:n,height:a}=this.#L["start-thumb"].getBoundingClientRect(),d=this.#L.main.getBoundingClientRect(),u=!1;if(t.target.matches(".thumb"))s=t.target;else if(!0===this.#L["end-thumb"].hidden)s=this.#L["start-thumb"];else{let e=this.#L["start-thumb"].getBoundingClientRect(),i=this.#L["end-thumb"].getBoundingClientRect(),n=new DOMPoint(e.x+e.width/2,e.y+e.height/2),o=new DOMPoint(i.x+i.width/2,i.y+i.height/2),a=new DOMPoint(t.clientX,t.clientY),r=l(a,n),h=l(a,o);s=r<=h?this.#L["start-thumb"]:this.#L["end-thumb"]}let c=(t,e)=>{let i=0;if(this.vertical){let t=d.y+d.height-a/2-e;t=r(t,0,d.height-a),i=t/(d.height-a)*(this.max-this.min)+this.min}else{let e=t-(d.x+n/2);e=r(e,0,d.width-n),i=e/(d.width-n)*(this.max-this.min)+this.min}var l,c;if(l=i,c=this.step,i=o(o(l/c)*c,h(c)),Array.isArray(this.value)){let[t,e]=this.value;s===this.#L["start-thumb"]?(i>=e&&(i=e),i!==t&&(this.value=[i,e],!1===u&&(u=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}))),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))):s===this.#L["end-thumb"]&&(i<=t&&(i=t),i!==e&&(this.value=[t,i],!1===u&&(u=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}))),this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))))}else this.value!==i&&(this.value=i,!1===u&&(u=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}))),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};s.setPointerCapture(t.pointerId),this.setAttribute("dragging",s.dataset.value),c(t.clientX,t.clientY);for(let t of this.#L.thumbs.children)t.style.zIndex=t===s?"1":"0";s.addEventListener("pointermove",e=t=>{t.isPrimary&&c(t.clientX,t.clientY)}),s.addEventListener("pointerup",i=()=>{s.removeEventListener("pointermove",e),s.removeEventListener("pointerup",i),s.removeEventListener("pointercancel",i),this.removeAttribute("dragging"),u&&this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))}),s.addEventListener("pointercancel",i)}#mt(t){if("ArrowLeft"===t.code||"ArrowDown"===t.code){t.preventDefault(),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let e=this.value;if(Array.isArray(this.value)){let[i,s]=this.value;this.#T.activeElement===this.#L["start-thumb"]?t.shiftKey?i-=10*this.step:i-=this.step:this.#T.activeElement===this.#L["end-thumb"]&&(t.shiftKey?s-=10*this.step:s-=this.step,s<=i&&(s=i)),this.value=[i,s],!1===At(e,this.value)&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}else t.shiftKey?this.value-=10*this.step:this.value-=this.step,e!==this.value&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))}else if("ArrowRight"===t.code||"ArrowUp"===t.code){t.preventDefault(),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let e=this.value;if(Array.isArray(this.value)){let[i,s]=this.value;this.#T.activeElement===this.#L["start-thumb"]?(t.shiftKey?i+=10*this.step:i+=this.step,i>=s&&(i=s)):this.#T.activeElement===this.#L["end-thumb"]&&(t.shiftKey?s+=10*this.step:s+=this.step),this.value=[i,s],!1===At(e,this.value)&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}else t.shiftKey?this.value+=10*this.step:this.value+=this.step,e!==this.value&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))}}#_i(){if(Array.isArray(this.value)){let[t,e]=this.value;{let e=(t-this.min)/(this.max-this.min)*100;this.vertical?(this.#L["start-thumb"].style.top=100-e+"%",this.#L["start-thumb"].hidden=!1):(this.#L["start-thumb"].style.left=e+"%",this.#L["start-thumb"].hidden=!1)}{let t=(e-this.min)/(this.max-this.min)*100;this.vertical?(this.#L["end-thumb"].style.top=100-t+"%",this.#L["end-thumb"].hidden=!1):(this.#L["end-thumb"].style.left=t+"%",this.#L["end-thumb"].hidden=!1)}}else{let t=(this.value-this.min)/(this.max-this.min)*100;this.vertical?(this.#L["start-thumb"].style.top=100-t+"%",this.#L["start-thumb"].hidden=!1,this.#L["end-thumb"].hidden=!0):(this.#L["start-thumb"].style.left=t+"%",this.#L["start-thumb"].hidden=!1,this.#L["end-thumb"].hidden=!0)}}#Yi(){if(Array.isArray(this.value)){let[t,e]=this.value,i=(t-this.min)/(this.max-this.min)*100,s=(e-this.min)/(this.max-this.min)*100;this.vertical?(this.#L["range-track"].style.bottom=`${i}%`,this.#L["range-track"].style.height=s-i+"%"):(this.#L["range-track"].style.left=`${i}%`,this.#L["range-track"].style.width=s-i+"%")}else{let t=(this.value-this.min)/(this.max-this.min)*100,e=((this.min>0?this.min:0)-this.min)/(this.max-this.min)*100;this.vertical?t>=e?(this.#L["range-track"].style.bottom=`${e}%`,this.#L["range-track"].style.height=t-e+"%"):(this.#L["range-track"].style.bottom=`${t}%`,this.#L["range-track"].style.height=e-t+"%"):t>=e?(this.#L["range-track"].style.left=`${e}%`,this.#L["range-track"].style.width=t-e+"%"):(this.#L["range-track"].style.left=`${t}%`,this.#L["range-track"].style.width=e-t+"%")}{let[t,e]=this.buffer,i=(t-this.min)/(this.max-this.min)*100,s=(e-this.min)/(this.max-this.min)*100;this.vertical?(this.#L["buffer-track"].style.bottom=i+"%",this.#L["buffer-track"].style.height=s-i+"%"):(this.#L["buffer-track"].style.left=i+"%",this.#L["buffer-track"].style.width=s-i+"%")}}async#Ji(){await customElements.whenDefined("x-label"),this.#L.ticks.innerHTML="";for(let t of this.querySelectorAll(":scope > x-label"))this.vertical?t.style.top=100-(t.value-this.min)/(this.max-this.min)*100+"%":t.style.left=(t.value-this.min)/(this.max-this.min)*100+"%",t===this.firstElementChild?t.style.position="relative":t.style.position=null,this.vertical?this.#L.ticks.insertAdjacentHTML("beforeend",`<div class="tick" part="tick" style="top: ${t.style.top}"></div>`):this.#L.ticks.insertAdjacentHTML("beforeend",`<div class="tick" part="tick" style="left: ${t.style.left}"></div>`)}#ts=Te(this.#Ji,500,this);#ft(){this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#dt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#dt>0?this.#dt:0),this.#dt=0),this.#L["start-thumb"].tabIndex=this.tabIndex,this.#L["end-thumb"].tabIndex=this.tabIndex}}customElements.define("x-slider",Ci);class Ei extends HTMLElement{static observedAttributes=["disabled"];static#S=Tt`<template><div id="decrement-button" part="decrement-button" class="button"><svg id="decrement-arrow" part="decrement-arrow" viewBox="0 0 100 100" preserveAspectRatio="none"><path id="decrement-arrow-path"></path></svg></div><div id="increment-button" part="increment-button" class="button"><svg id="increment-arrow" part="increment-arrow" viewBox="0 0 100 100" preserveAspectRatio="none"><path id="increment-arrow-path"></path></svg></div></template>`;static#A=Mt`:host{display:flex;flex-flow:column-reverse;align-items:center;justify-content:center;box-sizing:border-box;height:100%;width:fit-content;color:rgba(0,0,0,.6)}:host(:hover){cursor:default}:host([disabled=""]){opacity:.5;pointer-events:none}.button{display:flex;align-items:center;justify-content:center;width:100%;height:100%;user-select:none;-webkit-user-select:none;box-sizing:border-box;color:inherit;border-left:none}.button[data-pressed]{color:#fff;background:rgba(0,0,0,.3)}:host([disabled=decrement]) #decrement-button,:host([disabled=increment]) #increment-button{opacity:.3;pointer-events:none}#increment-arrow{width:11px;height:11px;pointer-events:none;--path-data:M 24 69 L 50 43 L 76 69 L 69 76 L 50 58 L 31 76 L 24 69 Z}#decrement-arrow{width:11px;height:11px;pointer-events:none;--path-data:M 24 32 L 50 58 L 76 32 L 69 25 L 50 44 L 31 25 L 24 32 Z}#decrement-arrow-path,#increment-arrow-path{fill:currentColor}`;get disabled(){return!!this.hasAttribute("disabled")&&("increment"===this.getAttribute("disabled")?"increment":"decrement"!==this.getAttribute("disabled")||"decrement")}set disabled(t){!0===t?this.setAttribute("disabled",""):!1===t?this.removeAttribute("disabled"):this.setAttribute("disabled",t)}#T=null;#L={};#es=null;#P=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[Ei.#A],this.#T.append(document.importNode(Ei.#S.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#L[t.id]=t;this.#T.addEventListener("pointerdown",(t=>this.#ut(t))),this.addEventListener("contextmenu",(t=>t.preventDefault()))}connectedCallback(){this.#is(),De.addEventListener("themechange",this.#P=()=>this.#is()),"x-numberinput"===this.parentElement.localName&&(this.#es=this.parentElement,this.#es.setAttribute("hasstepper",""))}disconnectedCallback(){De.removeEventListener("themechange",this.#P),this.#es&&(null===this.#es.querySelector(":scope > x-stepper")&&this.#es.removeAttribute("hasstepper",""),this.#es=null)}attributeChangedCallback(t){"disabled"===t&&this.#Nt()}#is(){let t=getComputedStyle(this.#L["increment-arrow"]).getPropertyValue("--path-data"),e=getComputedStyle(this.#L["decrement-arrow"]).getPropertyValue("--path-data");this.#L["increment-arrow-path"].setAttribute("d",t),this.#L["decrement-arrow-path"].setAttribute("d",e)}#Nt(){this.hasAttribute("disabled")&&(this.removeAttribute("pressed"),this.#L["increment-button"].removeAttribute("data-pressed"),this.#L["decrement-button"].removeAttribute("data-pressed"))}#ut(t){let e=t.target.closest(".button"),i=null;if(e===this.#L["increment-button"]?i="increment":e===this.#L["decrement-button"]&&(i="decrement"),!(t.buttons>1||null===i)){this.setPointerCapture(t.pointerId);{let t,s=Date.now();e.setAttribute("data-pressed",""),this.setAttribute("pressed",i),this.addEventListener("pointerup",t=async()=>{this.removeEventListener("pointerup",t),this.removeEventListener("pointercancel",t);let i=Date.now()-s;i<100&&await Ae(100-i),e.removeAttribute("data-pressed"),this.removeAttribute("pressed")},{once:!0}),this.addEventListener("pointercancel",t)}{let e,s=null,n=Date.now(),{shiftKey:o}=t;this.dispatchEvent(new CustomEvent(i+"start",{bubbles:!0})),this.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{shiftKey:o}})),this.addEventListener("pointerup",e=()=>{this.removeEventListener("pointerup",e),this.removeEventListener("pointercancel",e),clearInterval(s),this.dispatchEvent(new CustomEvent(i+"end",{bubbles:!0}))}),this.addEventListener("pointercancel",e),s=setInterval((()=>{Date.now()-n>500&&this.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{shiftKey:o}}))}),100)}}}}customElements.define("x-stepper",Ei);class zi extends HTMLElement{static observedAttributes=["value"];static#S=Tt`<template><div id="preview"></div></template>`;static#A=Mt`:host{display:block;width:18px;height:18px;cursor:default;box-sizing:border-box;overflow:hidden}#preview{width:100%;height:100%;position:relative}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):"white"}set value(t){this.setAttribute("value",t)}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}#T=null;#L={};constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[zi.#A],this.#T.append(document.importNode(zi.#S.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#L[t.id]=t}connectedCallback(){this.#ss()}attributeChangedCallback(t){"value"===t&&this.#ss()}#ss(){this.#L.preview.style.background=this.value}}customElements.define("x-swatch",zi);class Si extends HTMLElement{static observedAttributes=["toggled","disabled"];static#S=Tt`<template><main id="main"><div id="indicator" part="indicator"><div id="indicator-track" part="indicator-track"><div id="indicator-thumb" part="indicator-thumb" style="transition: none;"></div></div></div><div id="description"><slot></slot></div></main></template>`;static#A=Mt`:host{display:block;width:fit-content;margin:2px 0}:host([disabled]){opacity:.4;pointer-events:none}#main{display:flex;align-items:center}#indicator{position:relative;width:34px;height:15px;display:flex;align-items:center}#indicator-track{display:flex;align-items:center;width:100%;height:65%;background:currentColor;border-radius:999px}#indicator-thumb{position:absolute;left:0;width:16px;height:16px;background:currentColor;border-radius:999px;transition:left .2s cubic-bezier(.4, 0, .2, 1)}:host([toggled]) #indicator-thumb{left:calc(100% - 16px)}:host([mixed]) #indicator-thumb{left:calc(50% - 16px / 2)}#description{flex:1}`;get toggled(){return this.hasAttribute("toggled")}set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}#T=null;#L={};#dt=0;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[Si.#A],this.#T.append(document.importNode(Si.#S.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#L[t.id]=t;this.addEventListener("pointerdown",(t=>this.#ut(t))),this.addEventListener("click",(t=>this.#$(t))),this.addEventListener("keydown",(t=>this.#mt(t)))}connectedCallback(){Ae(100).then((()=>this.#L["indicator-thumb"].style.transition=null)),this.#ft()}disconnectedCallback(){this.#L["indicator-thumb"].style.transition="none"}attributeChangedCallback(t){"toggled"===t?this.#Ot():"disabled"===t&&this.#Nt()}#ft(){this.setAttribute("role","switch"),this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#dt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#dt>0?this.#dt:0),this.#dt=0)}#Ot(){this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled)}#Nt(){this.#ft()}#ut(t){if(t.buttons>1)t.preventDefault();else if(!1===this.matches(":focus")){t.preventDefault();let e=$e(this.parentNode,"[tabindex]");e&&e.focus()}}async#$(t){this.mixed?this.mixed=!1:this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("toggle"))}#mt(t){"Enter"!==t.code&&"NumpadEnter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.click())}}customElements.define("x-switch",Si);class Ai extends HTMLElement{static observedAttributes=["selected","disabled"];static#S=Tt`<template><div id="selection-indicator" part="selection-indicator"></div><div id="content"><slot></slot></div></template>`;static#A=Mt`:host{position:relative;display:flex;align-items:center;justify-content:center;min-height:30px;padding:2px 12px;box-sizing:border-box;cursor:default;user-select:none;-webkit-user-select:none;box-sizing:border-box;font-size:14px}:host(:focus){z-index:10;outline:0}#content{display:inherit;flex-flow:inherit;align-items:inherit;z-index:100}#selection-indicator{display:none;width:100%;height:0;background:var(--accent-color);position:absolute;bottom:0;left:0}:host([selected]) #selection-indicator{display:block}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):""}set value(t){this.setAttribute("value",t)}get selected(){return this.hasAttribute("selected")}set selected(t){t?this.setAttribute("selected",""):this.removeAttribute("selected")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}#T=null;#L={};constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[Ai.#A],this.#T.append(document.importNode(Ai.#S.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#L[t.id]=t;this.addEventListener("pointerdown",(t=>this.#ut(t)))}connectedCallback(){this.#ft()}attributeChangedCallback(t){("selected"===t||"disabled"===t)&&this.#ft()}animateSelectionIndicator(t){return new Promise((async e=>{if("0px"!==this.#L["selection-indicator"].style.height){let e=this.getBoundingClientRect(),i=t.getBoundingClientRect(),s=this.#L["selection-indicator"].animate([{left:"0px",width:e.width+"px"},{left:i.left-e.left+"px",width:i.width+"px"}],{duration:100,iterations:1,delay:0,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"});await s.finished}e()}))}#ft(){this.setAttribute("role","tab"),this.setAttribute("aria-selected",this.selected),this.setAttribute("aria-disabled",this.disabled),this.setAttribute("tabindex",this.selected?"0":"-1")}async#ut(t){if(!1===this.matches(":focus")){t.preventDefault();let e=$e(this.parentNode,"[tabindex]");e&&e.focus()}if(!(t.buttons>1)){this.setPointerCapture(t.pointerId);{let t,e=Date.now();this.setAttribute("pressed",""),this.addEventListener("pointerup",t=async()=>{if(this.removeEventListener("pointerup",t),this.removeEventListener("pointercancel",t),!0===this.selected){let t=Date.now()-e,i=100;t<i&&await Ae(i-t)}this.removeAttribute("pressed")}),this.addEventListener("pointercancel",t)}}}}customElements.define("x-tab",Ai);class Li extends HTMLElement{static#S=Tt`<template><slot></slot></template>`;static#A=Mt`:host{position:relative;display:flex;margin:0 auto;width:fit-content;max-width:100%;box-sizing:border-box;justify-content:center}::slotted(x-tab){flex:0}`;get value(){let t=this.querySelector("x-tab[selected]");return t?t.value:null}set value(t){let e=[...this.querySelectorAll("x-tab")],i=null===t?null:e.find((e=>e.value===t));for(let t of e)t.selected=t===i}#T=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[Li.#A],this.#T.append(document.importNode(Li.#S.content,!0)),this.addEventListener("click",(t=>this.#$(t))),this.addEventListener("keydown",(t=>this.#mt(t)))}connectedCallback(){this.setAttribute("role","tablist")}async#$(t){if(!(t.buttons>1)&&t.target.closest("x-tab")){let e=this.querySelectorAll("x-tab"),i=t.target.closest("x-tab"),s=this.querySelector("x-tab[selected]");if(i!==s){s&&await s.animateSelectionIndicator(i);for(let t of e)t.selected=t===i;this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}}}#mt(t){if("Enter"===t.code||"NumpadEnter"===t.code||"Space"===t.code){let e=t.target;e.querySelector("x-label"),t.preventDefault(),e.click()}else if("ArrowLeft"===t.code){let e=[...this.querySelectorAll("x-tab:not([disabled])")],i=this.querySelector('x-tab[tabindex="0"]');if(t.target,t.preventDefault(),i&&e.length>0){let t=e.indexOf(i),s=e[t-1]||e[e.length-1];i.tabIndex=-1,s.tabIndex=0,s.focus()}}else if("ArrowRight"===t.code){let e=[...this.querySelectorAll("x-tab:not([disabled])")],i=this.querySelector('x-tab[tabindex="0"]');if(t.target,t.preventDefault(),i&&e.length>0){let t=e.indexOf(i),s=e[t+1]||e[0];i.tabIndex=-1,s.tabIndex=0,s.focus()}}}}customElements.define("x-tabs",Li);class Ti extends HTMLElement{static#S=Tt`<template><div id="container"><div id="scope" part="scope"><slot id="scope-slot" name="scope"></slot></div><main id="main" part="main"><slot></slot><svg id="remove-button" part="remove-button" viewBox="0 0 100 100"><path id="remove-button-path"></path></svg></main></div></template>`;static#A=Mt`:host{display:inline-block;height:25px;box-sizing:border-box;overflow:hidden;color:var(--text-color);border-width:1px;border-style:solid}:host([toggled]){background:gray;color:#fff;outline:0}:host([disabled]){opacity:.5}:host([hidden]){display:none}:host(:focus){outline:0}#container{width:100%;height:100%;display:flex;align-items:center;justify-content:center}#scope{height:100%;padding:0 6px;display:none;align-items:center;justify-content:center;border-right-width:1px;border-right-style:solid}:host([scoped]) #scope{display:flex}#main{height:100%;padding:0 6px;display:flex;align-items:center;justify-content:center}#remove-button{display:none;opacity:.8;width:12px;height:12px;vertical-align:middle;margin-left:4px;fill:currentColor;color:inherit;--path-data:M 25 16 L 50 41 L 75 16 L 84 25 L 59 50 L 84 75 L 75 84 L 50 59 L 25 84 L 16 75 L 41 50 L 16 25 Z}:host([removable]) #remove-button{display:block}#remove-button:hover{background:rgba(0,0,0,.1);opacity:1}#remove-button path{fill:inherit;pointer-events:none}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get removable(){return this.hasAttribute("removable")}set removable(t){t?this.setAttribute("removable",""):this.removeAttribute("removable")}get toggled(){return this.hasAttribute("toggled")}set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}#T=null;#L={};#P=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[Ti.#A],this.#T.append(document.importNode(Ti.#S.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#L[t.id]=t;this.#L["scope-slot"].addEventListener("slotchange",(()=>this.#ns())),this.#L["remove-button"].addEventListener("click",(t=>this.#os(t)))}connectedCallback(){this.#as(),this.#ns(),De.addEventListener("themechange",this.#P=()=>this.#as()),this.closest("x-tags")?(this.tabIndex=0,this.removable=!1):this.closest("x-tagsinput")?(this.toggled=!1,this.tabIndex=0,this.removable=!0):this.removable=!1}disconnectedCallback(){De.removeEventListener("themechange",this.#P)}#os(t){t.buttons<=1&&this.dispatchEvent(new CustomEvent("remove",{bubbles:!0}))}#as(){let t=getComputedStyle(this.#L["remove-button"]).getPropertyValue("--path-data");this.#L["remove-button-path"].setAttribute("d",t)}#ns(){0===this.#L["scope-slot"].assignedElements().length?this.removeAttribute("scoped"):this.setAttribute("scoped","")}}customElements.define("x-tag",Ti);class Mi extends HTMLElement{static#S=Tt`<template><slot></slot></template>`;static#A=Mt`:host{display:flex;box-sizing:border-box;align-items:center;justify-content:flex-start}:host([hidden]){display:none}`;get value(){return[...this.children].filter((t=>"x-tag"===t.localName)).filter((t=>t.toggled)).map((t=>t.value)).filter((t=>null!==t))}set value(t){let e=[...this.children].filter((t=>"x-tag"===t.localName));for(let i of e)i.toggled=t.includes(i.value)}#T=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[Mi.#A],this.#T.append(document.importNode(Mi.#S.content,!0)),this.addEventListener("pointerdown",(t=>this.#ut(t))),this.addEventListener("click",(t=>this.#$(t))),this.addEventListener("keydown",(t=>this.#mt(t)))}#ut(t){if(t.buttons>1)t.preventDefault();else if(t.preventDefault(),!1===this.matches(":focus")){let t=$e(this.parentNode,"*[tabindex]:not(a)");this.addEventListener("pointerup",(()=>{t?t.focus():this.blur()}),{once:!0})}}#$(t){let e=t.target.closest("x-tag");e&&!1===t.defaultPrevented&&(e.toggled=!e.toggled,this.dispatchEvent(new CustomEvent("toggle",{detail:e})))}#mt(t){if(!1===t.defaultPrevented)if("Enter"===t.code||"NumpadEnter"===t.code||"Space"===t.code){let e=this.querySelector("x-tag:focus");e&&(t.preventDefault(),e.click())}else if("ArrowRight"===t.code){let t=this.querySelector("x-tag:focus");t&&(t.nextElementSibling?t.nextElementSibling.focus():t!==t.parentElement.firstElementChild&&t.parentElement.firstElementChild.focus())}else if("ArrowLeft"===t.code){let t=this.querySelector("x-tag:focus");t&&(t.previousElementSibling?t.previousElementSibling.focus():t!==t.parentElement.lastElementChild&&t.parentElement.lastElementChild.focus())}}}customElements.define("x-tags",Mi);class Di extends HTMLElement{static observedAttributes=["spellcheck","disabled"];static#S=Tt`<template><main id="main"><div id="tags"><slot></slot><span id="input" part="input" spellcheck="false" tabindex="0"></span></div></main><x-popover id="suggestions-popover" part="suggestions"><div id="suggested-tags"></div></x-popover></template>`;static#A=Mt`:host{display:block;position:relative;min-height:29px;font-size:12px}:host(:focus){z-index:10}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}#main{width:100%;height:100%;cursor:text}#tags{display:flex;flex-wrap:wrap}:host([mixed]) #tags{opacity:.7}#input{align-items:center;justify-content:flex-start;height:25px;margin:2px;padding:0 3px 0 6px;box-sizing:border-box;line-height:25px;color:inherit;outline:0;white-space:pre;cursor:text;user-select:text;-webkit-user-select:none;pointer-events:none}#input[contenteditable]:focus{flex-grow:1;pointer-events:all}#suggestions-popover{width:200px;max-height:200px;padding:4px;box-sizing:border-box}#suggestions-popover #suggested-tags{flex:1;overflow:auto}#suggestions-popover x-tag{display:block;margin:4px 0 0 0}#suggestions-popover x-tag:first-child{margin-top:0}`;get value(){return[...this.children].filter((t=>"x-tag"===t.localName)).map((t=>t.value)).filter((t=>null!==t))}get delimiter(){return this.hasAttribute("delimiter")?this.getAttribute("delimiter"):","}set delimiter(t){this.setAttribute("delimiter",t)}get spellcheck(){return this.hasAttribute("spellcheck")}set spellcheck(t){t?this.setAttribute("spellcheck",""):this.removeAttribute("spellcheck")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get suggestions(){return this.hasAttribute("suggestions")}set suggestions(t){t?this.setAttribute("suggestions",""):this.removeAttribute("suggestions")}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}#T=null;#L={};#dt=0;constructor(){super(),this.#T=this.attachShadow({mode:"closed",delegatesFocus:!0}),this.#T.adoptedStyleSheets=[De.themeStyleSheet,Di.#A],this.#T.append(document.importNode(Di.#S.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#L[t.id]=t;this.#L.input.addEventListener("focusin",(t=>this.#rs(t))),this.#L.input.addEventListener("focusout",(t=>this.#hs(t))),this.#T.addEventListener("pointerdown",(t=>this.#ri(t))),this.#T.addEventListener("remove",(t=>this.#os(t))),this.#T.addEventListener("keydown",(t=>this.#mt(t))),this.#L.input.addEventListener("input",(t=>this.#ne(t)))}connectedCallback(){this.#ls(),this.#ft()}attributeChangedCallback(t,e,i){e!==i&&("spellcheck"===t?this.#re():"disabled"===t&&this.#Nt())}clear(){let t=[...this.children].filter((t=>"x-tag"===t.localName));if(t.length>0){for(let e of t)e.remove(),this.dispatchEvent(new CustomEvent("remove",{detail:e}));this.#ds(),this.#ls(),this.dispatchEvent(new CustomEvent("change"))}}getSuggestions(t){return[]}#us(){let t=new Range;t.selectNodeContents(this.#L.input);let e=t.getBoundingClientRect();return 0===e.x&&0===e.width&&(e=this.#L.input.getBoundingClientRect(),e.width=20),e}#cs(){let t=this.#L.input.textContent;if(this.#L.input.textContent="",t.endsWith(this.delimiter)&&(t=t.substring(0,t.length-1)),t=t.trim(),t.length>0&&!1===this.value.includes(t)){let e;if(t.includes(":")){let[i,s]=t.split(":").map((t=>t.trim()));e=Tt`<x-tag class="tag" value="${t}" removable><x-label slot="scope">${i}</x-label><x-label>${s}</x-label></x-tag>`}else e=Tt`<x-tag class="tag" value="${t}" removable><x-label>${t}</x-label></x-tag>`;this.append(e),this.#ds(),this.#ls(),this.dispatchEvent(new CustomEvent("add",{detail:e})),this.dispatchEvent(new CustomEvent("change"))}}#ri(t){if(t.target===this.#L.main||t.target===this.#L.tags)t.preventDefault(),this.#L.input.setAttribute("contenteditable",""),this.#ps();else if(t.target===this.#L.input)this.#L.input.setAttribute("contenteditable","");else if(t.target.closest("x-popover")){t.preventDefault();let e=t.target.closest("x-tag");e&&(this.#L.input.textContent="",this.#L["suggestions-popover"].close(),this.append(e),this.dispatchEvent(new CustomEvent("add",{detail:e})),this.dispatchEvent(new CustomEvent("change")))}else t.target.closest("x-tag")&&(this.#L.input.focus(),this.#cs())}#os(t){t.stopPropagation();let e=t.target;e.remove(),this.#ls(),this.dispatchEvent(new CustomEvent("remove",{detail:e})),this.dispatchEvent(new CustomEvent("change"))}#re(){this.#L.input.spellcheck=this.spellcheck}#Nt(){this.#ft()}async#rs(){this.#L.input.setAttribute("contenteditable",""),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0})),await Ae(10),this.#L.input.matches(":focus")&&(this.#ps(),this.#ds())}#hs(){this.#cs(),this.#L.input.removeAttribute("contenteditable"),this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),this.#L["suggestions-popover"].close()}#ne(t){this.#L.input.textContent.includes(this.delimiter)&&this.#cs(),this.#ls(),this.dispatchEvent(new CustomEvent("input")),this.#ds(t.inputType)}#mt(t){if("Enter"===t.code||"NumpadEnter"===t.code)t.target===this.#L.input&&(t.preventDefault(),this.#cs());else if("Backspace"===t.code){if(t.target===this.#L.input){if(0===this.#L.input.textContent.length){let t=[...this.children].filter((t=>"x-tag"===t.localName)),e=t[t.length-1]||null;e&&(e.remove(),this.#ds(),this.#ls(),this.dispatchEvent(new CustomEvent("remove",{detail:e})),this.dispatchEvent(new CustomEvent("change")))}}else if("x-tag"===t.target.localName){let e=[...this.children].filter((t=>"x-tag"===t.localName)),i=t.target,s=e.indexOf(i),n=e[s+1]||null,o=e[s-1]||null;n?n.focus():o?o.focus():this.#L.input.focus(),i.remove(),this.#ls(),this.dispatchEvent(new CustomEvent("remove",{detail:i})),this.dispatchEvent(new CustomEvent("change"))}}else if("ArrowDown"===t.code){if(this.#L["suggestions-popover"].opened){let e=[...this.#L["suggested-tags"].children];if(e.length>1){t.preventDefault();let i=null;{let t=e.find((t=>t.toggled));if(t){t.toggled=!1;let s=e.indexOf(t);i=e[s+1]||e[0]}else i=e[0]}i.toggled=!0,i.scrollIntoViewIfNeeded();{let t=0,e=i.querySelector("x-label").textContent;this.#T.getSelection&&(t=this.#T.getSelection().getRangeAt(0).startOffset),this.#L.input.textContent=e,this.#ps(t,e.length)}}}}else if("ArrowUp"===t.code&&this.#L["suggestions-popover"].opened){let e=[...this.#L["suggested-tags"].children];if(e.length>1){t.preventDefault();let i=null;{let t=e.find((t=>t.toggled));if(t){t.toggled=!1;let s=e.indexOf(t);i=e[s-1]||e[e.length-1]}else i=e[e.length-1]}i.toggled=!0,i.scrollIntoViewIfNeeded();{let t=0,e=i.querySelector("x-label").textContent;this.#T.getSelection&&(t=this.#T.getSelection().getRangeAt(0).startOffset),this.#L.input.textContent=e,this.#ps(t,e.length)}}}}#_(){this.#ls()}#ls(){let t=this.querySelector(":scope > x-label");t&&(t.hidden=this.value.length>0||this.#L.input.textContent.length>0)}#ft(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#dt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#dt>0?this.#dt:0),this.#dt=0)}#ps(t=0,e=this.#L.input.textContent.length){let i=new Range;0===t&&e===this.#L.input.textContent.length?i.selectNodeContents(this.#L.input):(i.setStart(this.#L.input.firstChild,t),i.setEnd(this.#L.input.firstChild,e));let s=window.getSelection();s.removeAllRanges(),s.addRange(i)}#ds(t="insertText"){if(this.suggestions){let e=this.#L.input.textContent;if(this.#T.getSelection){let t=this.#T.getSelection().getRangeAt(0);!1===t.collapsed&&(e=e.substring(0,t.startOffset))}let i=this.getSuggestions(e);if(i.length>0&&"deleteContentBackward"!==t){let t=this.#L.input.textContent,e=i[0].querySelector("x-label").textContent,s=this.#L.input.firstChild;s&&(s.textContent=e,this.#ps(t.length,e.length))}if(0===i.length)this.#L["suggested-tags"].innerHTML="",!0===this.#L["suggestions-popover"].opened&&this.#L["suggestions-popover"].close();else{let s=this.#us();this.#L["suggested-tags"].innerHTML="",this.#L["suggested-tags"].append(...i),"deleteContentBackward"!==t&&e.length>0&&(i[0].toggled=!0),!1===this.#L["suggestions-popover"].opened||this.#L["suggestions-popover"].close(!1),this.#L["suggestions-popover"].open(s),this.#L["suggested-tags"].scrollTop=0}}}}customElements.define("x-tagsinput",Di);class Pi extends HTMLElement{static observedAttributes=["value","spellcheck","disabled","validation"];static#S=Tt`<template><main id="main"><slot></slot><div id="editor" contenteditable="plaintext-only" spellcheck="false"></div></main></template>`;static#A=Mt`:host{display:block;position:relative;width:100%;min-height:100px;box-sizing:border-box;background:#fff;font-size:12.5px;overflow:auto}:host(:hover){cursor:text}:host([mixed]){color:rgba(0,0,0,.7)}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}::-webkit-scrollbar{max-width:6px;max-height:6px;background:0 0}::-webkit-scrollbar-track{border-radius:25px}::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.2);border-radius:25px}::-webkit-scrollbar-corner{display:none}#main{display:flex;flex-flow:column;width:100%;min-height:100%}#editor{flex:1;padding:2px 6px;box-sizing:border-box;color:inherit;background:0 0;border:none;outline:0;font-family:inherit;font-size:inherit}`;get value(){return this.#L.editor.textContent}set value(t){this.#L.editor.textContent=t,"instant"===this.validation?this.reportValidity():"auto"!==this.validation&&"manual"!==this.validation||(this.#Qt||this.#te)&&this.reportValidity(),this.#ee()}get spellcheck(){return this.hasAttribute("spellcheck")}set spellcheck(t){t?this.setAttribute("spellcheck",""):this.removeAttribute("spellcheck")}get minLength(){return this.hasAttribute("minlength")?parseInt(this.getAttribute("minlength")):0}set minLength(t){this.setAttribute("minlength",t)}get maxLength(){return this.hasAttribute("maxlength")?parseInt(this.getAttribute("maxlength")):Infinity}set maxLength(t){this.setAttribute("maxlength",t)}get required(){return this.hasAttribute("required")}set required(t){t?this.setAttribute("required",""):this.removeAttribute("required")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get validation(){return this.hasAttribute("validation")?this.getAttribute("validation"):"auto"}set validation(t){this.setAttribute("validation",t)}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}get empty(){return this.hasAttribute("empty")}get error(){return this.hasAttribute("error")}#T=null;#L={};#ms="";#dt=0;#Qt=null;#te=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed",delegatesFocus:!0}),this.#T.adoptedStyleSheets=[Pi.#A],this.#T.append(document.importNode(Pi.#S.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#L[t.id]=t;this.addEventListener("click",(t=>this.#$(t))),this.addEventListener("focusin",(t=>this.#ie(t))),this.addEventListener("focusout",(t=>this.#se(t))),this.#L.editor.addEventListener("click",(t=>this.#gs(t))),this.#L.editor.addEventListener("input",(t=>this.#li(t))),"gecko"===Se()&&(this.#L.editor.setAttribute("contenteditable",""),this.#L.editor.addEventListener("beforeinput",(t=>{if("insertFromPaste"===t.inputType&&t.dataTransfer.types.includes("text/plain")){t.preventDefault();let e=window.getSelection(),i=e.getRangeAt(0);i.deleteContents(),i.insertNode(document.createTextNode(t.dataTransfer.getData("text/plain"))),e.collapseToEnd()}})))}connectedCallback(){this.#ft(),this.#ee(),"instant"===this.validation?this.reportValidity():"auto"!==this.validation&&"manual"!==this.validation||(this.#Qt||this.#te)&&this.reportValidity()}attributeChangedCallback(t){"value"===t?this.#J():"spellcheck"===t?this.#re():"disabled"===t?this.#Nt():"validation"===t&&this.#de()}reportValidity(){let t=new CustomEvent("beforevalidate",{bubbles:!1,cancelable:!0});return this.dispatchEvent(t),!1===t.defaultPrevented&&(this.value.length<this.minLength?this.#Qt={href:"#entered-text-is-too-short"}:this.value.length>this.maxLength?this.#Qt={href:"#entered-text-is-too-long"}:this.required&&0===this.value.length?this.#Qt={href:"#required-field"}:this.#Qt=null,this.#ue()),null===this.#Qt&&null===this.#te}setCustomValidity(t){this.#te=""===t?null:t,this.#ue()}#ue(){let t=this.#te||this.#Qt;t?this.setAttribute("error",""):this.removeAttribute("error");{let e=this.querySelector(':scope > x-tooltip[type="error"]');if(t&&this.matches(":focus")){if(e||(e=Pe("x-tooltip"),e.setAttribute("type","error"),this.append(e)),t.href){let i=t.args?Object.entries(t.args).map((([t,e])=>`${t}:${e}`)).join(","):"";e.innerHTML=`<x-message href="${t.href}" args="${i}"></x-message>`}else e.innerHTML=t;Ae(10).then((()=>{e.open(this)}))}else e&&e.close().then((()=>e.remove()))}}#ee(){0===this.value.length?this.setAttribute("empty",""):this.removeAttribute("empty")}#ft(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#dt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#dt>0?this.#dt:0),this.#dt=0)}#J(){this.value=this.hasAttribute("value")?this.getAttribute("value"):"",this.matches(":focus")&&document.execCommand("selectAll")}#re(){this.#L.editor.spellcheck=this.spellcheck}#Nt(){this.#L.editor.disabled=this.disabled,this.#ft()}#de(){"instant"===this.validation?this.reportValidity():"auto"!==this.validation&&"manual"!==this.validation||(this.#Qt||this.#te)&&this.reportValidity()}#$(){this.#ue()}#ie(){this.#ms=this.value,this.#ue(),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}))}#se(){this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),this.#T.getSelection&&this.#T.getSelection().collapse(this.#L.main),"auto"===this.validation||"instant"===this.validation?this.reportValidity():"manual"===this.validation&&this.#ue(),null!==(this.#Qt||this.#te)||this.value===this.#ms&&!this.mixed||(this.mixed=!1,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))}#gs(t){t.detail>=4&&document.execCommand("selectAll")}#li(t){this.dispatchEvent(new CustomEvent("input",{bubbles:!0})),this.#ee(),"instant"===this.validation?this.reportValidity():"auto"!==this.validation&&"manual"!==this.validation||(this.#Qt||this.#te)&&this.reportValidity()}}customElements.define("x-texteditor",Pi);class Ri extends HTMLElement{static observedAttributes=["type"];static#bs=Tt`<template><svg data-type="ring" viewBox="0 0 100 100"><circle cx="50" cy="50" r="40"><animate attributeName="stroke-dasharray" values="0,1000; 200,1000; 245,1000" begin="0s" dur="2s" calcMode="spline" keyTimes="0; 0.5; 1" keySplines="0.8 0.25 0.25 0.9; 0.8 0.25 0.25 0.9" repeatCount="indefinite"></animate><animate attributeName="stroke-dashoffset" values="0px;0px;-260px" begin="0s" dur="2s" keyTimes="0; 0.5; 1" repeatCount="indefinite"></animate><animateTransform type="rotate" additive="sum" attributeName="transform" values="0;360" begin="0s" dur="2s" fill="freeze" repeatCount="indefinite" keyTimes="0; 1"></animateTransform></circle></svg></template>`;static#fs=Tt`<template><svg data-type="spin" viewBox="0 0 100 100"><rect transform="rotate(  0 50 50) translate(0 -38)"></rect><rect transform="rotate( 30 50 50) translate(0 -38)"></rect><rect transform="rotate( 60 50 50) translate(0 -38)"></rect><rect transform="rotate( 90 50 50) translate(0 -38)"></rect><rect transform="rotate(120 50 50) translate(0 -38)"></rect><rect transform="rotate(150 50 50) translate(0 -38)"></rect><rect transform="rotate(180 50 50) translate(0 -38)"></rect><rect transform="rotate(210 50 50) translate(0 -38)"></rect><rect transform="rotate(240 50 50) translate(0 -38)"></rect><rect transform="rotate(270 50 50) translate(0 -38)"></rect><rect transform="rotate(300 50 50) translate(0 -38)"></rect><rect transform="rotate(330 50 50) translate(0 -38)"></rect></svg></template>`;static#A=Mt`:host{display:block;width:30px;height:30px;box-sizing:border-box}:host([hidden]){display:none}:host([type=ring]){color:#4285f4}:host([type=spin]){color:#404040}svg{color:inherit;width:100%;height:100%}svg[data-type=ring] circle{fill:none;stroke:currentColor;stroke-linecap:round;stroke-width:10px;stroke-dasharray:10,1000;transform-box:fill-box;transform-origin:50% 50%}svg[data-type=spin] rect{x:46.5px;y:40px;width:7px;height:22px;rx:5px;ry:5px;fill:currentColor;animation-name:spin-animation;animation-duration:1s;animation-timing-function:linear;animation-iteration-count:infinite;animation-delay:0s}svg[data-type=spin] rect:first-child{animation-delay:calc(1s *  1/12)}svg[data-type=spin] rect:nth-child(2){animation-delay:calc(1s *  2/12)}svg[data-type=spin] rect:nth-child(3){animation-delay:calc(1s *  3/12)}svg[data-type=spin] rect:nth-child(4){animation-delay:calc(1s *  4/12)}svg[data-type=spin] rect:nth-child(5){animation-delay:calc(1s *  5/12)}svg[data-type=spin] rect:nth-child(6){animation-delay:calc(1s *  6/12)}svg[data-type=spin] rect:nth-child(7){animation-delay:calc(1s *  7/12)}svg[data-type=spin] rect:nth-child(8){animation-delay:calc(1s *  8/12)}svg[data-type=spin] rect:nth-child(9){animation-delay:calc(1s *  9/12)}svg[data-type=spin] rect:nth-child(10){animation-delay:calc(1s * 10/12)}svg[data-type=spin] rect:nth-child(11){animation-delay:calc(1s * 11/12)}svg[data-type=spin] rect:nth-child(12){animation-delay:calc(1s * 12/12)}@keyframes spin-animation{0%{opacity:1}100%{opacity:0}}`;get type(){return this.hasAttribute("type")?this.getAttribute("type"):"ring"}set type(t){this.setAttribute("type",t)}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}#T=null;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[Ri.#A]}connectedCallback(){this.#_()}attributeChangedCallback(t,e,i){e!==i&&"type"===t&&this.#_()}#_(){let t=this.#T.firstElementChild,e="ring"===this.type?Ri.#bs:Ri.#fs;null===t?this.#T.append(document.importNode(e.content,!0)):t.dataset.type!==this.type&&t.replaceWith(document.importNode(e.content,!0)),!1===this.hasAttribute("type")&&this.setAttribute("type",this.type)}}customElements.define("x-throbber",Ri);class $i extends HTMLElement{static observedAttributes=["disabled"];static#S=Tt`<template><slot></slot></template>`;static#A=Mt`:host{display:none;bottom:-30px;position:fixed;padding:3px 10px;width:fit-content;height:fit-content;max-width:300px;box-sizing:border-box;pointer-events:none;border-width:1px;border-style:solid;font-size:12px;z-index:99999;--align:bottom;--whitespace:8px;--open-transition:0 opacity cubic-bezier(0.4, 0, 0.2, 1);--close-transition:0 opacity cubic-bezier(0.4, 0, 0.2, 1)}:host([animating]),:host([opened]){display:block}`;get type(){return this.hasAttribute("type")?this.getAttribute("type"):"hint"}set type(t){this.setAttribute("type",t)}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get opened(){return this.hasAttribute("opened")}#T=null;#L={};#Si=null;#Ai;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[$i.#A],this.#T.append(document.importNode($i.#S.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#L[t.id]=t}attributeChangedCallback(t){"disabled"===t&&this.disabled&&this.opened&&this.close()}open(t,e=!0){return new Promise((async i=>{if(!1===this.opened&&this.isConnected){if(this.setAttribute("opened",""),this.#Ti(t),this.#Si=Ie(this),this.#Si&&this.#Si.addEventListener("scroll",this.#Ai=()=>{this.close()},{once:!0}),e){let t=getComputedStyle(this).getPropertyValue("--open-transition"),[e,i,s]=ni(t);"opacity"===e&&await this.animate({opacity:["0","1"]},{duration:i,easing:s}).finished}this.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:this}))}i()}))}close(t=!0){return new Promise((async e=>{if(!0===this.opened){if(this.removeAttribute("opened"),this.dispatchEvent(new CustomEvent("close",{bubbles:!0,detail:this})),this.#Si.removeEventListener("scroll",this.#Ai),t){let t=getComputedStyle(this).getPropertyValue("--close-transition"),[e,i,s]=ni(t);this.setAttribute("animating",""),"opacity"===e&&await this.animate({opacity:["1","0"]},{duration:i,easing:s}).finished}this.removeAttribute("animating")}e()}))}#Ti(t){let e=getComputedStyle(this).getPropertyValue("--align").trim();parseInt(getComputedStyle(this).borderWidth);let i=parseInt(getComputedStyle(this).getPropertyValue("--whitespace")),s=0,n=0,o=null;this.style.maxWidth=null,this.style.maxHeight=null,this.style.left="0px",this.style.top="0px";{let e=a(this.getBoundingClientRect());0===e.top&&0===e.left||(s=-e.left,n=-e.top),o=t instanceof DOMPoint?new DOMRect(t.x,t.y,0,0):t instanceof DOMRect?t:t instanceof Element?t.getBoundingClientRect():new DOMRect}if("bottom"===e||"top"===e){let t=(t=!1)=>{this.style.maxHeight=null;let e=a(this.getBoundingClientRect()),s=0;if(this.style.top=n+o.bottom+i+"px",e=a(this.getBoundingClientRect()),s=e.bottom+8-window.innerHeight,t&&s>0){let t=e.height-s;s=0,this.style.maxHeight=t+"px"}return s},r=(t=!1)=>{this.style.maxHeight=null;let e=a(this.getBoundingClientRect()),s=0;if(this.style.top=n+o.top-i-e.height+"px",e=a(this.getBoundingClientRect()),s=-(e.top-8),t&&s>0){let t=e.height-s;s=0,this.style.maxHeight=t+"px",this.style.top=n+o.top-i-t+"px"}return s},h=()=>{this.style.maxWidth=null;let t=a(this.getBoundingClientRect()),e=0,i=0;return this.style.left=s+o.left+o.width/2-t.width/2+"px",t=a(this.getBoundingClientRect()),e=-(t.left-8),i=t.right+8-window.innerWidth,[e,i]},l=(t=!1)=>{this.style.maxWidth=null;let e=a(this.getBoundingClientRect()),i=0;if(this.style.left=s+window.innerWidth-8-e.width+"px",e=a(this.getBoundingClientRect()),i=-(e.left-8),t&&i>0){let t=e.width-i;i=0,this.style.maxWidth=t+"px",this.style.left=s+window.innerWidth-8-t+"px"}return i},d=(t=!1)=>{this.style.maxWidth=null;let e=a(this.getBoundingClientRect()),i=0;if(this.style.left=s+8+"px",e=a(this.getBoundingClientRect()),i=e.right+8-window.innerWidth,t&&i>0){let t=e.width-i;i=0,this.style.maxWidth=t+"px"}return i};if("bottom"===e){let e=t();if(e>0){let i=r();i>0&&(i>e?t(!0):r(!0))}}else if("top"===e){let e=r();if(e>0){let i=t();i>0&&(i>e?r(!0):t(!0))}}{let[t,e]=h();e>0?(t=l(),t>0&&l(!0)):t>0&&(e=d(),e>0&&d(!0))}}else if("right"===e||"left"===e){let t=(t=!1)=>{this.style.maxWidth=null;let e=a(this.getBoundingClientRect()),n=0;if(this.style.left=s+o.right+i+"px",e=a(this.getBoundingClientRect()),n=e.right+8-window.innerWidth,t&&n>0){let t=e.width-n;n=0,this.style.maxWidth=t+"px"}return n},r=(t=!1)=>{this.style.maxWidth=null;let e=a(this.getBoundingClientRect()),n=0;if(this.style.left=s+o.left-i-e.width+"px",e=a(this.getBoundingClientRect()),n=-(e.left-8),t&&n>0){let t=e.width-n;n=0,this.style.maxWidth=t+"px",this.style.left=s+o.left-i-t+"px"}return n},h=()=>{this.style.maxHeight=null;let t=a(this.getBoundingClientRect()),e=0,i=0;return this.style.top=n+o.top+o.height/2-t.height/2+"px",t=a(this.getBoundingClientRect()),e=-(t.top-8),i=t.bottom+8-window.innerHeight,[e,i]},l=(t=!1)=>{this.style.maxHeight=null;let e=a(this.getBoundingClientRect()),i=0;if(this.style.top=n+window.innerHeight-8-e.height+"px",e=a(this.getBoundingClientRect()),i=-(e.top-8),t&&i>0){let t=e.height-i;i=0,this.style.maxHeight=t+"px",this.style.top=n+window.innerHeight-8-t+"px"}return i},d=(t=!1)=>{this.style.maxHeight=null;let e=a(this.getBoundingClientRect()),i=0;if(this.style.top=n+8+"px",e=a(this.getBoundingClientRect()),i=e.bottom+8-window.innerHeight,t&&i>0){let t=e.height-i;i=0,this.style.maxHeight=t+"px"}return i};if("right"===e){let e=t();if(e>0){let i=r();i>0&&(i>e?t(!0):r(!0))}}else if("left"===e){let e=r();if(e>0){let i=t();i>0&&(i>e?r(!0):t(!0))}}{let[t,e]=h();e>0?(t=l(),t>0&&l(!0)):t>0&&(e=d(),e>0&&d(!0))}}}}customElements.define("x-tooltip",$i);let{PI:Ii,sqrt:Oi,atan2:Fi,sin:Ni,cos:Bi,pow:ji}=Math;class Hi extends HTMLElement{static observedAttributes=["value"];static#S=Tt`<template><x-box vertical><div id="huesat-slider" part="slider"><img id="huesat-image"><div id="huesat-marker"></div></div><div id="value-slider" part="slider"><div id="value-slider-track"><div id="value-slider-marker"></div></div></div><div id="alpha-slider" part="slider"><div id="alpha-slider-gradient"></div><div id="alpha-slider-track"><div id="alpha-slider-marker"></div></div></div></x-box></template>`;static#A=Mt`:host{display:block;width:100%;user-select:none;-webkit-user-select:none;--wheel-max-width:none}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}#huesat-slider{display:flex;position:relative;width:100%;max-width:var(--wheel-max-width);margin:0 auto;height:auto;touch-action:pinch-zoom}#huesat-image{width:100%;height:100%;border-radius:999px;pointer-events:none}#huesat-marker{position:absolute;top:0;left:0;width:var(--marker-size);height:var(--marker-size);transform:translate(calc(var(--marker-size)/ -2),calc(var(--marker-size)/ -2));box-sizing:border-box;background:rgba(0,0,0,.3);border:3px solid #fff;border-radius:999px;box-shadow:0 0 3px #000;--marker-size:20px}#value-slider{width:100%;height:30px;margin-top:10px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pinch-zoom;--marker-width:18px}:host([size=small]) #value-slider{height:24px}:host([size=large]) #value-slider{height:35px}#value-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#value-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#alpha-slider{position:relative;display:none;width:100%;height:30px;margin-top:14px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pinch-zoom;--marker-width:18px;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([alphaslider]) #alpha-slider{display:block}:host([size=small]) #alpha-slider{height:24px}:host([size=large]) #alpha-slider{height:35px}#alpha-slider-gradient{position:absolute;top:0;left:0;width:100%;height:100%}#alpha-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#alpha-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):"hsla(0, 0%, 100%, 1)"}set value(t){this.setAttribute("value",t)}get size(){let t=this.getAttribute("size");return"small"===t||"large"===t?t:null}set size(t){"small"===t||"large"===t?this.setAttribute("size",t):this.removeAttribute("size")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}#T=null;#L={};#B=0;#j=0;#Di=100;#U=1;#xs=!1;#ws=!1;#X=!1;constructor(){super(),this.#T=this.attachShadow({mode:"closed"}),this.#T.adoptedStyleSheets=[Hi.#A],this.#T.append(document.importNode(Hi.#S.content,!0));for(let t of this.#T.querySelectorAll("[id]"))this.#L[t.id]=t;this.#L["huesat-slider"].addEventListener("pointerdown",(t=>this.#vs(t))),this.#L["value-slider"].addEventListener("pointerdown",(t=>this.#ys(t))),this.#L["alpha-slider"].addEventListener("pointerdown",(t=>this.#Y(t)))}async connectedCallback(){this.#_(),""===this.#L["huesat-image"].src&&(this.#L["huesat-image"].src=await C())}attributeChangedCallback(t,e,i){e!==i&&"value"===t&&this.#J()}#_(){this.#ks(),this.#Cs(),this.#Es(),this.#nt(),this.#ot()}#ks(){let t=this.#B,e=this.#j,i=100,s=n*t/180;let o=e/100*i/2,a=50,r=(i-(50+o*Bi(s)))/i*100,h=(a-o*Ni(s))/i*100;this.#L["huesat-marker"].style.left=r+"%",this.#L["huesat-marker"].style.top=h+"%"}#Cs(){this.#L["value-slider-marker"].style.left=100-r(this.#Di,0,100,2)+"%"}#Es(){let t=v([this.#B,this.#j,100,1],"hsva","hex");this.#L["value-slider"].style.background=`linear-gradient(to right, rgba(0,0,0,0), rgba(0,0,0,1)), ${t}`}#nt(){this.#L["alpha-slider-marker"].style.left=r(100*(1-this.#U),0,100,2)+"%"}#ot(){let[t,e,i]=w(this.#B,this.#j,this.#Di).map((t=>o(t,0)));this.#L["alpha-slider-gradient"].style.background=`\n      linear-gradient(to right, rgba(${t}, ${e}, ${i}, 1), rgba(${t}, ${e}, ${i}, 0))\n    `}#J(){if(!1===this.#xs&&!1===this.#ws&&!1===this.#X){let[t,e,i,s]=(new S).parse(this.value,"hsva");this.#B=t,this.#j=e,this.#Di=i,this.#U=s,this.#_()}}#vs(t){if(t.buttons>1||this.#xs)return;let e,i,s=this.#L["huesat-slider"].getBoundingClientRect();this.#xs=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.#L["huesat-slider"].style.cursor="default",this.#L["huesat-slider"].setPointerCapture(t.pointerId);let n=(t,e)=>{let i=s.width/2,n=t-s.left-i,a=e-s.top-i,r=ji(n,2)+ji(a,2),h=Fi(a,n);r>ji(i,2)&&(n=i*Bi(h),a=i*Ni(h),r=ji(n,2)+ji(a,2),h=Fi(a,n)),this.#B=o((h+Ii)/(2*Ii)*360,3),this.#j=o(Oi(r)/i*100,3),this.value=v([this.#B,this.#j,this.#Di,this.#U],"hsva","hsla"),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.#ks(),this.#Es(),this.#ot()};n(t.clientX,t.clientY),this.#L["huesat-slider"].addEventListener("pointermove",e=t=>{n(t.clientX,t.clientY)}),this.#L["huesat-slider"].addEventListener("pointerup",i=t=>{this.#L["huesat-slider"].removeEventListener("pointermove",e),this.#L["huesat-slider"].removeEventListener("pointerup",i),this.#L["huesat-slider"].removeEventListener("pointercancel",i),this.#L["huesat-slider"].style.cursor=null,this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#xs=!1}),this.#L["huesat-slider"].addEventListener("pointercancel",i)}#ys(t){if(t.buttons>1||this.#ws)return;let e,i,s=this.#L["value-slider-track"].getBoundingClientRect();this.#ws=!0,this.#L["value-slider"].style.cursor="default",this.#L["value-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let n=t=>{let e=100-(t-s.x)/s.width*100;e=r(e,0,100,2),e!==this.#Di&&(this.#Di=e,this.value=v([this.#B,this.#j,this.#Di,this.#U],"hsva","hsla"),this.#Cs(),this.#ot(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};n(t.clientX),this.#L["value-slider"].addEventListener("pointermove",e=t=>{n(t.clientX)}),this.#L["value-slider"].addEventListener("pointerup",i=()=>{this.#L["value-slider"].removeEventListener("pointermove",e),this.#L["value-slider"].removeEventListener("pointerup",i),this.#L["value-slider"].removeEventListener("pointercancel",i),this.#L["value-slider"].style.cursor=null,this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#ws=!1}),this.#L["value-slider"].addEventListener("pointercancel",i)}#Y(t){if(t.buttons>1||this.#X)return;let e,i,s=this.#L["alpha-slider-track"].getBoundingClientRect();this.#X=!0,this.#L["alpha-slider"].style.cursor="default",this.#L["alpha-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let n=t=>{let e=1-(t-s.x)/s.width;e=r(e,0,1,2),e!==this.#U&&(this.#U=e,this.value=v([this.#B,this.#j,this.#Di,this.#U],"hsva","hsla"),this.#nt(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};n(t.clientX),this.#L["alpha-slider"].addEventListener("pointermove",e=t=>{n(t.clientX)}),this.#L["alpha-slider"].addEventListener("pointerup",i=()=>{this.#L["alpha-slider"].removeEventListener("pointermove",e),this.#L["alpha-slider"].removeEventListener("pointerup",i),this.#L["alpha-slider"].removeEventListener("pointercancel",i),this.#L["alpha-slider"].style.cursor=null,this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#X=!1}),this.#L["alpha-slider"].addEventListener("pointercancel",i)}}customElements.define("x-wheelcolorpicker",Hi);export{De as default};